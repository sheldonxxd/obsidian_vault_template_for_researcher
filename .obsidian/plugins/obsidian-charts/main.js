/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository (https://github.com/phibr0/obsidian-dictionary)
*/

var ju=Object.create;var Di=Object.defineProperty;var Nu=Object.getOwnPropertyDescriptor;var $u=Object.getOwnPropertyNames;var Hu=Object.getPrototypeOf,Vu=Object.prototype.hasOwnProperty;var Ra=n=>Di(n,"__esModule",{value:!0});var Gs=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Wu=(n,t)=>{Ra(n);for(var e in t)Di(n,e,{get:t[e],enumerable:!0})},Yu=(n,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $u(t))!Vu.call(n,i)&&i!=="default"&&Di(n,i,{get:()=>t[i],enumerable:!(e=Nu(t,i))||e.enumerable});return n},Ae=n=>Yu(Ra(Di(n!=null?ju(Hu(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var Xl=Gs(($r,Hr)=>{(function(n,t){typeof $r=="object"&&typeof Hr!="undefined"?Hr.exports=t():typeof define=="function"&&define.amd?define(t):n.chroma=t()})($r,function(){"use strict";for(var n=function(u,d,g){return d===void 0&&(d=0),g===void 0&&(g=1),u<d?d:u>g?g:u},t=function(u){u._clipped=!1,u._unclipped=u.slice(0);for(var d=0;d<=3;d++)d<3?((u[d]<0||u[d]>255)&&(u._clipped=!0),u[d]=n(u[d],0,255)):d===3&&(u[d]=n(u[d],0,1));return u},e={},i=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<s.length;i+=1){var r=s[i];e["[object "+r+"]"]=r.toLowerCase()}var a=function(u){return e[Object.prototype.toString.call(u)]||"object"},o=function(u,d){return d===void 0&&(d=null),u.length>=3?Array.prototype.slice.call(u):a(u[0])=="object"&&d?d.split("").filter(function(g){return u[0][g]!==void 0}).map(function(g){return u[0][g]}):u[0]},l=function(u){if(u.length<2)return null;var d=u.length-1;return a(u[d])=="string"?u[d].toLowerCase():null},c=Math.PI,h={clip_rgb:t,limit:n,type:a,unpack:o,last:l,PI:c,TWOPI:c*2,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},f={format:{},autodetect:[]},p=h.last,m=h.clip_rgb,v=h.type,k=function(){for(var d=[],g=arguments.length;g--;)d[g]=arguments[g];var x=this;if(v(d[0])==="object"&&d[0].constructor&&d[0].constructor===this.constructor)return d[0];var M=p(d),C=!1;if(!M){C=!0,f.sorted||(f.autodetect=f.autodetect.sort(function(j,B){return B.p-j.p}),f.sorted=!0);for(var S=0,R=f.autodetect;S<R.length;S+=1){var A=R[S];if(M=A.test.apply(A,d),M)break}}if(f.format[M]){var z=f.format[M].apply(null,C?d:d.slice(0,-1));x._rgb=m(z)}else throw new Error("unknown format: "+d);x._rgb.length===3&&x._rgb.push(1)};k.prototype.toString=function(){return v(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var _=k,E=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(E.Color,[null].concat(u)))};E.Color=_,E.version="2.1.2";var T=E,I=h.unpack,F=Math.max,L=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=I(u,"rgb"),x=g[0],M=g[1],C=g[2];x=x/255,M=M/255,C=C/255;var S=1-F(x,F(M,C)),R=S<1?1/(1-S):0,A=(1-x-S)*R,z=(1-M-S)*R,j=(1-C-S)*R;return[A,z,j,S]},V=L,$=h.unpack,G=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=$(u,"cmyk");var g=u[0],x=u[1],M=u[2],C=u[3],S=u.length>4?u[4]:1;return C===1?[0,0,0,S]:[g>=1?0:255*(1-g)*(1-C),x>=1?0:255*(1-x)*(1-C),M>=1?0:255*(1-M)*(1-C),S]},K=G,et=h.unpack,lt=h.type;_.prototype.cmyk=function(){return V(this._rgb)},T.cmyk=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["cmyk"])))},f.format.cmyk=K,f.autodetect.push({p:2,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=et(u,"cmyk"),lt(u)==="array"&&u.length===4)return"cmyk"}});var rt=h.unpack,vt=h.last,st=function(u){return Math.round(u*100)/100},J=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=rt(u,"hsla"),x=vt(u)||"lsa";return g[0]=st(g[0]||0),g[1]=st(g[1]*100)+"%",g[2]=st(g[2]*100)+"%",x==="hsla"||g.length>3&&g[3]<1?(g[3]=g.length>3?g[3]:1,x="hsla"):g.length=3,x+"("+g.join(",")+")"},ht=J,he=h.unpack,te=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=he(u,"rgba");var g=u[0],x=u[1],M=u[2];g/=255,x/=255,M/=255;var C=Math.min(g,x,M),S=Math.max(g,x,M),R=(S+C)/2,A,z;return S===C?(A=0,z=Number.NaN):A=R<.5?(S-C)/(S+C):(S-C)/(2-S-C),g==S?z=(x-M)/(S-C):x==S?z=2+(M-g)/(S-C):M==S&&(z=4+(g-x)/(S-C)),z*=60,z<0&&(z+=360),u.length>3&&u[3]!==void 0?[z,A,R,u[3]]:[z,A,R]},ne=te,It=h.unpack,Ft=h.last,Ht=Math.round,zt=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=It(u,"rgba"),x=Ft(u)||"rgb";return x.substr(0,3)=="hsl"?ht(ne(g),x):(g[0]=Ht(g[0]),g[1]=Ht(g[1]),g[2]=Ht(g[2]),(x==="rgba"||g.length>3&&g[3]<1)&&(g[3]=g.length>3?g[3]:1,x="rgba"),x+"("+g.slice(0,x==="rgb"?3:4).join(",")+")")},Gt=zt,w=h.unpack,b=Math.round,y=function(){for(var u,d=[],g=arguments.length;g--;)d[g]=arguments[g];d=w(d,"hsl");var x=d[0],M=d[1],C=d[2],S,R,A;if(M===0)S=R=A=C*255;else{var z=[0,0,0],j=[0,0,0],B=C<.5?C*(1+M):C+M-C*M,X=2*C-B,Y=x/360;z[0]=Y+1/3,z[1]=Y,z[2]=Y-1/3;for(var it=0;it<3;it++)z[it]<0&&(z[it]+=1),z[it]>1&&(z[it]-=1),6*z[it]<1?j[it]=X+(B-X)*6*z[it]:2*z[it]<1?j[it]=B:3*z[it]<2?j[it]=X+(B-X)*(2/3-z[it])*6:j[it]=X;u=[b(j[0]*255),b(j[1]*255),b(j[2]*255)],S=u[0],R=u[1],A=u[2]}return d.length>3?[S,R,A,d[3]]:[S,R,A,1]},O=y,P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,D=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,q=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,H=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,mt=Math.round,Rt=function(u){u=u.toLowerCase().trim();var d;if(f.format.named)try{return f.format.named(u)}catch(it){}if(d=u.match(P)){for(var g=d.slice(1,4),x=0;x<3;x++)g[x]=+g[x];return g[3]=1,g}if(d=u.match(D)){for(var M=d.slice(1,5),C=0;C<4;C++)M[C]=+M[C];return M}if(d=u.match(q)){for(var S=d.slice(1,4),R=0;R<3;R++)S[R]=mt(S[R]*2.55);return S[3]=1,S}if(d=u.match(H)){for(var A=d.slice(1,5),z=0;z<3;z++)A[z]=mt(A[z]*2.55);return A[3]=+A[3],A}if(d=u.match(U)){var j=d.slice(1,4);j[1]*=.01,j[2]*=.01;var B=O(j);return B[3]=1,B}if(d=u.match(Z)){var X=d.slice(1,4);X[1]*=.01,X[2]*=.01;var Y=O(X);return Y[3]=+d[4],Y}};Rt.test=function(u){return P.test(u)||D.test(u)||q.test(u)||H.test(u)||U.test(u)||Z.test(u)};var yt=Rt,Bt=h.type;_.prototype.css=function(u){return Gt(this._rgb,u)},T.css=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["css"])))},f.format.css=yt,f.autodetect.push({p:5,test:function(u){for(var d=[],g=arguments.length-1;g-- >0;)d[g]=arguments[g+1];if(!d.length&&Bt(u)==="string"&&yt.test(u))return"css"}});var jt=h.unpack;f.format.gl=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=jt(u,"rgba");return g[0]*=255,g[1]*=255,g[2]*=255,g},T.gl=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["gl"])))},_.prototype.gl=function(){var u=this._rgb;return[u[0]/255,u[1]/255,u[2]/255,u[3]]};var ie=h.unpack,ye=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=ie(u,"rgb"),x=g[0],M=g[1],C=g[2],S=Math.min(x,M,C),R=Math.max(x,M,C),A=R-S,z=A*100/255,j=S/(255-A)*100,B;return A===0?B=Number.NaN:(x===R&&(B=(M-C)/A),M===R&&(B=2+(C-x)/A),C===R&&(B=4+(x-M)/A),B*=60,B<0&&(B+=360)),[B,z,j]},ge=ye,dn=h.unpack,Oe=Math.floor,Ne=function(){for(var u,d,g,x,M,C,S=[],R=arguments.length;R--;)S[R]=arguments[R];S=dn(S,"hcg");var A=S[0],z=S[1],j=S[2],B,X,Y;j=j*255;var it=z*255;if(z===0)B=X=Y=j;else{A===360&&(A=0),A>360&&(A-=360),A<0&&(A+=360),A/=60;var dt=Oe(A),at=A-dt,_t=j*(1-z),Ct=_t+it*(1-at),qt=_t+it*at,Ut=_t+it;switch(dt){case 0:u=[Ut,qt,_t],B=u[0],X=u[1],Y=u[2];break;case 1:d=[Ct,Ut,_t],B=d[0],X=d[1],Y=d[2];break;case 2:g=[_t,Ut,qt],B=g[0],X=g[1],Y=g[2];break;case 3:x=[_t,Ct,Ut],B=x[0],X=x[1],Y=x[2];break;case 4:M=[qt,_t,Ut],B=M[0],X=M[1],Y=M[2];break;case 5:C=[Ut,_t,Ct],B=C[0],X=C[1],Y=C[2];break}}return[B,X,Y,S.length>3?S[3]:1]},yi=Ne,xi=h.unpack,Ln=h.type;_.prototype.hcg=function(){return ge(this._rgb)},T.hcg=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hcg"])))},f.format.hcg=yi,f.autodetect.push({p:1,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=xi(u,"hcg"),Ln(u)==="array"&&u.length===3)return"hcg"}});var Ee=h.unpack,en=h.last,$e=Math.round,wi=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=Ee(u,"rgba"),x=g[0],M=g[1],C=g[2],S=g[3],R=en(u)||"auto";S===void 0&&(S=1),R==="auto"&&(R=S<1?"rgba":"rgb"),x=$e(x),M=$e(M),C=$e(C);var A=x<<16|M<<8|C,z="000000"+A.toString(16);z=z.substr(z.length-6);var j="0"+$e(S*255).toString(16);switch(j=j.substr(j.length-2),R.toLowerCase()){case"rgba":return"#"+z+j;case"argb":return"#"+j+z;default:return"#"+z}},Re=wi,Kt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,xt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ee=function(u){if(u.match(Kt)){(u.length===4||u.length===7)&&(u=u.substr(1)),u.length===3&&(u=u.split(""),u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]);var d=parseInt(u,16),g=d>>16,x=d>>8&255,M=d&255;return[g,x,M,1]}if(u.match(xt)){(u.length===5||u.length===9)&&(u=u.substr(1)),u.length===4&&(u=u.split(""),u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]+u[3]+u[3]);var C=parseInt(u,16),S=C>>24&255,R=C>>16&255,A=C>>8&255,z=Math.round((C&255)/255*100)/100;return[S,R,A,z]}throw new Error("unknown hex color: "+u)},Vt=ee,ki=h.type;_.prototype.hex=function(u){return Re(this._rgb,u)},T.hex=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hex"])))},f.format.hex=Vt,f.autodetect.push({p:4,test:function(u){for(var d=[],g=arguments.length-1;g-- >0;)d[g]=arguments[g+1];if(!d.length&&ki(u)==="string"&&[3,4,5,6,7,8,9].indexOf(u.length)>=0)return"hex"}});var Pc=h.unpack,la=h.TWOPI,Dc=Math.min,Oc=Math.sqrt,Ec=Math.acos,Rc=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=Pc(u,"rgb"),x=g[0],M=g[1],C=g[2];x/=255,M/=255,C/=255;var S,R=Dc(x,M,C),A=(x+M+C)/3,z=A>0?1-R/A:0;return z===0?S=NaN:(S=(x-M+(x-C))/2,S/=Oc((x-M)*(x-M)+(x-C)*(M-C)),S=Ec(S),C>M&&(S=la-S),S/=la),[S*360,z,A]},Ac=Rc,Lc=h.unpack,Cs=h.limit,pn=h.TWOPI,Ts=h.PITHIRD,gn=Math.cos,Fc=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=Lc(u,"hsi");var g=u[0],x=u[1],M=u[2],C,S,R;return isNaN(g)&&(g=0),isNaN(x)&&(x=0),g>360&&(g-=360),g<0&&(g+=360),g/=360,g<1/3?(R=(1-x)/3,C=(1+x*gn(pn*g)/gn(Ts-pn*g))/3,S=1-(R+C)):g<2/3?(g-=1/3,C=(1-x)/3,S=(1+x*gn(pn*g)/gn(Ts-pn*g))/3,R=1-(C+S)):(g-=2/3,S=(1-x)/3,R=(1+x*gn(pn*g)/gn(Ts-pn*g))/3,C=1-(S+R)),C=Cs(M*C*3),S=Cs(M*S*3),R=Cs(M*R*3),[C*255,S*255,R*255,u.length>3?u[3]:1]},Ic=Fc,zc=h.unpack,Bc=h.type;_.prototype.hsi=function(){return Ac(this._rgb)},T.hsi=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hsi"])))},f.format.hsi=Ic,f.autodetect.push({p:2,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=zc(u,"hsi"),Bc(u)==="array"&&u.length===3)return"hsi"}});var jc=h.unpack,Nc=h.type;_.prototype.hsl=function(){return ne(this._rgb)},T.hsl=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hsl"])))},f.format.hsl=O,f.autodetect.push({p:2,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=jc(u,"hsl"),Nc(u)==="array"&&u.length===3)return"hsl"}});var $c=h.unpack,Hc=Math.min,Vc=Math.max,Wc=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=$c(u,"rgb");var g=u[0],x=u[1],M=u[2],C=Hc(g,x,M),S=Vc(g,x,M),R=S-C,A,z,j;return j=S/255,S===0?(A=Number.NaN,z=0):(z=R/S,g===S&&(A=(x-M)/R),x===S&&(A=2+(M-g)/R),M===S&&(A=4+(g-x)/R),A*=60,A<0&&(A+=360)),[A,z,j]},Yc=Wc,Gc=h.unpack,qc=Math.floor,Uc=function(){for(var u,d,g,x,M,C,S=[],R=arguments.length;R--;)S[R]=arguments[R];S=Gc(S,"hsv");var A=S[0],z=S[1],j=S[2],B,X,Y;if(j*=255,z===0)B=X=Y=j;else{A===360&&(A=0),A>360&&(A-=360),A<0&&(A+=360),A/=60;var it=qc(A),dt=A-it,at=j*(1-z),_t=j*(1-z*dt),Ct=j*(1-z*(1-dt));switch(it){case 0:u=[j,Ct,at],B=u[0],X=u[1],Y=u[2];break;case 1:d=[_t,j,at],B=d[0],X=d[1],Y=d[2];break;case 2:g=[at,j,Ct],B=g[0],X=g[1],Y=g[2];break;case 3:x=[at,_t,j],B=x[0],X=x[1],Y=x[2];break;case 4:M=[Ct,at,j],B=M[0],X=M[1],Y=M[2];break;case 5:C=[j,at,_t],B=C[0],X=C[1],Y=C[2];break}}return[B,X,Y,S.length>3?S[3]:1]},Xc=Uc,Kc=h.unpack,Zc=h.type;_.prototype.hsv=function(){return Yc(this._rgb)},T.hsv=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hsv"])))},f.format.hsv=Xc,f.autodetect.push({p:2,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=Kc(u,"hsv"),Zc(u)==="array"&&u.length===3)return"hsv"}});var se={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Jc=h.unpack,ca=Math.pow,Qc=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=Jc(u,"rgb"),x=g[0],M=g[1],C=g[2],S=th(x,M,C),R=S[0],A=S[1],z=S[2],j=116*A-16;return[j<0?0:j,500*(R-A),200*(A-z)]},Ps=function(u){return(u/=255)<=.04045?u/12.92:ca((u+.055)/1.055,2.4)},Ds=function(u){return u>se.t3?ca(u,1/3):u/se.t2+se.t0},th=function(u,d,g){u=Ps(u),d=Ps(d),g=Ps(g);var x=Ds((.4124564*u+.3575761*d+.1804375*g)/se.Xn),M=Ds((.2126729*u+.7151522*d+.072175*g)/se.Yn),C=Ds((.0193339*u+.119192*d+.9503041*g)/se.Zn);return[x,M,C]},ha=Qc,eh=h.unpack,nh=Math.pow,ih=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=eh(u,"lab");var g=u[0],x=u[1],M=u[2],C,S,R,A,z,j;return S=(g+16)/116,C=isNaN(x)?S:S+x/500,R=isNaN(M)?S:S-M/200,S=se.Yn*Es(S),C=se.Xn*Es(C),R=se.Zn*Es(R),A=Os(3.2404542*C-1.5371385*S-.4985314*R),z=Os(-.969266*C+1.8760108*S+.041556*R),j=Os(.0556434*C-.2040259*S+1.0572252*R),[A,z,j,u.length>3?u[3]:1]},Os=function(u){return 255*(u<=.00304?12.92*u:1.055*nh(u,1/2.4)-.055)},Es=function(u){return u>se.t1?u*u*u:se.t2*(u-se.t0)},ua=ih,sh=h.unpack,rh=h.type;_.prototype.lab=function(){return ha(this._rgb)},T.lab=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["lab"])))},f.format.lab=ua,f.autodetect.push({p:2,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=sh(u,"lab"),rh(u)==="array"&&u.length===3)return"lab"}});var ah=h.unpack,oh=h.RAD2DEG,lh=Math.sqrt,ch=Math.atan2,hh=Math.round,uh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=ah(u,"lab"),x=g[0],M=g[1],C=g[2],S=lh(M*M+C*C),R=(ch(C,M)*oh+360)%360;return hh(S*1e4)===0&&(R=Number.NaN),[x,S,R]},fh=uh,dh=h.unpack,ph=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=dh(u,"rgb"),x=g[0],M=g[1],C=g[2],S=ha(x,M,C),R=S[0],A=S[1],z=S[2];return fh(R,A,z)},fa=ph,gh=h.unpack,mh=h.DEG2RAD,bh=Math.sin,_h=Math.cos,vh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=gh(u,"lch"),x=g[0],M=g[1],C=g[2];return isNaN(C)&&(C=0),C=C*mh,[x,_h(C)*M,bh(C)*M]},yh=vh,xh=h.unpack,wh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];u=xh(u,"lch");var g=u[0],x=u[1],M=u[2],C=yh(g,x,M),S=C[0],R=C[1],A=C[2],z=ua(S,R,A),j=z[0],B=z[1],X=z[2];return[j,B,X,u.length>3?u[3]:1]},da=wh,kh=h.unpack,Sh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=kh(u,"hcl").reverse();return da.apply(void 0,g)},Mh=Sh,Ch=h.unpack,Th=h.type;_.prototype.lch=function(){return fa(this._rgb)},_.prototype.hcl=function(){return fa(this._rgb).reverse()},T.lch=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["lch"])))},T.hcl=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["hcl"])))},f.format.lch=da,f.format.hcl=Mh,["lch","hcl"].forEach(function(u){return f.autodetect.push({p:2,test:function(){for(var d=[],g=arguments.length;g--;)d[g]=arguments[g];if(d=Ch(d,u),Th(d)==="array"&&d.length===3)return u}})});var Ph={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},mn=Ph,Dh=h.type;_.prototype.name=function(){for(var u=Re(this._rgb,"rgb"),d=0,g=Object.keys(mn);d<g.length;d+=1){var x=g[d];if(mn[x]===u)return x.toLowerCase()}return u},f.format.named=function(u){if(u=u.toLowerCase(),mn[u])return Vt(mn[u]);throw new Error("unknown color name: "+u)},f.autodetect.push({p:5,test:function(u){for(var d=[],g=arguments.length-1;g-- >0;)d[g]=arguments[g+1];if(!d.length&&Dh(u)==="string"&&mn[u.toLowerCase()])return"named"}});var Oh=h.unpack,Eh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=Oh(u,"rgb"),x=g[0],M=g[1],C=g[2];return(x<<16)+(M<<8)+C},Rh=Eh,Ah=h.type,Lh=function(u){if(Ah(u)=="number"&&u>=0&&u<=16777215){var d=u>>16,g=u>>8&255,x=u&255;return[d,g,x,1]}throw new Error("unknown num color: "+u)},Fh=Lh,Ih=h.type;_.prototype.num=function(){return Rh(this._rgb)},T.num=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["num"])))},f.format.num=Fh,f.autodetect.push({p:5,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u.length===1&&Ih(u[0])==="number"&&u[0]>=0&&u[0]<=16777215)return"num"}});var pa=h.unpack,ga=h.type,ma=Math.round;_.prototype.rgb=function(u){return u===void 0&&(u=!0),u===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ma)},_.prototype.rgba=function(u){return u===void 0&&(u=!0),this._rgb.slice(0,4).map(function(d,g){return g<3?u===!1?d:ma(d):d})},T.rgb=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["rgb"])))},f.format.rgb=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];var g=pa(u,"rgba");return g[3]===void 0&&(g[3]=1),g},f.autodetect.push({p:3,test:function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u=pa(u,"rgba"),ga(u)==="array"&&(u.length===3||u.length===4&&ga(u[3])=="number"&&u[3]>=0&&u[3]<=1))return"rgb"}});var Si=Math.log,zh=function(u){var d=u/100,g,x,M;return d<66?(g=255,x=-155.25485562709179-.44596950469579133*(x=d-2)+104.49216199393888*Si(x),M=d<20?0:-254.76935184120902+.8274096064007395*(M=d-10)+115.67994401066147*Si(M)):(g=351.97690566805693+.114206453784165*(g=d-55)-40.25366309332127*Si(g),x=325.4494125711974+.07943456536662342*(x=d-50)-28.0852963507957*Si(x),M=255),[g,x,M,1]},ba=zh,Bh=h.unpack,jh=Math.round,Nh=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];for(var g=Bh(u,"rgb"),x=g[0],M=g[2],C=1e3,S=4e4,R=.4,A;S-C>R;){A=(S+C)*.5;var z=ba(A);z[2]/z[0]>=M/x?S=A:C=A}return jh(A)},$h=Nh;_.prototype.temp=_.prototype.kelvin=_.prototype.temperature=function(){return $h(this._rgb)},T.temp=T.kelvin=T.temperature=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];return new(Function.prototype.bind.apply(_,[null].concat(u,["temp"])))},f.format.temp=f.format.kelvin=f.format.temperature=ba;var Hh=h.type;_.prototype.alpha=function(u,d){return d===void 0&&(d=!1),u!==void 0&&Hh(u)==="number"?d?(this._rgb[3]=u,this):new _([this._rgb[0],this._rgb[1],this._rgb[2],u],"rgb"):this._rgb[3]},_.prototype.clipped=function(){return this._rgb._clipped||!1},_.prototype.darken=function(u){u===void 0&&(u=1);var d=this,g=d.lab();return g[0]-=se.Kn*u,new _(g,"lab").alpha(d.alpha(),!0)},_.prototype.brighten=function(u){return u===void 0&&(u=1),this.darken(-u)},_.prototype.darker=_.prototype.darken,_.prototype.brighter=_.prototype.brighten,_.prototype.get=function(u){var d=u.split("."),g=d[0],x=d[1],M=this[g]();if(x){var C=g.indexOf(x);if(C>-1)return M[C];throw new Error("unknown channel "+x+" in mode "+g)}else return M};var Vh=h.type,Wh=Math.pow,Yh=1e-7,Gh=20;_.prototype.luminance=function(u){if(u!==void 0&&Vh(u)==="number"){if(u===0)return new _([0,0,0,this._rgb[3]],"rgb");if(u===1)return new _([255,255,255,this._rgb[3]],"rgb");var d=this.luminance(),g="rgb",x=Gh,M=function(S,R){var A=S.interpolate(R,.5,g),z=A.luminance();return Math.abs(u-z)<Yh||!x--?A:z>u?M(S,A):M(A,R)},C=(d>u?M(new _([0,0,0]),this):M(this,new _([255,255,255]))).rgb();return new _(C.concat([this._rgb[3]]))}return qh.apply(void 0,this._rgb.slice(0,3))};var qh=function(u,d,g){return u=Rs(u),d=Rs(d),g=Rs(g),.2126*u+.7152*d+.0722*g},Rs=function(u){return u/=255,u<=.03928?u/12.92:Wh((u+.055)/1.055,2.4)},re={},_a=h.type,va=function(u,d,g){g===void 0&&(g=.5);for(var x=[],M=arguments.length-3;M-- >0;)x[M]=arguments[M+3];var C=x[0]||"lrgb";if(!re[C]&&!x.length&&(C=Object.keys(re)[0]),!re[C])throw new Error("interpolation mode "+C+" is not defined");return _a(u)!=="object"&&(u=new _(u)),_a(d)!=="object"&&(d=new _(d)),re[C](u,d,g).alpha(u.alpha()+g*(d.alpha()-u.alpha()))};_.prototype.mix=_.prototype.interpolate=function(u,d){d===void 0&&(d=.5);for(var g=[],x=arguments.length-2;x-- >0;)g[x]=arguments[x+2];return va.apply(void 0,[this,u,d].concat(g))},_.prototype.premultiply=function(u){u===void 0&&(u=!1);var d=this._rgb,g=d[3];return u?(this._rgb=[d[0]*g,d[1]*g,d[2]*g,g],this):new _([d[0]*g,d[1]*g,d[2]*g,g],"rgb")},_.prototype.saturate=function(u){u===void 0&&(u=1);var d=this,g=d.lch();return g[1]+=se.Kn*u,g[1]<0&&(g[1]=0),new _(g,"lch").alpha(d.alpha(),!0)},_.prototype.desaturate=function(u){return u===void 0&&(u=1),this.saturate(-u)};var ya=h.type;_.prototype.set=function(u,d,g){g===void 0&&(g=!1);var x=u.split("."),M=x[0],C=x[1],S=this[M]();if(C){var R=M.indexOf(C);if(R>-1){if(ya(d)=="string")switch(d.charAt(0)){case"+":S[R]+=+d;break;case"-":S[R]+=+d;break;case"*":S[R]*=+d.substr(1);break;case"/":S[R]/=+d.substr(1);break;default:S[R]=+d}else if(ya(d)==="number")S[R]=d;else throw new Error("unsupported value for Color.set");var A=new _(S,M);return g?(this._rgb=A._rgb,this):A}throw new Error("unknown channel "+C+" in mode "+M)}else return S};var Uh=function(u,d,g){var x=u._rgb,M=d._rgb;return new _(x[0]+g*(M[0]-x[0]),x[1]+g*(M[1]-x[1]),x[2]+g*(M[2]-x[2]),"rgb")};re.rgb=Uh;var As=Math.sqrt,bn=Math.pow,Xh=function(u,d,g){var x=u._rgb,M=x[0],C=x[1],S=x[2],R=d._rgb,A=R[0],z=R[1],j=R[2];return new _(As(bn(M,2)*(1-g)+bn(A,2)*g),As(bn(C,2)*(1-g)+bn(z,2)*g),As(bn(S,2)*(1-g)+bn(j,2)*g),"rgb")};re.lrgb=Xh;var Kh=function(u,d,g){var x=u.lab(),M=d.lab();return new _(x[0]+g*(M[0]-x[0]),x[1]+g*(M[1]-x[1]),x[2]+g*(M[2]-x[2]),"lab")};re.lab=Kh;var Fn=function(u,d,g,x){var M,C,S,R;x==="hsl"?(S=u.hsl(),R=d.hsl()):x==="hsv"?(S=u.hsv(),R=d.hsv()):x==="hcg"?(S=u.hcg(),R=d.hcg()):x==="hsi"?(S=u.hsi(),R=d.hsi()):(x==="lch"||x==="hcl")&&(x="hcl",S=u.hcl(),R=d.hcl());var A,z,j,B,X,Y;x.substr(0,1)==="h"&&(M=S,A=M[0],j=M[1],X=M[2],C=R,z=C[0],B=C[1],Y=C[2]);var it,dt,at,_t;return!isNaN(A)&&!isNaN(z)?(z>A&&z-A>180?_t=z-(A+360):z<A&&A-z>180?_t=z+360-A:_t=z-A,dt=A+g*_t):isNaN(A)?isNaN(z)?dt=Number.NaN:(dt=z,(X==1||X==0)&&x!="hsv"&&(it=B)):(dt=A,(Y==1||Y==0)&&x!="hsv"&&(it=j)),it===void 0&&(it=j+g*(B-j)),at=X+g*(Y-X),new _([dt,it,at],x)},xa=function(u,d,g){return Fn(u,d,g,"lch")};re.lch=xa,re.hcl=xa;var Zh=function(u,d,g){var x=u.num(),M=d.num();return new _(x+g*(M-x),"num")};re.num=Zh;var Jh=function(u,d,g){return Fn(u,d,g,"hcg")};re.hcg=Jh;var Qh=function(u,d,g){return Fn(u,d,g,"hsi")};re.hsi=Qh;var tu=function(u,d,g){return Fn(u,d,g,"hsl")};re.hsl=tu;var eu=function(u,d,g){return Fn(u,d,g,"hsv")};re.hsv=eu;var nu=h.clip_rgb,Ls=Math.pow,Fs=Math.sqrt,Is=Math.PI,wa=Math.cos,ka=Math.sin,iu=Math.atan2,su=function(u,d,g){d===void 0&&(d="lrgb"),g===void 0&&(g=null);var x=u.length;g||(g=Array.from(new Array(x)).map(function(){return 1}));var M=x/g.reduce(function(dt,at){return dt+at});if(g.forEach(function(dt,at){g[at]*=M}),u=u.map(function(dt){return new _(dt)}),d==="lrgb")return ru(u,g);for(var C=u.shift(),S=C.get(d),R=[],A=0,z=0,j=0;j<S.length;j++)if(S[j]=(S[j]||0)*g[0],R.push(isNaN(S[j])?0:g[0]),d.charAt(j)==="h"&&!isNaN(S[j])){var B=S[j]/180*Is;A+=wa(B)*g[0],z+=ka(B)*g[0]}var X=C.alpha()*g[0];u.forEach(function(dt,at){var _t=dt.get(d);X+=dt.alpha()*g[at+1];for(var Ct=0;Ct<S.length;Ct++)if(!isNaN(_t[Ct]))if(R[Ct]+=g[at+1],d.charAt(Ct)==="h"){var qt=_t[Ct]/180*Is;A+=wa(qt)*g[at+1],z+=ka(qt)*g[at+1]}else S[Ct]+=_t[Ct]*g[at+1]});for(var Y=0;Y<S.length;Y++)if(d.charAt(Y)==="h"){for(var it=iu(z/R[Y],A/R[Y])/Is*180;it<0;)it+=360;for(;it>=360;)it-=360;S[Y]=it}else S[Y]=S[Y]/R[Y];return X/=x,new _(S,d).alpha(X>.99999?1:X,!0)},ru=function(u,d){for(var g=u.length,x=[0,0,0,0],M=0;M<u.length;M++){var C=u[M],S=d[M]/g,R=C._rgb;x[0]+=Ls(R[0],2)*S,x[1]+=Ls(R[1],2)*S,x[2]+=Ls(R[2],2)*S,x[3]+=R[3]*S}return x[0]=Fs(x[0]),x[1]=Fs(x[1]),x[2]=Fs(x[2]),x[3]>.9999999&&(x[3]=1),new _(nu(x))},_n=h.type,au=Math.pow,Mi=function(u){var d="rgb",g=T("#ccc"),x=0,M=[0,1],C=[],S=[0,0],R=!1,A=[],z=!1,j=0,B=1,X=!1,Y={},it=!0,dt=1,at=function(N){if(N=N||["#fff","#000"],N&&_n(N)==="string"&&T.brewer&&T.brewer[N.toLowerCase()]&&(N=T.brewer[N.toLowerCase()]),_n(N)==="array"){N.length===1&&(N=[N[0],N[0]]),N=N.slice(0);for(var tt=0;tt<N.length;tt++)N[tt]=T(N[tt]);C.length=0;for(var pt=0;pt<N.length;pt++)C.push(pt/(N.length-1))}return ue(),A=N},_t=function(N){if(R!=null){for(var tt=R.length-1,pt=0;pt<tt&&N>=R[pt];)pt++;return pt-1}return 0},Ct=function(N){return N},qt=function(N){return N},Ut=function(N,tt){var pt,ct;if(tt==null&&(tt=!1),isNaN(N)||N===null)return g;if(tt)ct=N;else if(R&&R.length>2){var ae=_t(N);ct=ae/(R.length-2)}else B!==j?ct=(N-j)/(B-j):ct=1;ct=qt(ct),tt||(ct=Ct(ct)),dt!==1&&(ct=au(ct,dt)),ct=S[0]+ct*(1-S[0]-S[1]),ct=Math.min(1,Math.max(0,ct));var Ot=Math.floor(ct*1e4);if(it&&Y[Ot])pt=Y[Ot];else{if(_n(A)==="array")for(var kt=0;kt<C.length;kt++){var St=C[kt];if(ct<=St){pt=A[kt];break}if(ct>=St&&kt===C.length-1){pt=A[kt];break}if(ct>St&&ct<C[kt+1]){ct=(ct-St)/(C[kt+1]-St),pt=T.interpolate(A[kt],A[kt+1],ct,d);break}}else _n(A)==="function"&&(pt=A(ct));it&&(Y[Ot]=pt)}return pt},ue=function(){return Y={}};at(u);var gt=function(N){var tt=T(Ut(N));return z&&tt[z]?tt[z]():tt};return gt.classes=function(N){if(N!=null){if(_n(N)==="array")R=N,M=[N[0],N[N.length-1]];else{var tt=T.analyze(M);N===0?R=[tt.min,tt.max]:R=T.limits(tt,"e",N)}return gt}return R},gt.domain=function(N){if(!arguments.length)return M;j=N[0],B=N[N.length-1],C=[];var tt=A.length;if(N.length===tt&&j!==B)for(var pt=0,ct=Array.from(N);pt<ct.length;pt+=1){var ae=ct[pt];C.push((ae-j)/(B-j))}else{for(var Ot=0;Ot<tt;Ot++)C.push(Ot/(tt-1));if(N.length>2){var kt=N.map(function(Nt,Tt){return Tt/(N.length-1)}),St=N.map(function(Nt){return(Nt-j)/(B-j)});St.every(function(Nt,Tt){return kt[Tt]===Nt})||(qt=function(Nt){if(Nt<=0||Nt>=1)return Nt;for(var Tt=0;Nt>=St[Tt+1];)Tt++;var We=(Nt-St[Tt])/(St[Tt+1]-St[Tt]),vn=kt[Tt]+We*(kt[Tt+1]-kt[Tt]);return vn})}}return M=[j,B],gt},gt.mode=function(N){return arguments.length?(d=N,ue(),gt):d},gt.range=function(N,tt){return at(N,tt),gt},gt.out=function(N){return z=N,gt},gt.spread=function(N){return arguments.length?(x=N,gt):x},gt.correctLightness=function(N){return N==null&&(N=!0),X=N,ue(),X?Ct=function(tt){for(var pt=Ut(0,!0).lab()[0],ct=Ut(1,!0).lab()[0],ae=pt>ct,Ot=Ut(tt,!0).lab()[0],kt=pt+(ct-pt)*tt,St=Ot-kt,Nt=0,Tt=1,We=20;Math.abs(St)>.01&&We-- >0;)(function(){return ae&&(St*=-1),St<0?(Nt=tt,tt+=(Tt-tt)*.5):(Tt=tt,tt+=(Nt-tt)*.5),Ot=Ut(tt,!0).lab()[0],St=Ot-kt})();return tt}:Ct=function(tt){return tt},gt},gt.padding=function(N){return N!=null?(_n(N)==="number"&&(N=[N,N]),S=N,gt):S},gt.colors=function(N,tt){arguments.length<2&&(tt="hex");var pt=[];if(arguments.length===0)pt=A.slice(0);else if(N===1)pt=[gt(.5)];else if(N>1){var ct=M[0],ae=M[1]-ct;pt=ou(0,N,!1).map(function(Tt){return gt(ct+Tt/(N-1)*ae)})}else{u=[];var Ot=[];if(R&&R.length>2)for(var kt=1,St=R.length,Nt=1<=St;Nt?kt<St:kt>St;Nt?kt++:kt--)Ot.push((R[kt-1]+R[kt])*.5);else Ot=M;pt=Ot.map(function(Tt){return gt(Tt)})}return T[tt]&&(pt=pt.map(function(Tt){return Tt[tt]()})),pt},gt.cache=function(N){return N!=null?(it=N,gt):it},gt.gamma=function(N){return N!=null?(dt=N,gt):dt},gt.nodata=function(N){return N!=null?(g=T(N),gt):g},gt};function ou(u,d,g){for(var x=[],M=u<d,C=g?M?d+1:d-1:d,S=u;M?S<C:S>C;M?S++:S--)x.push(S);return x}var zs=function(u){var d,g,x,M,C,S,R;if(u=u.map(function(B){return new _(B)}),u.length===2)d=u.map(function(B){return B.lab()}),C=d[0],S=d[1],M=function(B){var X=[0,1,2].map(function(Y){return C[Y]+B*(S[Y]-C[Y])});return new _(X,"lab")};else if(u.length===3)g=u.map(function(B){return B.lab()}),C=g[0],S=g[1],R=g[2],M=function(B){var X=[0,1,2].map(function(Y){return(1-B)*(1-B)*C[Y]+2*(1-B)*B*S[Y]+B*B*R[Y]});return new _(X,"lab")};else if(u.length===4){var A;x=u.map(function(B){return B.lab()}),C=x[0],S=x[1],R=x[2],A=x[3],M=function(B){var X=[0,1,2].map(function(Y){return(1-B)*(1-B)*(1-B)*C[Y]+3*(1-B)*(1-B)*B*S[Y]+3*(1-B)*B*B*R[Y]+B*B*B*A[Y]});return new _(X,"lab")}}else if(u.length===5){var z=zs(u.slice(0,3)),j=zs(u.slice(2,5));M=function(B){return B<.5?z(B*2):j((B-.5)*2)}}return M},lu=function(u){var d=zs(u);return d.scale=function(){return Mi(d)},d},xe=function(u,d,g){if(!xe[g])throw new Error("unknown blend mode "+g);return xe[g](u,d)},He=function(u){return function(d,g){var x=T(g).rgb(),M=T(d).rgb();return T.rgb(u(x,M))}},Ve=function(u){return function(d,g){var x=[];return x[0]=u(d[0],g[0]),x[1]=u(d[1],g[1]),x[2]=u(d[2],g[2]),x}},cu=function(u){return u},hu=function(u,d){return u*d/255},uu=function(u,d){return u>d?d:u},fu=function(u,d){return u>d?u:d},du=function(u,d){return 255*(1-(1-u/255)*(1-d/255))},pu=function(u,d){return d<128?2*u*d/255:255*(1-2*(1-u/255)*(1-d/255))},gu=function(u,d){return 255*(1-(1-d/255)/(u/255))},mu=function(u,d){return u===255?255:(u=255*(d/255)/(1-u/255),u>255?255:u)};xe.normal=He(Ve(cu)),xe.multiply=He(Ve(hu)),xe.screen=He(Ve(du)),xe.overlay=He(Ve(pu)),xe.darken=He(Ve(uu)),xe.lighten=He(Ve(fu)),xe.dodge=He(Ve(mu)),xe.burn=He(Ve(gu));for(var bu=xe,Bs=h.type,_u=h.clip_rgb,vu=h.TWOPI,yu=Math.pow,xu=Math.sin,wu=Math.cos,ku=function(u,d,g,x,M){u===void 0&&(u=300),d===void 0&&(d=-1.5),g===void 0&&(g=1),x===void 0&&(x=1),M===void 0&&(M=[0,1]);var C=0,S;Bs(M)==="array"?S=M[1]-M[0]:(S=0,M=[M,M]);var R=function(A){var z=vu*((u+120)/360+d*A),j=yu(M[0]+S*A,x),B=C!==0?g[0]+A*C:g,X=B*j*(1-j)/2,Y=wu(z),it=xu(z),dt=j+X*(-.14861*Y+1.78277*it),at=j+X*(-.29227*Y-.90649*it),_t=j+X*(1.97294*Y);return T(_u([dt*255,at*255,_t*255,1]))};return R.start=function(A){return A==null?u:(u=A,R)},R.rotations=function(A){return A==null?d:(d=A,R)},R.gamma=function(A){return A==null?x:(x=A,R)},R.hue=function(A){return A==null?g:(g=A,Bs(g)==="array"?(C=g[1]-g[0],C===0&&(g=g[1])):C=0,R)},R.lightness=function(A){return A==null?M:(Bs(A)==="array"?(M=A,S=A[1]-A[0]):(M=[A,A],S=0),R)},R.scale=function(){return T.scale(R)},R.hue(g),R},Su="0123456789abcdef",Mu=Math.floor,Cu=Math.random,Tu=function(){for(var u="#",d=0;d<6;d++)u+=Su.charAt(Mu(Cu()*16));return new _(u,"hex")},Sa=Math.log,Pu=Math.pow,Du=Math.floor,Ou=Math.abs,Ma=function(u,d){d===void 0&&(d=null);var g={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return a(u)==="object"&&(u=Object.values(u)),u.forEach(function(x){d&&a(x)==="object"&&(x=x[d]),x!=null&&!isNaN(x)&&(g.values.push(x),g.sum+=x,x<g.min&&(g.min=x),x>g.max&&(g.max=x),g.count+=1)}),g.domain=[g.min,g.max],g.limits=function(x,M){return Ca(g,x,M)},g},Ca=function(u,d,g){d===void 0&&(d="equal"),g===void 0&&(g=7),a(u)=="array"&&(u=Ma(u));var x=u.min,M=u.max,C=u.values.sort(function(Ws,Ys){return Ws-Ys});if(g===1)return[x,M];var S=[];if(d.substr(0,1)==="c"&&(S.push(x),S.push(M)),d.substr(0,1)==="e"){S.push(x);for(var R=1;R<g;R++)S.push(x+R/g*(M-x));S.push(M)}else if(d.substr(0,1)==="l"){if(x<=0)throw new Error("Logarithmic scales are only possible for values > 0");var A=Math.LOG10E*Sa(x),z=Math.LOG10E*Sa(M);S.push(x);for(var j=1;j<g;j++)S.push(Pu(10,A+j/g*(z-A)));S.push(M)}else if(d.substr(0,1)==="q"){S.push(x);for(var B=1;B<g;B++){var X=(C.length-1)*B/g,Y=Du(X);if(Y===X)S.push(C[Y]);else{var it=X-Y;S.push(C[Y]*(1-it)+C[Y+1]*it)}}S.push(M)}else if(d.substr(0,1)==="k"){var dt,at=C.length,_t=new Array(at),Ct=new Array(g),qt=!0,Ut=0,ue=null;ue=[],ue.push(x);for(var gt=1;gt<g;gt++)ue.push(x+gt/g*(M-x));for(ue.push(M);qt;){for(var N=0;N<g;N++)Ct[N]=0;for(var tt=0;tt<at;tt++)for(var pt=C[tt],ct=Number.MAX_VALUE,ae=void 0,Ot=0;Ot<g;Ot++){var kt=Ou(ue[Ot]-pt);kt<ct&&(ct=kt,ae=Ot),Ct[ae]++,_t[tt]=ae}for(var St=new Array(g),Nt=0;Nt<g;Nt++)St[Nt]=null;for(var Tt=0;Tt<at;Tt++)dt=_t[Tt],St[dt]===null?St[dt]=C[Tt]:St[dt]+=C[Tt];for(var We=0;We<g;We++)St[We]*=1/Ct[We];qt=!1;for(var vn=0;vn<g;vn++)if(St[vn]!==ue[vn]){qt=!0;break}ue=St,Ut++,Ut>200&&(qt=!1)}for(var In={},$s=0;$s<g;$s++)In[$s]=[];for(var Pi=0;Pi<at;Pi++)dt=_t[Pi],In[dt].push(C[Pi]);for(var nn=[],zn=0;zn<g;zn++)nn.push(In[zn][0]),nn.push(In[zn][In[zn].length-1]);nn=nn.sort(function(Ws,Ys){return Ws-Ys}),S.push(nn[0]);for(var Hs=1;Hs<nn.length;Hs+=2){var Vs=nn[Hs];!isNaN(Vs)&&S.indexOf(Vs)===-1&&S.push(Vs)}}return S},Ta={analyze:Ma,limits:Ca},Eu=function(u,d){u=new _(u),d=new _(d);var g=u.luminance(),x=d.luminance();return g>x?(g+.05)/(x+.05):(x+.05)/(g+.05)},Ci=Math.sqrt,Ru=Math.atan2,Pa=Math.abs,Da=Math.cos,js=Math.PI,Au=function(u,d,g,x){g===void 0&&(g=1),x===void 0&&(x=1),u=new _(u),d=new _(d);for(var M=Array.from(u.lab()),C=M[0],S=M[1],R=M[2],A=Array.from(d.lab()),z=A[0],j=A[1],B=A[2],X=Ci(S*S+R*R),Y=Ci(j*j+B*B),it=C<16?.511:.040975*C/(1+.01765*C),dt=.0638*X/(1+.0131*X)+.638,at=X<1e-6?0:Ru(R,S)*180/js;at<0;)at+=360;for(;at>=360;)at-=360;var _t=at>=164&&at<=345?.56+Pa(.2*Da(js*(at+168)/180)):.36+Pa(.4*Da(js*(at+35)/180)),Ct=X*X*X*X,qt=Ci(Ct/(Ct+1900)),Ut=dt*(qt*_t+1-qt),ue=C-z,gt=X-Y,N=S-j,tt=R-B,pt=N*N+tt*tt-gt*gt,ct=ue/(g*it),ae=gt/(x*dt),Ot=Ut;return Ci(ct*ct+ae*ae+pt/(Ot*Ot))},Lu=function(u,d,g){g===void 0&&(g="lab"),u=new _(u),d=new _(d);var x=u.get(g),M=d.get(g),C=0;for(var S in x){var R=(x[S]||0)-(M[S]||0);C+=R*R}return Math.sqrt(C)},Fu=function(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];try{return new(Function.prototype.bind.apply(_,[null].concat(u))),!0}catch(g){return!1}},Iu={cool:function(){return Mi([T.hsl(180,1,.9),T.hsl(250,.7,.4)])},hot:function(){return Mi(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},Ti={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ns=0,Oa=Object.keys(Ti);Ns<Oa.length;Ns+=1){var Ea=Oa[Ns];Ti[Ea.toLowerCase()]=Ti[Ea]}var zu=Ti;T.average=su,T.bezier=lu,T.blend=bu,T.cubehelix=ku,T.mix=T.interpolate=va,T.random=Tu,T.scale=Mi,T.analyze=Ta.analyze,T.contrast=Eu,T.deltaE=Au,T.distance=Lu,T.limits=Ta.limits,T.valid=Fu,T.scales=Iu,T.colors=mn,T.brewer=zu;var Bu=T;return Bu})});var Sc=Gs((Ms,kc)=>{(function(n,t){typeof Ms=="object"&&typeof kc!="undefined"?t(Ms):typeof define=="function"&&define.amd?define("@ts-stack/markdown",["exports"],t):(n=typeof globalThis!="undefined"?globalThis:n||self,t((n["ts-stack"]=n["ts-stack"]||{},n["ts-stack"].markdown={})))})(Ms,function(n){"use strict";var t=function(){function w(b,y){y===void 0&&(y=""),this.source=b.source,this.flags=y}return w.prototype.setGroup=function(b,y){var O=typeof y=="string"?y:y.source;return O=O.replace(/(^|[^\[])\^/g,"$1"),this.source=this.source.replace(b,O),this},w.prototype.getRegexp=function(){return new RegExp(this.source,this.flags)},w}();var e=/[&<>"']/,i=/[&<>"']/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g;function o(w,b){if(b){if(e.test(w))return w.replace(i,function(y){return s[y]})}else if(r.test(w))return w.replace(a,function(y){return s[y]});return w}function l(w){return w.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(b,y){return y=y.toLowerCase(),y==="colon"?":":y.charAt(0)==="#"?y.charAt(1)==="x"?String.fromCharCode(parseInt(y.substring(2),16)):String.fromCharCode(+y.substring(1)):""})}n.TokenType=void 0,function(w){w[w.space=1]="space",w[w.text=2]="text",w[w.paragraph=3]="paragraph",w[w.heading=4]="heading",w[w.listStart=5]="listStart",w[w.listEnd=6]="listEnd",w[w.looseItemStart=7]="looseItemStart",w[w.looseItemEnd=8]="looseItemEnd",w[w.listItemStart=9]="listItemStart",w[w.listItemEnd=10]="listItemEnd",w[w.blockquoteStart=11]="blockquoteStart",w[w.blockquoteEnd=12]="blockquoteEnd",w[w.code=13]="code",w[w.table=14]="table",w[w.html=15]="html",w[w.hr=16]="hr"}(n.TokenType||(n.TokenType={}));var c=function(){function w(){this.gfm=!0,this.tables=!0,this.breaks=!1,this.pedantic=!1,this.sanitize=!1,this.mangle=!0,this.smartLists=!1,this.silent=!1,this.langPrefix="lang-",this.smartypants=!1,this.headerPrefix="",this.xhtml=!1,this.escape=o,this.unescape=l}return w}();var h=function(w,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,O){y.__proto__=O}||function(y,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(y[P]=O[P])},h(w,b)};function f(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");h(w,b);function y(){this.constructor=w}w.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}var p=function(){return p=Object.assign||function(b){for(var y,O=1,P=arguments.length;O<P;O++){y=arguments[O];for(var D in y)Object.prototype.hasOwnProperty.call(y,D)&&(b[D]=y[D])}return b},p.apply(this,arguments)};function m(w,b){var y={};for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&b.indexOf(O)<0&&(y[O]=w[O]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,O=Object.getOwnPropertySymbols(w);P<O.length;P++)b.indexOf(O[P])<0&&Object.prototype.propertyIsEnumerable.call(w,O[P])&&(y[O[P]]=w[O[P]]);return y}function v(w,b,y,O){var P=arguments.length,D=P<3?b:O===null?O=Object.getOwnPropertyDescriptor(b,y):O,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,b,y,O);else for(var H=w.length-1;H>=0;H--)(q=w[H])&&(D=(P<3?q(D):P>3?q(b,y,D):q(b,y))||D);return P>3&&D&&Object.defineProperty(b,y,D),D}function k(w,b){return function(y,O){b(y,O,w)}}function _(w,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,b)}function E(w,b,y,O){function P(D){return D instanceof y?D:new y(function(q){q(D)})}return new(y||(y=Promise))(function(D,q){function H(mt){try{Z(O.next(mt))}catch(Rt){q(Rt)}}function U(mt){try{Z(O.throw(mt))}catch(Rt){q(Rt)}}function Z(mt){mt.done?D(mt.value):P(mt.value).then(H,U)}Z((O=O.apply(w,b||[])).next())})}function T(w,b){var y={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},O,P,D,q;return q={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function H(Z){return function(mt){return U([Z,mt])}}function U(Z){if(O)throw new TypeError("Generator is already executing.");for(;y;)try{if(O=1,P&&(D=Z[0]&2?P.return:Z[0]?P.throw||((D=P.return)&&D.call(P),0):P.next)&&!(D=D.call(P,Z[1])).done)return D;switch(P=0,D&&(Z=[Z[0]&2,D.value]),Z[0]){case 0:case 1:D=Z;break;case 4:return y.label++,{value:Z[1],done:!1};case 5:y.label++,P=Z[1],Z=[0];continue;case 7:Z=y.ops.pop(),y.trys.pop();continue;default:if(D=y.trys,!(D=D.length>0&&D[D.length-1])&&(Z[0]===6||Z[0]===2)){y=0;continue}if(Z[0]===3&&(!D||Z[1]>D[0]&&Z[1]<D[3])){y.label=Z[1];break}if(Z[0]===6&&y.label<D[1]){y.label=D[1],D=Z;break}if(D&&y.label<D[2]){y.label=D[2],y.ops.push(Z);break}D[2]&&y.ops.pop(),y.trys.pop();continue}Z=b.call(w,y)}catch(mt){Z=[6,mt],P=0}finally{O=D=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}var I=Object.create?function(w,b,y,O){O===void 0&&(O=y),Object.defineProperty(w,O,{enumerable:!0,get:function(){return b[y]}})}:function(w,b,y,O){O===void 0&&(O=y),w[O]=b[y]};function F(w,b){for(var y in w)y!=="default"&&!Object.prototype.hasOwnProperty.call(b,y)&&I(b,w,y)}function L(w){var b=typeof Symbol=="function"&&Symbol.iterator,y=b&&w[b],O=0;if(y)return y.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&O>=w.length&&(w=void 0),{value:w&&w[O++],done:!w}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(w,b){var y=typeof Symbol=="function"&&w[Symbol.iterator];if(!y)return w;var O=y.call(w),P,D=[],q;try{for(;(b===void 0||b-- >0)&&!(P=O.next()).done;)D.push(P.value)}catch(H){q={error:H}}finally{try{P&&!P.done&&(y=O.return)&&y.call(O)}finally{if(q)throw q.error}}return D}function $(){for(var w=[],b=0;b<arguments.length;b++)w=w.concat(V(arguments[b]));return w}function G(){for(var w=0,b=0,y=arguments.length;b<y;b++)w+=arguments[b].length;for(var O=Array(w),P=0,b=0;b<y;b++)for(var D=arguments[b],q=0,H=D.length;q<H;q++,P++)O[P]=D[q];return O}function K(w,b){for(var y=0,O=b.length,P=w.length;y<O;y++,P++)w[P]=b[y];return w}function et(w){return this instanceof et?(this.v=w,this):new et(w)}function lt(w,b,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=y.apply(w,b||[]),P,D=[];return P={},q("next"),q("throw"),q("return"),P[Symbol.asyncIterator]=function(){return this},P;function q(yt){O[yt]&&(P[yt]=function(Bt){return new Promise(function(jt,ie){D.push([yt,Bt,jt,ie])>1||H(yt,Bt)})})}function H(yt,Bt){try{U(O[yt](Bt))}catch(jt){Rt(D[0][3],jt)}}function U(yt){yt.value instanceof et?Promise.resolve(yt.value.v).then(Z,mt):Rt(D[0][2],yt)}function Z(yt){H("next",yt)}function mt(yt){H("throw",yt)}function Rt(yt,Bt){yt(Bt),D.shift(),D.length&&H(D[0][0],D[0][1])}}function rt(w){var b,y;return b={},O("next"),O("throw",function(P){throw P}),O("return"),b[Symbol.iterator]=function(){return this},b;function O(P,D){b[P]=w[P]?function(q){return(y=!y)?{value:et(w[P](q)),done:P==="return"}:D?D(q):q}:D}}function vt(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=w[Symbol.asyncIterator],y;return b?b.call(w):(w=typeof L=="function"?L(w):w[Symbol.iterator](),y={},O("next"),O("throw"),O("return"),y[Symbol.asyncIterator]=function(){return this},y);function O(D){y[D]=w[D]&&function(q){return new Promise(function(H,U){q=w[D](q),P(H,U,q.done,q.value)})}}function P(D,q,H,U){Promise.resolve(U).then(function(Z){D({value:Z,done:H})},q)}}function st(w,b){return Object.defineProperty?Object.defineProperty(w,"raw",{value:b}):w.raw=b,w}var J=Object.create?function(w,b){Object.defineProperty(w,"default",{enumerable:!0,value:b})}:function(w,b){w.default=b};function ht(w){if(w&&w.__esModule)return w;var b={};if(w!=null)for(var y in w)y!=="default"&&Object.prototype.hasOwnProperty.call(w,y)&&I(b,w,y);return J(b,w),b}function he(w){return w&&w.__esModule?w:{default:w}}function te(w,b){if(!b.has(w))throw new TypeError("attempted to get private field on non-instance");return b.get(w)}function ne(w,b,y){if(!b.has(w))throw new TypeError("attempted to set private field on non-instance");return b.set(w,y),y}var It=function(){function w(b){this.options=b||zt.options}return w.prototype.code=function(b,y,O,P){if(this.options.highlight){var D=this.options.highlight(b,y);D!=null&&D!==b&&(O=!0,b=D)}var q=O?b:this.options.escape(b,!0);if(!y)return`
<pre><code>`+q+`
</code></pre>
`;var H=this.options.langPrefix+this.options.escape(y,!0);return`
<pre><code class="`+H+'">'+q+`
</code></pre>
`},w.prototype.blockquote=function(b){return`<blockquote>
`+b+`</blockquote>
`},w.prototype.html=function(b){return b},w.prototype.heading=function(b,y,O){var P=this.options.headerPrefix+O.toLowerCase().replace(/[^\w]+/g,"-");return"<h"+y+' id="'+P+'">'+b+"</h"+y+`>
`},w.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},w.prototype.list=function(b,y){var O=y?"ol":"ul";return`
<`+O+`>
`+b+"</"+O+`>
`},w.prototype.listitem=function(b){return"<li>"+b+`</li>
`},w.prototype.paragraph=function(b){return"<p>"+b+`</p>
`},w.prototype.table=function(b,y){return`
<table>
<thead>
`+b+`</thead>
<tbody>
`+y+`</tbody>
</table>
`},w.prototype.tablerow=function(b){return`<tr>
`+b+`</tr>
`},w.prototype.tablecell=function(b,y){var O=y.header?"th":"td",P=y.align?"<"+O+' style="text-align:'+y.align+'">':"<"+O+">";return P+b+"</"+O+`>
`},w.prototype.strong=function(b){return"<strong>"+b+"</strong>"},w.prototype.em=function(b){return"<em>"+b+"</em>"},w.prototype.codespan=function(b){return"<code>"+b+"</code>"},w.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},w.prototype.del=function(b){return"<del>"+b+"</del>"},w.prototype.link=function(b,y,O){if(this.options.sanitize){var P=void 0;try{P=decodeURIComponent(this.options.unescape(b)).replace(/[^\w:]/g,"").toLowerCase()}catch(q){return O}if(P.indexOf("javascript:")===0||P.indexOf("vbscript:")===0||P.indexOf("data:")===0)return O}var D='<a href="'+b+'"';return y&&(D+=' title="'+y+'"'),D+=">"+O+"</a>",D},w.prototype.image=function(b,y,O){var P='<img src="'+b+'" alt="'+O+'"';return y&&(P+=' title="'+y+'"'),P+=this.options.xhtml?"/>":">",P},w.prototype.text=function(b){return b},w}();var Ft=function(){function w(b,y,O,P){if(O===void 0&&(O=zt.options),this.staticThis=b,this.links=y,this.options=O,this.renderer=P||this.options.renderer||new It(this.options),!this.links)throw new Error("InlineLexer requires 'links' parameter.");this.setRules()}return w.output=function(b,y,O){var P=new this(this,y,O);return P.output(b)},w.getRulesBase=function(){if(this.rulesBase)return this.rulesBase;var b={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};return b.link=new t(b.link).setGroup("inside",b._inside).setGroup("href",b._href).getRegexp(),b.reflink=new t(b.reflink).setGroup("inside",b._inside).getRegexp(),this.rulesBase=b},w.getRulesPedantic=function(){return this.rulesPedantic?this.rulesPedantic:this.rulesPedantic=Object.assign(Object.assign({},this.getRulesBase()),{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/})},w.getRulesGfm=function(){if(this.rulesGfm)return this.rulesGfm;var b=this.getRulesBase(),y=new t(b.escape).setGroup("])","~|])").getRegexp(),O=new t(b.text).setGroup("]|","~]|").setGroup("|","|https?://|").getRegexp();return this.rulesGfm=Object.assign(Object.assign({},b),{escape:y,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:O})},w.getRulesBreaks=function(){if(this.rulesBreaks)return this.rulesBreaks;var b=this.getRulesGfm(),y=this.getRulesGfm();return this.rulesBreaks=Object.assign(Object.assign({},y),{br:new t(b.br).setGroup("{2,}","*").getRegexp(),text:new t(y.text).setGroup("{2,}","*").getRegexp()})},w.prototype.setRules=function(){this.options.gfm?this.options.breaks?this.rules=this.staticThis.getRulesBreaks():this.rules=this.staticThis.getRulesGfm():this.options.pedantic?this.rules=this.staticThis.getRulesPedantic():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=this.rules.url!==void 0},w.prototype.output=function(b){b=b;for(var y,O="";b;){if(y=this.rules.escape.exec(b)){b=b.substring(y[0].length),O+=y[1];continue}if(y=this.rules.autolink.exec(b)){var P=void 0,D=void 0;b=b.substring(y[0].length),y[2]==="@"?(P=this.options.escape(y[1].charAt(6)===":"?this.mangle(y[1].substring(7)):this.mangle(y[1])),D=this.mangle("mailto:")+P):(P=this.options.escape(y[1]),D=P),O+=this.renderer.link(D,null,P);continue}if(!this.inLink&&this.hasRulesGfm&&(y=this.rules.url.exec(b))){var P=void 0,D=void 0;b=b.substring(y[0].length),P=this.options.escape(y[1]),D=P,O+=this.renderer.link(D,null,P);continue}if(y=this.rules.tag.exec(b)){!this.inLink&&/^<a /i.test(y[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(y[0])&&(this.inLink=!1),b=b.substring(y[0].length),O+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(y[0]):this.options.escape(y[0]):y[0];continue}if(y=this.rules.link.exec(b)){b=b.substring(y[0].length),this.inLink=!0,O+=this.outputLink(y,{href:y[2],title:y[3]}),this.inLink=!1;continue}if((y=this.rules.reflink.exec(b))||(y=this.rules.nolink.exec(b))){b=b.substring(y[0].length);var q=(y[2]||y[1]).replace(/\s+/g," "),H=this.links[q.toLowerCase()];if(!H||!H.href){O+=y[0].charAt(0),b=y[0].substring(1)+b;continue}this.inLink=!0,O+=this.outputLink(y,H),this.inLink=!1;continue}if(y=this.rules.strong.exec(b)){b=b.substring(y[0].length),O+=this.renderer.strong(this.output(y[2]||y[1]));continue}if(y=this.rules.em.exec(b)){b=b.substring(y[0].length),O+=this.renderer.em(this.output(y[2]||y[1]));continue}if(y=this.rules.code.exec(b)){b=b.substring(y[0].length),O+=this.renderer.codespan(this.options.escape(y[2].trim(),!0));continue}if(y=this.rules.br.exec(b)){b=b.substring(y[0].length),O+=this.renderer.br();continue}if(this.hasRulesGfm&&(y=this.rules.del.exec(b))){b=b.substring(y[0].length),O+=this.renderer.del(this.output(y[1]));continue}if(y=this.rules.text.exec(b)){b=b.substring(y[0].length),O+=this.renderer.text(this.options.escape(this.smartypants(y[0])));continue}if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0))}return O},w.prototype.outputLink=function(b,y){var O=this.options.escape(y.href),P=y.title?this.options.escape(y.title):null;return b[0].charAt(0)!=="!"?this.renderer.link(O,P,this.output(b[1])):this.renderer.image(O,P,this.options.escape(b[1]))},w.prototype.smartypants=function(b){return this.options.smartypants?b.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):b},w.prototype.mangle=function(b){if(!this.options.mangle)return b;for(var y="",O=b.length,P=0;P<O;P++){var D=void 0;Math.random()>.5&&(D="x"+b.charCodeAt(P).toString(16)),y+="&#"+D+";"}return y},w}();Ft.rulesBase=null,Ft.rulesPedantic=null,Ft.rulesGfm=null,Ft.rulesBreaks=null;var Ht=function(){function w(b){this.simpleRenderers=[],this.line=0,this.tokens=[],this.token=null,this.options=b||zt.options,this.renderer=this.options.renderer||new It(this.options)}return w.parse=function(b,y,O){var P=new this(O);return P.parse(y,b)},w.prototype.parse=function(b,y){this.inlineLexer=new Ft(Ft,b,this.options,this.renderer),this.tokens=y.reverse();for(var O="";this.next();)O+=this.tok();return O},w.prototype.debug=function(b,y){this.inlineLexer=new Ft(Ft,b,this.options,this.renderer),this.tokens=y.reverse();for(var O="";this.next();){var P=this.tok();this.token.line=this.line+=P.split(`
`).length-1,O+=P}return O},w.prototype.next=function(){return this.token=this.tokens.pop()},w.prototype.getNextElement=function(){return this.tokens[this.tokens.length-1]},w.prototype.parseText=function(){for(var b=this.token.text,y;(y=this.getNextElement())&&y.type==n.TokenType.text;)b+=`
`+this.next().text;return this.inlineLexer.output(b)},w.prototype.tok=function(){var b,y;switch(this.token.type){case n.TokenType.space:return"";case n.TokenType.paragraph:return this.renderer.paragraph(this.inlineLexer.output(this.token.text));case n.TokenType.text:return this.options.isNoP?this.parseText():this.renderer.paragraph(this.parseText());case n.TokenType.heading:return this.renderer.heading(this.inlineLexer.output(this.token.text),this.token.depth,this.token.text);case n.TokenType.listStart:{for(var O="",P=this.token.ordered;this.next().type!=n.TokenType.listEnd;)O+=this.tok();return this.renderer.list(O,P)}case n.TokenType.listItemStart:{for(var O="";this.next().type!=n.TokenType.listItemEnd;)O+=this.token.type==n.TokenType.text?this.parseText():this.tok();return this.renderer.listitem(O)}case n.TokenType.looseItemStart:{for(var O="";this.next().type!=n.TokenType.listItemEnd;)O+=this.tok();return this.renderer.listitem(O)}case n.TokenType.code:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.meta);case n.TokenType.table:{var D="",O="",q=void 0;q="";for(var H=0;H<this.token.header.length;H++){var U={header:!0,align:this.token.align[H]},Z=this.inlineLexer.output(this.token.header[H]);q+=this.renderer.tablecell(Z,U)}D+=this.renderer.tablerow(q);try{for(var mt=L(this.token.cells),Rt=mt.next();!Rt.done;Rt=mt.next()){var yt=Rt.value;q="";for(var Bt=0;Bt<yt.length;Bt++)q+=this.renderer.tablecell(this.inlineLexer.output(yt[Bt]),{header:!1,align:this.token.align[Bt]});O+=this.renderer.tablerow(q)}}catch(ge){b={error:ge}}finally{try{Rt&&!Rt.done&&(y=mt.return)&&y.call(mt)}finally{if(b)throw b.error}}return this.renderer.table(D,O)}case n.TokenType.blockquoteStart:{for(var O="";this.next().type!=n.TokenType.blockquoteEnd;)O+=this.tok();return this.renderer.blockquote(O)}case n.TokenType.hr:return this.renderer.hr();case n.TokenType.html:{var jt=!this.token.pre&&!this.options.pedantic?this.inlineLexer.output(this.token.text):this.token.text;return this.renderer.html(jt)}default:{if(this.simpleRenderers.length){for(var H=0;H<this.simpleRenderers.length;H++)if(this.token.type=="simpleRule"+(H+1))return this.simpleRenderers[H].call(this.renderer,this.token.execArr)}var ie='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(ie);else throw new Error(ie)}}},w}();var zt=function(){function w(){}return w.setOptions=function(b){return Object.assign(this.options,b),this},w.setBlockRule=function(b,y){return y===void 0&&(y=function(){return""}),Gt.simpleRules.push(b),this.simpleRenderers.push(y),this},w.parse=function(b,y){y===void 0&&(y=this.options);try{var O=this.callBlockLexer(b,y),P=O.tokens,D=O.links;return this.callParser(P,D,y)}catch(q){return this.callMe(q)}},w.debug=function(b,y){y===void 0&&(y=this.options);var O=this.callBlockLexer(b,y),P=O.tokens,D=O.links,q=P.slice(),H=new Ht(y);H.simpleRenderers=this.simpleRenderers;var U=H.debug(D,P);return q=q.map(function(Z){Z.type=n.TokenType[Z.type]||Z.type;var mt=Z.line;return delete Z.line,mt?Object.assign({line:mt},Z):Z}),{tokens:q,links:D,result:U}},w.callBlockLexer=function(b,y){if(b===void 0&&(b=""),typeof b!="string")throw new Error("Expected that the 'src' parameter would have a 'string' type, got '"+typeof b+"'");return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`).replace(/^ +$/gm,""),Gt.lex(b,y,!0)},w.callParser=function(b,y,O){if(this.simpleRenderers.length){var P=new Ht(O);return P.simpleRenderers=this.simpleRenderers,P.parse(y,b)}else return Ht.parse(b,y,O)},w.callMe=function(b){if(b.message+=`
Please report this to https://github.com/ts-stack/markdown`,this.options.silent)return"<p>An error occured:</p><pre>"+this.options.escape(b.message+"",!0)+"</pre>";throw b},w}();zt.options=new c,zt.simpleRenderers=[];var Gt=function(){function w(b,y){this.staticThis=b,this.links={},this.tokens=[],this.options=y||zt.options,this.setRules()}return w.lex=function(b,y,O,P){var D=new this(this,y);return D.getTokens(b,O,P)},w.getRulesBase=function(){if(this.rulesBase)return this.rulesBase;var b={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};b.item=new t(b.item,"gm").setGroup(/bull/g,b.bullet).getRegexp(),b.list=new t(b.list).setGroup(/bull/g,b.bullet).setGroup("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))").setGroup("def","\\n+(?="+b.def.source+")").getRegexp();var y="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";return b.html=new t(b.html).setGroup("comment",/<!--[\s\S]*?-->/).setGroup("closed",/<(tag)[\s\S]+?<\/\1>/).setGroup("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/).setGroup(/tag/g,y).getRegexp(),b.paragraph=new t(b.paragraph).setGroup("hr",b.hr).setGroup("heading",b.heading).setGroup("lheading",b.lheading).setGroup("blockquote",b.blockquote).setGroup("tag","<"+y).setGroup("def",b.def).getRegexp(),this.rulesBase=b},w.getRulesGfm=function(){if(this.rulesGfm)return this.rulesGfm;var b=this.getRulesBase(),y=Object.assign(Object.assign({},b),{fences:/^ *(`{3,}|~{3,})[ \.]*((\S+)? *[^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),O=y.fences.source.replace("\\1","\\2"),P=b.list.source.replace("\\1","\\3");return y.paragraph=new t(b.paragraph).setGroup("(?!","(?!"+O+"|"+P+"|").getRegexp(),this.rulesGfm=y},w.getRulesTable=function(){return this.rulesTables?this.rulesTables:this.rulesTables=Object.assign(Object.assign({},this.getRulesGfm()),{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/})},w.prototype.setRules=function(){this.options.gfm?this.options.tables?this.rules=this.staticThis.getRulesTable():this.rules=this.staticThis.getRulesGfm():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=this.rules.fences!==void 0,this.hasRulesTables=this.rules.table!==void 0},w.prototype.getTokens=function(b,y,O){var P=b,D;t:for(;P;){if((D=this.rules.newline.exec(P))&&(P=P.substring(D[0].length),D[0].length>1&&this.tokens.push({type:n.TokenType.space})),D=this.rules.code.exec(P)){P=P.substring(D[0].length);var q=D[0].replace(/^ {4}/gm,"");this.tokens.push({type:n.TokenType.code,text:this.options.pedantic?q:q.replace(/\n+$/,"")});continue}if(this.hasRulesGfm&&(D=this.rules.fences.exec(P))){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.code,meta:D[2],lang:D[3],text:D[4]||""});continue}if(D=this.rules.heading.exec(P)){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.heading,depth:D[1].length,text:D[2]});continue}if(y&&this.hasRulesTables&&(D=this.rules.nptable.exec(P))){P=P.substring(D[0].length);for(var H={type:n.TokenType.table,header:D[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:D[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]},U=0;U<H.align.length;U++)/^ *-+: *$/.test(H.align[U])?H.align[U]="right":/^ *:-+: *$/.test(H.align[U])?H.align[U]="center":/^ *:-+ *$/.test(H.align[U])?H.align[U]="left":H.align[U]=null;for(var Z=D[3].replace(/\n$/,"").split(`
`),U=0;U<Z.length;U++)H.cells[U]=Z[U].split(/ *\| */);this.tokens.push(H);continue}if(D=this.rules.lheading.exec(P)){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.heading,depth:D[2]==="="?1:2,text:D[1]});continue}if(D=this.rules.hr.exec(P)){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.hr});continue}if(D=this.rules.blockquote.exec(P)){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.blockquoteStart});var mt=D[0].replace(/^ *> ?/gm,"");this.getTokens(mt),this.tokens.push({type:n.TokenType.blockquoteEnd});continue}if(D=this.rules.list.exec(P)){P=P.substring(D[0].length);var Rt=D[2];this.tokens.push({type:n.TokenType.listStart,ordered:Rt.length>1});for(var mt=D[0].match(this.rules.item),yt=mt.length,Bt=!1,jt=void 0,ie=void 0,ye=void 0,U=0;U<yt;U++){var H=mt[U];jt=H.length,H=H.replace(/^ *([*+-]|\d+\.) +/,""),H.indexOf(`
 `)!==-1&&(jt-=H.length,H=this.options.pedantic?H.replace(/^ {1,4}/gm,""):H.replace(new RegExp("^ {1,"+jt+"}","gm"),"")),this.options.smartLists&&U!==yt-1&&(ie=this.staticThis.getRulesBase().bullet.exec(mt[U+1])[0],Rt!==ie&&!(Rt.length>1&&ie.length>1)&&(P=mt.slice(U+1).join(`
`)+P,U=yt-1)),ye=Bt||/\n\n(?!\s*$)/.test(H),U!==yt-1&&(Bt=H.charAt(H.length-1)===`
`,ye||(ye=Bt)),this.tokens.push({type:ye?n.TokenType.looseItemStart:n.TokenType.listItemStart}),this.getTokens(H,!1,O),this.tokens.push({type:n.TokenType.listItemEnd})}this.tokens.push({type:n.TokenType.listEnd});continue}if(D=this.rules.html.exec(P)){P=P.substring(D[0].length);var ge=D[1],dn=ge==="pre"||ge==="script"||ge==="style";this.tokens.push({type:this.options.sanitize?n.TokenType.paragraph:n.TokenType.html,pre:!this.options.sanitizer&&dn,text:D[0]});continue}if(y&&(D=this.rules.def.exec(P))){P=P.substring(D[0].length),this.links[D[1].toLowerCase()]={href:D[2],title:D[3]};continue}if(y&&this.hasRulesTables&&(D=this.rules.table.exec(P))){P=P.substring(D[0].length);for(var H={type:n.TokenType.table,header:D[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:D[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]},U=0;U<H.align.length;U++)/^ *-+: *$/.test(H.align[U])?H.align[U]="right":/^ *:-+: *$/.test(H.align[U])?H.align[U]="center":/^ *:-+ *$/.test(H.align[U])?H.align[U]="left":H.align[U]=null;for(var Z=D[3].replace(/(?: *\| *)?\n$/,"").split(`
`),U=0;U<Z.length;U++)H.cells[U]=Z[U].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(H);continue}if(this.staticThis.simpleRules.length){for(var Oe=this.staticThis.simpleRules,U=0;U<Oe.length;U++)if(D=Oe[U].exec(P)){P=P.substring(D[0].length);var Ne="simpleRule"+(U+1);this.tokens.push({type:Ne,execArr:D});continue t}}if(y&&(D=this.rules.paragraph.exec(P))){P=P.substring(D[0].length),D[1].slice(-1)===`
`?this.tokens.push({type:n.TokenType.paragraph,text:D[1].slice(0,-1)}):this.tokens.push({type:this.tokens.length>0?n.TokenType.paragraph:n.TokenType.text,text:D[1]});continue}if(D=this.rules.text.exec(P)){P=P.substring(D[0].length),this.tokens.push({type:n.TokenType.text,text:D[0]});continue}if(P)throw new Error("Infinite loop on byte: "+P.charCodeAt(0)+(", near text '"+P.slice(0,30)+"...'"))}return{tokens:this.tokens,links:this.links}},w}();Gt.simpleRules=[],Gt.rulesBase=null,Gt.rulesGfm=null,Gt.rulesTables=null,n.BlockLexer=Gt,n.ExtendRegexp=t,n.InlineLexer=Ft,n.Marked=zt,n.MarkedOptions=c,n.Parser=Ht,n.Renderer=It,n.escape=o,n.unescape=l,Object.defineProperty(n,"__esModule",{value:!0})})});var Mc=Gs(An=>{"use strict";var km=An&&An.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(An,"__esModule",{value:!0});An.Extractor=void 0;var ra=Sc(),Sm=function(n){km(t,n);function t(e,i){var s=n.call(this)||this;return s.lowercaseKeys=i??!1,s.reset(e),s}return Object.defineProperty(t.prototype,"tables",{get:function(){return this.extractedTables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objects",{get:function(){var e=this;return this.extractedTables.map(function(i){return t.tableToObject(i,e.lowercaseKeys)})},enumerable:!1,configurable:!0}),t.prototype.reset=function(e){e===void 0&&(e="rows"),this.mode=e,this.currentRow=[],this.currentTable=[],this.extractedTables=[]},t.prototype.table=function(e,i){return this.extractedTables.push(this.mode==="rows"?this.currentTable:t.transposeTable(this.currentTable)),this.currentTable=[],n.prototype.table.call(this,e,i)},t.prototype.tablerow=function(e){return this.currentTable.push(this.currentRow),this.currentRow=[],n.prototype.tablerow.call(this,e)},t.prototype.tablecell=function(e,i){return this.currentRow.push(e),n.prototype.tablecell.call(this,e,i)},t.transposeTable=function(e){for(var i=[],s=e.length,r=e[0].length,a=0;a<r;a++){i.push([]);for(var o=0;o<s;o++)i[a].push(e[o][a])}return i},t.tableToObject=function(e,i){var s=e.shift().slice(1),r={};return e.forEach(function(a){var o=a.shift(),l={};a.forEach(function(c,h){l[i?s[h].toLowerCase():s[h]]=c}),r[i?o.toLowerCase():o]=l}),r},t.createExtractor=function(e,i,s){var r=new t(i,s);return ra.Marked.setOptions({renderer:r}),ra.Marked.parse(e),r},t.extractObject=function(e,i,s){var r=t.extractAllObjects(e,i,s);return r.length>0?r[0]:null},t.extractAllObjects=function(e,i,s){var r=t.createExtractor(e,i,s);return r.objects},t.extractTable=function(e,i,s){var r=t.extractAllTables(e,i,s);return r.length>0?r[0]:null},t.extractAllTables=function(e,i,s){var r=t.createExtractor(e,i,s);return r.tables},t.extract=function(e,i,s){var r=t.createExtractor(e,i,s);return r.objects.length>0?JSON.stringify(r.objects[0]):null},t.extractAll=function(e,i,s){var r=t.createExtractor(e,i,s);return r.objects.map(function(a){return JSON.stringify(a)})},t}(ra.Renderer);An.Extractor=Sm});Wu(exports,{default:()=>oa});var Me=Ae(require("obsidian"));var qs=function(){return typeof window=="undefined"?function(n){return n()}:window.requestAnimationFrame}();function Us(n,t,e){let i=e||(a=>Array.prototype.slice.call(a)),s=!1,r=[];return function(...a){r=i(a),s||(s=!0,qs.call(window,()=>{s=!1,n.apply(t,r)}))}}function Aa(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var Oi=n=>n==="start"?"left":n==="end"?"right":"center",Xt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,La=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Ce(){}var Fa=function(){let n=0;return function(){return n++}}();function bt(n){return n===null||typeof n=="undefined"}function Pt(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.substr(0,7)==="[object"&&t.substr(-6)==="Array]"}function ut(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}var At=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function fe(n,t){return At(n)?n:t}function ot(n,t){return typeof n=="undefined"?t:n}var Ia=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/t,Xs=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Dt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function wt(n,t,e,i){let s,r,a;if(Pt(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(ut(n))for(a=Object.keys(n),r=a.length,s=0;s<r;s++)t.call(e,n[a[s]],a[s])}function Bn(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Ei(n){if(Pt(n))return n.map(Ei);if(ut(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,s=0;for(;s<i;++s)t[e[s]]=Ei(n[e[s]]);return t}return n}function za(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gu(n,t,e,i){if(!za(n))return;let s=t[n],r=e[n];ut(s)&&ut(r)?yn(s,r,i):t[n]=Ei(r)}function yn(n,t,e){let i=Pt(t)?t:[t],s=i.length;if(!ut(n))return n;e=e||{};let r=e.merger||Gu;for(let a=0;a<s;++a){if(t=i[a],!ut(t))continue;let o=Object.keys(t);for(let l=0,c=o.length;l<c;++l)r(o[l],n,t,e)}return n}function xn(n,t){return yn(n,t,{merger:qu})}function qu(n,t,e){if(!za(n))return;let i=t[n],s=e[n];ut(i)&&ut(s)?xn(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ei(s))}var Uu="",Xu=".";function Ba(n,t){let e=n.indexOf(Xu,t);return e===-1?n.length:e}function Ye(n,t){if(t===Uu)return n;let e=0,i=Ba(t,e);for(;n&&i>e;)n=n[t.substr(e,i-e)],e=i+1,i=Ba(t,e);return n}function Ri(n){return n.charAt(0).toUpperCase()+n.slice(1)}var de=n=>typeof n!="undefined",Le=n=>typeof n=="function",ja=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0},Et=Math.PI,Mt=2*Et,Ku=Mt+Et,Ai=Number.POSITIVE_INFINITY,Zu=Et/180,Lt=Et/2,jn=Et/4,Na=Et*2/3,pe=Math.log10,we=Math.sign;function Ks(n){let t=Math.round(n);n=wn(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(pe(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function $a(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function sn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function wn(n,t,e){return Math.abs(n-t)<e}function Ha(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function Zs(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function me(n){return n*(Et/180)}function Li(n){return n*(180/Et)}function Js(n){if(!At(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Va(n,t){let e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i),r=Math.atan2(i,e);return r<-.5*Et&&(r+=Mt),{angle:r,distance:s}}function Fi(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ju(n,t){return(n-t+Ku)%Mt-Et}function be(n){return(n%Mt+Mt)%Mt}function Nn(n,t,e,i){let s=be(n),r=be(t),a=be(e),o=be(r-s),l=be(a-s),c=be(s-r),h=be(s-a);return s===r||s===a||i&&r===a||o>l&&c<h}function Wt(n,t,e){return Math.max(t,Math.min(e,n))}function Wa(n){return Wt(n,-32768,32767)}var Ii=n=>n===0||n===1,Ya=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Mt/e)),Ga=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Mt/e)+1,kn={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Lt)+1,easeOutSine:n=>Math.sin(n*Lt),easeInOutSine:n=>-.5*(Math.cos(Et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ii(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ii(n)?n:Ya(n,.075,.3),easeOutElastic:n=>Ii(n)?n:Ga(n,.075,.3),easeInOutElastic(n){let t=.1125,e=.45;return Ii(n)?n:n<.5?.5*Ya(n*2,t,e):.5+.5*Ga(n*2-1,t,e)},easeInBack(n){let t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){let t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-kn.easeOutBounce(1-n),easeOutBounce(n){let t=7.5625,e=2.75;return n<1/e?t*n*n:n<2/e?t*(n-=1.5/e)*n+.75:n<2.5/e?t*(n-=2.25/e)*n+.9375:t*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?kn.easeInBounce(n*2)*.5:kn.easeOutBounce(n*2-1)*.5+.5};var _e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qs="0123456789ABCDEF",Qu=n=>Qs[n&15],tf=n=>Qs[(n&240)>>4]+Qs[n&15],zi=n=>(n&240)>>4==(n&15);function ef(n){return zi(n.r)&&zi(n.g)&&zi(n.b)&&zi(n.a)}function nf(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&_e[n[1]]*17,g:255&_e[n[2]]*17,b:255&_e[n[3]]*17,a:t===5?_e[n[4]]*17:255}:(t===7||t===9)&&(e={r:_e[n[1]]<<4|_e[n[2]],g:_e[n[3]]<<4|_e[n[4]],b:_e[n[5]]<<4|_e[n[6]],a:t===9?_e[n[7]]<<4|_e[n[8]]:255})),e}function sf(n){var t=ef(n)?Qu:tf;return n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")}function $n(n){return n+.5|0}var Bi=(n,t,e)=>Math.max(Math.min(n,e),t);function Hn(n){return Bi($n(n*2.55),0,255)}function Vn(n){return Bi($n(n*255),0,255)}function tr(n){return Bi($n(n/2.55)/100,0,1)}function qa(n){return Bi($n(n*100),0,100)}var rf=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function af(n){let t=rf.exec(n),e=255,i,s,r;if(!!t){if(t[7]!==i){let a=+t[7];e=255&(t[8]?Hn(a):a*255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Hn(i):i),s=255&(t[4]?Hn(s):s),r=255&(t[6]?Hn(r):r),{r:i,g:s,b:r,a:e}}}function of(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${tr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var lf=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ua(n,t,e){let i=t*Math.min(e,1-e),s=(r,a=(r+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function cf(n,t,e){let i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function hf(n,t,e){let i=Ua(n,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function er(n){let t=255,e=n.r/t,i=n.g/t,s=n.b/t,r=Math.max(e,i,s),a=Math.min(e,i,s),o=(r+a)/2,l,c,h;return r!==a&&(h=r-a,c=o>.5?h/(2-r-a):h/(r+a),l=r===e?(i-s)/h+(i<s?6:0):r===i?(s-e)/h+2:(e-i)/h+4,l=l*60+.5),[l|0,c||0,o]}function nr(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Vn)}function ir(n,t,e){return nr(Ua,n,t,e)}function uf(n,t,e){return nr(hf,n,t,e)}function ff(n,t,e){return nr(cf,n,t,e)}function Xa(n){return(n%360+360)%360}function df(n){let t=lf.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Hn(+t[5]):Vn(+t[5]));let s=Xa(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=uf(s,r,a):t[1]==="hsv"?i=ff(s,r,a):i=ir(s,r,a),{r:i[0],g:i[1],b:i[2],a:e}}function pf(n,t){var e=er(n);e[0]=Xa(e[0]+t),e=ir(e),n.r=e[0],n.g=e[1],n.b=e[2]}function gf(n){if(!n)return;let t=er(n),e=t[0],i=qa(t[1]),s=qa(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${tr(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}var Ka={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Za={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mf(){let n={},t=Object.keys(Za),e=Object.keys(Ka),i,s,r,a,o;for(i=0;i<t.length;i++){for(a=o=t[i],s=0;s<e.length;s++)r=e[s],o=o.replace(r,Ka[r]);r=parseInt(Za[a],16),n[o]=[r>>16&255,r>>8&255,r&255]}return n}var ji;function bf(n){ji||(ji=mf(),ji.transparent=[0,0,0,0]);let t=ji[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}function Ni(n,t,e){if(n){let i=er(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ir(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Ja(n,t){return n&&Object.assign(t||{},n)}function Qa(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Vn(n[3]))):(t=Ja(n,{r:0,g:0,b:0,a:1}),t.a=Vn(t.a)),t}function _f(n){return n.charAt(0)==="r"?af(n):df(n)}var Wn=class{constructor(t){if(t instanceof Wn)return t;let e=typeof t,i;e==="object"?i=Qa(t):e==="string"&&(i=nf(t)||bf(t)||_f(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ja(this._rgb);return t&&(t.a=tr(t.a)),t}set rgb(t){this._rgb=Qa(t)}rgbString(){return this._valid?of(this._rgb):this._rgb}hexString(){return this._valid?sf(this._rgb):this._rgb}hslString(){return this._valid?gf(this._rgb):this._rgb}mix(t,e){let i=this;if(t){let s=i.rgb,r=t.rgb,a,o=e===a?.5:e,l=2*o-1,c=s.a-r.a,h=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;a=1-h,s.r=255&h*s.r+a*r.r+.5,s.g=255&h*s.g+a*r.g+.5,s.b=255&h*s.b+a*r.b+.5,s.a=o*s.a+(1-o)*r.a,i.rgb=s}return i}clone(){return new Wn(this.rgb)}alpha(t){return this._rgb.a=Vn(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=$n(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ni(this._rgb,2,t),this}darken(t){return Ni(this._rgb,2,-t),this}saturate(t){return Ni(this._rgb,1,t),this}desaturate(t){return Ni(this._rgb,1,-t),this}rotate(t){return pf(this._rgb,t),this}};function to(n){return new Wn(n)}var eo=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function sr(n){return eo(n)?n:to(n)}function rr(n){return eo(n)?n:to(n).saturate(.5).darken(.1).hexString()}var Ge=Object.create(null),$i=Object.create(null);function Yn(n,t){if(!t)return n;let e=t.split(".");for(let i=0,s=e.length;i<s;++i){let r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function ar(n,t,e){return typeof t=="string"?yn(Yn(n,t),e):yn(Yn(n,""),t)}var no=class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>rr(i.backgroundColor),this.hoverBorderColor=(e,i)=>rr(i.borderColor),this.hoverColor=(e,i)=>rr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,e){return ar(this,t,e)}get(t){return Yn(this,t)}describe(t,e){return ar($i,t,e)}override(t,e){return ar(Ge,t,e)}route(t,e,i,s){let r=Yn(this,t),a=Yn(this,i),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[o],c=a[s];return ut(l)?Object.assign({},c,l):ot(l,c)},set(l){this[o]=l}}})}},ft=new no({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function vf(n){return!n||bt(n.size)||bt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Gn(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function io(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0,o=e.length,l,c,h,f,p;for(l=0;l<o;l++)if(f=e[l],f!=null&&Pt(f)!==!0)a=Gn(n,s,r,a,f);else if(Pt(f))for(c=0,h=f.length;c<h;c++)p=f[c],p!=null&&!Pt(p)&&(a=Gn(n,s,r,a,p));n.restore();let m=r.length/2;if(m>e.length){for(l=0;l<m;l++)delete s[r[l]];r.splice(0,m)}return a}function qe(n,t,e){let i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function or(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function qn(n,t,e,i){let s,r,a,o,l,c=t.pointStyle,h=t.rotation,f=t.radius,p=(h||0)*Zu;if(c&&typeof c=="object"&&(s=c.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(p),n.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),n.restore();return}if(!(isNaN(f)||f<=0)){switch(n.beginPath(),c){default:n.arc(e,i,f,0,Mt),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(p)*f,i-Math.cos(p)*f),p+=Na,n.lineTo(e+Math.sin(p)*f,i-Math.cos(p)*f),p+=Na,n.lineTo(e+Math.sin(p)*f,i-Math.cos(p)*f),n.closePath();break;case"rectRounded":l=f*.516,o=f-l,r=Math.cos(p+jn)*o,a=Math.sin(p+jn)*o,n.arc(e-r,i-a,l,p-Et,p-Lt),n.arc(e+a,i-r,l,p-Lt,p),n.arc(e+r,i+a,l,p,p+Lt),n.arc(e-a,i+r,l,p+Lt,p+Et),n.closePath();break;case"rect":if(!h){o=Math.SQRT1_2*f,n.rect(e-o,i-o,2*o,2*o);break}p+=jn;case"rectRot":r=Math.cos(p)*f,a=Math.sin(p)*f,n.moveTo(e-r,i-a),n.lineTo(e+a,i-r),n.lineTo(e+r,i+a),n.lineTo(e-a,i+r),n.closePath();break;case"crossRot":p+=jn;case"cross":r=Math.cos(p)*f,a=Math.sin(p)*f,n.moveTo(e-r,i-a),n.lineTo(e+r,i+a),n.moveTo(e+a,i-r),n.lineTo(e-a,i+r);break;case"star":r=Math.cos(p)*f,a=Math.sin(p)*f,n.moveTo(e-r,i-a),n.lineTo(e+r,i+a),n.moveTo(e+a,i-r),n.lineTo(e-a,i+r),p+=jn,r=Math.cos(p)*f,a=Math.sin(p)*f,n.moveTo(e-r,i-a),n.lineTo(e+r,i+a),n.moveTo(e+a,i-r),n.lineTo(e-a,i+r);break;case"line":r=Math.cos(p)*f,a=Math.sin(p)*f,n.moveTo(e-r,i-a),n.lineTo(e+r,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(p)*f,i+Math.sin(p)*f);break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ue(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Un(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Xn(n){n.restore()}function so(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ro(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Xe(n,t,e,i,s,r={}){let a=Pt(t)?t:[t],o=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(n.save(),n.font=s.string,yf(n,r),l=0;l<a.length;++l)c=a[l],o&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),bt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,i,r.maxWidth)),n.fillText(c,e,i,r.maxWidth),xf(n,e,i,c,r),i+=s.lineHeight;n.restore()}function yf(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),bt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function xf(n,t,e,i,s){if(s.strikethrough||s.underline){let r=n.measureText(i),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,h),n.lineTo(o,h),n.stroke()}}function Kn(n,t){let{x:e,y:i,w:s,h:r,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-Lt,Et,!0),n.lineTo(e,i+r-a.bottomLeft),n.arc(e+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,Et,Lt,!0),n.lineTo(e+s-a.bottomRight,i+r),n.arc(e+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Lt,0,!0),n.lineTo(e+s,i+a.topRight),n.arc(e+s-a.topRight,i+a.topRight,a.topRight,0,-Lt,!0),n.lineTo(e+a.topLeft,i)}var wf=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),kf=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Sf(n,t){let e=(""+n).match(wf);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var Mf=n=>+n||0;function Hi(n,t){let e={},i=ut(t),s=i?Object.keys(t):t,r=ut(n)?i?a=>ot(n[a],n[t[a]]):a=>n[a]:()=>n;for(let a of s)e[a]=Mf(r(a));return e}function lr(n){return Hi(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rn(n){return Hi(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(n){let t=lr(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function $t(n,t){n=n||{},t=t||ft.font;let e=ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ot(n.style,t.style);i&&!(""+i).match(kf)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");let s={family:ot(n.family,t.family),lineHeight:Sf(ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ot(n.weight,t.weight),string:""};return s.string=vf(s),s}function Sn(n,t,e,i){let s=!0,r,a,o;for(r=0,a=n.length;r<a;++r)if(o=n[r],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),s=!1),e!==void 0&&Pt(o)&&(o=o[e%o.length],s=!1),o!==void 0))return i&&!s&&(i.cacheable=!1),o}function ao(n,t,e){let{min:i,max:s}=n,r=Xs(t,(s-i)/2),a=(o,l)=>e&&o===0?0:o+l;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function Fe(n,t){return Object.assign(Object.create(n),t)}function Vi(n,t,e){e=e||(a=>n[a]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}var Te=(n,t,e)=>Vi(n,e,i=>n[i][t]<e),oo=(n,t,e)=>Vi(n,e,i=>n[i][t]>=e);function lo(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}var co=["push","pop","shift","splice","unshift"];function ho(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),co.forEach(e=>{let i="_onData"+Ri(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){let a=s.apply(this,r);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function cr(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(co.forEach(r=>{delete n[r]}),delete n._chartjs)}function hr(n){let t=new Set,e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function Wi(n,t=[""],e=n,i,s=()=>n[0]){de(i)||(i=mo("_fallback",n));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:s,override:a=>Wi([a,...n],t,e,i)};return new Proxy(r,{deleteProperty(a,o){return delete a[o],delete a._keys,delete n[0][o],!0},get(a,o){return fo(a,o,()=>Af(o,t,n,a))},getOwnPropertyDescriptor(a,o){return Reflect.getOwnPropertyDescriptor(a._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,o){return bo(a).includes(o)},ownKeys(a){return bo(a)},set(a,o,l){let c=a._storage||(a._storage=s());return c[o]=l,delete a[o],delete a._keys,!0}})}function an(n,t,e,i){let s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:ur(n,i),setContext:r=>an(n,r,e,i),override:r=>an(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete n[a],!0},get(r,a,o){return fo(r,a,()=>Tf(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(r,a,o){return n[a]=o,delete r[a],!0}})}function ur(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Le(e)?e:()=>e,isIndexable:Le(i)?i:()=>i}}var Cf=(n,t)=>n?n+Ri(t):t,uo=(n,t)=>ut(t)&&n!=="adapters";function fo(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];let i=e();return n[t]=i,i}function Tf(n,t,e){let{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=n,o=i[t];return Le(o)&&a.isScriptable(t)&&(o=Pf(t,o,n,e)),Pt(o)&&o.length&&(o=Df(t,o,n,a.isIndexable)),uo(t,o)&&(o=an(o,s,r&&r[t],a)),o}function Pf(n,t,e,i){let{_proxy:s,_context:r,_subProxy:a,_stack:o}=e;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);return o.add(n),t=t(r,a||i),o.delete(n),ut(t)&&(t=fr(s._scopes,s,n,t)),t}function Df(n,t,e,i){let{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=e;if(de(r.index)&&i(n))t=t[r.index%t.length];else if(ut(t[0])){let l=t,c=s._scopes.filter(h=>h!==l);t=[];for(let h of l){let f=fr(c,s,n,h);t.push(an(f,r,a&&a[n],o))}}return t}function po(n,t,e){return Le(n)?n(t,e):n}var Of=(n,t)=>n===!0?t:typeof n=="string"?Ye(t,n):void 0;function Ef(n,t,e,i){for(let s of t){let r=Of(e,s);if(r){n.add(r);let a=po(r._fallback,e,r);if(de(a)&&a!==e&&a!==i)return a}else if(r===!1&&de(i)&&e!==i)return null}return!1}function fr(n,t,e,i){let s=t._rootScopes,r=po(t._fallback,e,i),a=[...n,...s],o=new Set;o.add(i);let l=go(o,a,e,r||e);return l===null||de(r)&&r!==e&&(l=go(o,a,r,l),l===null)?!1:Wi(Array.from(o),[""],s,r,()=>Rf(t,e,i))}function go(n,t,e,i){for(;e;)e=Ef(n,t,e,i);return e}function Rf(n,t,e){let i=n._getTarget();t in i||(i[t]={});let s=i[t];return Pt(s)&&ut(e)?e:s}function Af(n,t,e,i){let s;for(let r of t)if(s=mo(Cf(r,n),e),de(s))return uo(n,s)?fr(e,i,n,s):s}function mo(n,t){for(let e of t){if(!e)continue;let i=e[n];if(de(i))return i}}function bo(n){let t=n._keys;return t||(t=n._keys=Lf(n._scopes)),t}function Lf(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}var Ff=Number.EPSILON||1e-14,Mn=(n,t)=>t<n.length&&!n[t].skip&&n[t],_o=n=>n==="x"?"y":"x";function If(n,t,e,i){let s=n.skip?t:n,r=t,a=e.skip?t:e,o=Fi(r,s),l=Fi(a,r),c=o/(o+l),h=l/(o+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;let f=i*c,p=i*h;return{previous:{x:r.x-f*(a.x-s.x),y:r.y-f*(a.y-s.y)},next:{x:r.x+p*(a.x-s.x),y:r.y+p*(a.y-s.y)}}}function zf(n,t,e){let i=n.length,s,r,a,o,l,c=Mn(n,0);for(let h=0;h<i-1;++h)if(l=c,c=Mn(n,h+1),!(!l||!c)){if(wn(t[h],0,Ff)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],o=Math.pow(s,2)+Math.pow(r,2),!(o<=9)&&(a=3/Math.sqrt(o),e[h]=s*a*t[h],e[h+1]=r*a*t[h])}}function Bf(n,t,e="x"){let i=_o(e),s=n.length,r,a,o,l=Mn(n,0);for(let c=0;c<s;++c){if(a=o,o=l,l=Mn(n,c+1),!o)continue;let h=o[e],f=o[i];a&&(r=(h-a[e])/3,o[`cp1${e}`]=h-r,o[`cp1${i}`]=f-r*t[c]),l&&(r=(l[e]-h)/3,o[`cp2${e}`]=h+r,o[`cp2${i}`]=f+r*t[c])}}function jf(n,t="x"){let e=_o(t),i=n.length,s=Array(i).fill(0),r=Array(i),a,o,l,c=Mn(n,0);for(a=0;a<i;++a)if(o=l,l=c,c=Mn(n,a+1),!!l){if(c){let h=c[t]-l[t];s[a]=h!==0?(c[e]-l[e])/h:0}r[a]=o?c?we(s[a-1])!==we(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}zf(n,s,r),Bf(n,r,t)}function Yi(n,t,e){return Math.max(Math.min(n,e),t)}function Nf(n,t){let e,i,s,r,a,o=Ue(n[0],t);for(e=0,i=n.length;e<i;++e)a=r,r=o,o=e<i-1&&Ue(n[e+1],t),!!r&&(s=n[e],a&&(s.cp1x=Yi(s.cp1x,t.left,t.right),s.cp1y=Yi(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=Yi(s.cp2x,t.left,t.right),s.cp2y=Yi(s.cp2y,t.top,t.bottom)))}function vo(n,t,e,i,s){let r,a,o,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")jf(n,s);else{let c=i?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)o=n[r],l=If(c,o,n[Math.min(r+1,a-(i?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}t.capBezierPoints&&Nf(n,e)}function dr(){return typeof window!="undefined"&&typeof document!="undefined"}function Gi(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qi(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var Ui=n=>window.getComputedStyle(n,null);function $f(n,t){return Ui(n).getPropertyValue(t)}var Hf=["top","right","bottom","left"];function on(n,t,e){let i={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=Hf[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Vf=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Wf(n,t){let e=n.native||n,i=e.touches,s=i&&i.length?i[0]:e,{offsetX:r,offsetY:a}=s,o=!1,l,c;if(Vf(r,a,e.target))l=r,c=a;else{let h=t.getBoundingClientRect();l=s.clientX-h.left,c=s.clientY-h.top,o=!0}return{x:l,y:c,box:o}}function pr(n,t){let{canvas:e,currentDevicePixelRatio:i}=t,s=Ui(e),r=s.boxSizing==="border-box",a=on(s,"padding"),o=on(s,"border","width"),{x:l,y:c,box:h}=Wf(n,e),f=a.left+(h&&o.left),p=a.top+(h&&o.top),{width:m,height:v}=t;return r&&(m-=a.width+o.width,v-=a.height+o.height),{x:Math.round((l-f)/m*e.width/i),y:Math.round((c-p)/v*e.height/i)}}function Yf(n,t,e){let i,s;if(t===void 0||e===void 0){let r=Gi(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{let a=r.getBoundingClientRect(),o=Ui(r),l=on(o,"border","width"),c=on(o,"padding");t=a.width-c.width-l.width,e=a.height-c.height-l.height,i=qi(o.maxWidth,r,"clientWidth"),s=qi(o.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ai,maxHeight:s||Ai}}var gr=n=>Math.round(n*10)/10;function yo(n,t,e,i){let s=Ui(n),r=on(s,"margin"),a=qi(s.maxWidth,n,"clientWidth")||Ai,o=qi(s.maxHeight,n,"clientHeight")||Ai,l=Yf(n,t,e),{width:c,height:h}=l;if(s.boxSizing==="content-box"){let f=on(s,"border","width"),p=on(s,"padding");c-=p.width+f.width,h-=p.height+f.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?Math.floor(c/i):h-r.height),c=gr(Math.min(c,a,l.maxWidth)),h=gr(Math.min(h,o,l.maxHeight)),c&&!h&&(h=gr(c/2)),{width:c,height:h}}function mr(n,t,e){let i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=s/i,n.width=r/i;let a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(n.currentDevicePixelRatio=i,a.height=s,a.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var xo=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function br(n,t){let e=$f(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ke(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function wo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function ko(n,t,e,i){let s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},a=Ke(n,s,e),o=Ke(s,r,e),l=Ke(r,t,e),c=Ke(a,o,e),h=Ke(o,l,e);return Ke(c,h,e)}var So=new Map;function Gf(n,t){t=t||{};let e=n+JSON.stringify(t),i=So.get(e);return i||(i=new Intl.NumberFormat(n,t),So.set(e,i)),i}function Cn(n,t,e){return Gf(t,e).format(n)}var qf=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Uf=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ln(n,t,e){return n?qf(t,e):Uf()}function _r(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function vr(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Mo(n){return n==="angle"?{between:Nn,compare:Ju,normalize:be}:{between:(t,e,i)=>t>=Math.min(e,i)&&t<=Math.max(i,e),compare:(t,e)=>t-e,normalize:t=>t}}function Co({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:s}}function Xf(n,t,e){let{property:i,start:s,end:r}=e,{between:a,normalize:o}=Mo(i),l=t.length,{start:c,end:h,loop:f}=n,p,m;if(f){for(c+=l,h+=l,p=0,m=l;p<m&&a(o(t[c%l][i]),s,r);++p)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:f,style:n.style}}function yr(n,t,e){if(!e)return[n];let{property:i,start:s,end:r}=e,a=t.length,{compare:o,between:l,normalize:c}=Mo(i),{start:h,end:f,loop:p,style:m}=Xf(n,t,e),v=[],k=!1,_=null,E,T,I,F=()=>l(s,I,E)&&o(s,I)!==0,L=()=>o(r,E)===0||l(r,I,E),V=()=>k||F(),$=()=>!k||L();for(let G=h,K=h;G<=f;++G)T=t[G%a],!T.skip&&(E=c(T[i]),E!==I&&(k=l(E,s,r),_===null&&V()&&(_=o(E,s)===0?G:K),_!==null&&$()&&(v.push(Co({start:_,end:G,loop:p,count:a,style:m})),_=null),K=G,I=E));return _!==null&&v.push(Co({start:_,end:f,loop:p,count:a,style:m})),v}function xr(n,t){let e=[],i=n.segments;for(let s=0;s<i.length;s++){let r=yr(i[s],n.points,t);r.length&&e.push(...r)}return e}function Kf(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Zf(n,t,e,i){let s=n.length,r=[],a=t,o=n[t],l;for(l=t+1;l<=e;++l){let c=n[l%s];c.skip||c.stop?o.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=a=c.stop?l:null):(a=l,o.skip&&(t=l)),o=c}return a!==null&&r.push({start:t%s,end:a%s,loop:i}),r}function To(n,t){let e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];let r=!!n._loop,{start:a,end:o}=Kf(e,s,r,i);if(i===!0)return Po(n,[{start:a,end:o,loop:r}],e,t);let l=o<a?o+s:o,c=!!n._fullLoop&&a===0&&o===s-1;return Po(n,Zf(e,a,l,c),e,t)}function Po(n,t,e,i){return!i||!i.setContext||!e?t:Jf(n,t,e,i)}function Jf(n,t,e,i){let s=n._chart.getContext(),r=Do(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=e.length,c=[],h=r,f=t[0].start,p=f;function m(v,k,_,E){let T=o?-1:1;if(v!==k){for(v+=l;e[v%l].skip;)v-=T;for(;e[k%l].skip;)k+=T;v%l!=k%l&&(c.push({start:v%l,end:k%l,loop:_,style:E}),h=E,f=k%l)}}for(let v of t){f=o?f:v.start;let k=e[f%l],_;for(p=f+1;p<=v.end;p++){let E=e[p%l];_=Do(i.setContext(Fe(s,{type:"segment",p0:k,p1:E,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),Qf(_,h)&&m(f,p-1,v.loop,h),k=E,h=_}f<p-1&&m(f,p-1,v.loop,h)}return c}function Do(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Qf(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Oo=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){let r=e.listeners[s],a=e.duration;r.forEach(o=>o({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=qs.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;let r=i.items,a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ie=new Oo,Eo="transparent",td={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=sr(n||Eo),s=i.valid&&sr(t||Eo);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},Ro=class{constructor(t,e,i,s){let r=e[i];s=Sn([t.to,s,r,t.from]);let a=Sn([t.from,r,s]);this._active=!0,this._fn=t.fn||td[t.type||typeof a],this._easing=kn[t.easing]||kn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Sn([t.to,e,s,t.from]),this._from=Sn([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to,l;if(this._active=r!==o&&(a||e<i),!this._active){this._target[s]=o,this._notify(!0);return}if(e<0){this._target[s]=r;return}l=e/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,o,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}},ed=["x","y","borderWidth","radius","tension"],nd=["color","borderColor","backgroundColor"];ft.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var id=Object.keys(ft.animation);ft.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});ft.set("animations",{colors:{type:"color",properties:nd},numbers:{type:"number",properties:ed}});ft.describe("animations",{_fallback:"animation"});ft.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});var wr=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ut(t))return;let e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{let s=t[i];if(!ut(s))return;let r={};for(let a of id)r[a]=s[a];(Pt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!e.has(a))&&e.set(a,r)})})}_animateOptions(t,e){let i=e.options,s=rd(t,i);if(!s)return[];let r=this._createAnimations(s,i);return i.$shared&&sd(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){let i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),o=Date.now(),l;for(l=a.length-1;l>=0;--l){let c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,e));continue}let h=e[c],f=r[c],p=i.get(c);if(f)if(p&&f.active()){f.update(p,h,o);continue}else f.cancel();if(!p||!p.duration){t[c]=h;continue}r[c]=f=new Ro(p,t,c,h),s.push(f)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Ie.add(this._chart,i),!0}};function sd(n,t){let e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){let r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function rd(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ao(n,t){let e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function ad(n,t,e){if(e===!1)return!1;let i=Ao(n,e),s=Ao(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function od(n){let t,e,i,s;return ut(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Lo(n,t){let e=[],i=n._getSortedDatasetMetas(t),s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function Fo(n,t,e,i={}){let s=n.keys,r=i.mode==="single",a,o,l,c;if(t!==null){for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===e){if(i.all)continue;break}c=n.values[l],At(c)&&(r||t===0||we(t)===we(c))&&(t+=c)}return t}}function ld(n){let t=Object.keys(n),e=new Array(t.length),i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}function Io(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function cd(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function hd(n){let{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function ud(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function zo(n,t,e,i){for(let s of t.getMatchingVisibleMetas(i).reverse()){let r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function Bo(n,t){let{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:o}=i,l=r.axis,c=a.axis,h=cd(r,a,i),f=t.length,p;for(let m=0;m<f;++m){let v=t[m],{[l]:k,[c]:_}=v,E=v._stacks||(v._stacks={});p=E[c]=ud(s,h,k),p[o]=_,p._top=zo(p,a,!0,i.type),p._bottom=zo(p,a,!1,i.type)}}function kr(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function fd(n,t){return Fe(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dd(n,t,e){return Fe(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Zn(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(!!i){t=t||n._parsed;for(let s of t){let r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e]}}}var Sr=n=>n==="reset"||n==="none",jo=(n,t)=>t?n:Object.assign({},n),pd=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Lo(e,!0),values:null},ke=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Io(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Zn(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(f,p,m,v)=>f==="x"?p:f==="r"?v:m,r=e.xAxisID=ot(i.xAxisID,kr(t,"x")),a=e.yAxisID=ot(i.yAxisID,kr(t,"y")),o=e.rAxisID=ot(i.rAxisID,kr(t,"r")),l=e.indexAxis,c=e.iAxisID=s(l,r,a,o),h=e.vAxisID=s(l,a,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&cr(this._data,this),t._stacked&&Zn(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ut(e))this._data=ld(e);else if(i!==e){if(i){cr(i,this);let s=this._cachedMeta;Zn(s),s._parsed=[]}e&&Object.isExtensible(e)&&ho(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let r=e._stacked;e._stacked=Io(e.vScale,e),e.stack!==i.stack&&(s=!0,Zn(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&Bo(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing}parse(t,e){let{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis,l=t===0&&e===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{Pt(s[t])?p=this.parseArrayData(i,s,t,e):ut(s[t])?p=this.parseObjectData(i,s,t,e):p=this.parsePrimitiveData(i,s,t,e);let m=()=>f[o]===null||c&&f[o]<c[o];for(h=0;h<e;++h)i._parsed[h+t]=f=p[h],l&&(m()&&(l=!1),c=f);i._sorted=l}a&&Bo(this,p)}parsePrimitiveData(t,e,i,s){let{iScale:r,vScale:a}=t,o=r.axis,l=a.axis,c=r.getLabels(),h=r===a,f=new Array(s),p,m,v;for(p=0,m=s;p<m;++p)v=p+i,f[p]={[o]:h||r.parse(c[v],v),[l]:a.parse(e[v],v)};return f}parseArrayData(t,e,i,s){let{xScale:r,yScale:a}=t,o=new Array(s),l,c,h,f;for(l=0,c=s;l<c;++l)h=l+i,f=e[h],o[l]={x:r.parse(f[0],h),y:a.parse(f[1],h)};return o}parseObjectData(t,e,i,s){let{xScale:r,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s),h,f,p,m;for(h=0,f=s;h<f;++h)p=h+i,m=e[p],c[h]={x:r.parse(Ye(m,o),p),y:a.parse(Ye(m,l),p)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let s=this.chart,r=this._cachedMeta,a=e[t.axis],o={keys:Lo(s,!0),values:e._stacks[t.axis]};return Fo(o,a,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){let r=i[e.axis],a=r===null?NaN:r,o=s&&i._stacks[e.axis];s&&o&&(s.values=o,a=Fo(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){let i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,o=this._getOtherScale(t),l=pd(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=hd(o),p,m;function v(){m=s[p];let k=m[o.axis];return!At(m[t.axis])||h>k||f<k}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(c,t,m,l),r));++p);if(r){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(c,t,m,l);break}}return c}getAllParsedValues(t){let e=this._cachedMeta._parsed,i=[],s,r,a;for(s=0,r=e.length;s<r;++s)a=e[s][t.axis],At(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){let e=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(t||"default"),e._clip=od(ot(this.options.clip,ad(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c;for(i.dataset&&i.dataset.draw(t,r,o,l),c=o;c<o+l;++c){let h=s[c];h.hidden||(h.active?a.push(h):h.draw(t,r))}for(c=0;c<a.length;++c)a[c].draw(t,r)}getStyle(t,e){let i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){let s=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];r=a.$context||(a.$context=dd(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=fd(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let s=e==="active",r=this._cachedDataOpts,a=t+"-"+e,o=r[a],l=this.enableOptionSharing&&de(i);if(o)return jo(o,l);let c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],p=c.getOptionScopes(this.getDataset(),h),m=Object.keys(ft.elements[t]),v=()=>this.getContext(i,s),k=c.resolveNamedOptions(p,m,v,f);return k.$shared&&(k.$shared=l,r[a]=Object.freeze(jo(k,l))),k}_resolveAnimations(t,e,i){let s=this.chart,r=this._cachedDataOpts,a=`animation-${e}`,o=r[a];if(o)return o;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,e),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(t,i,e))}let c=new wr(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Sr(t)||this.chart._animationsDisabled}updateElement(t,e,i,s){Sr(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Sr(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;let r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];let s=i.length,r=e.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){let s=this._cachedMeta,r=s.data,a=t+e,o,l=c=>{for(c.length+=e,o=c.length-1;o>=a;o--)c[o]=c[o-e]};for(l(r),o=t;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(t,e);i._stacked&&Zn(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,s]=t;this[e](i,s)}}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){this._sync(["_removeElements",t,e]),this._sync(["_insertElements",t,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};ke.defaults={};ke.prototype.datasetElementType=null;ke.prototype.dataElementType=null;function gd(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=hr(i.sort((s,r)=>s-r))}return n._cache.$bar}function md(n){let t=n.iScale,e=gd(t,n.type),i=t._length,s,r,a,o,l=()=>{a===32767||a===-32768||(de(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(s=0,r=e.length;s<r;++s)a=t.getPixelForValue(e[s]),l();for(o=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),l();return i}function bd(n,t,e,i){let s=e.barThickness,r,a;return bt(s)?(r=t.min*e.categoryPercentage,a=e.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[n]-r/2}}function _d(n,t,e,i){let s=t.pixels,r=s[n],a=n>0?s[n-1]:null,o=n<s.length-1?s[n+1]:null,l=e.categoryPercentage;a===null&&(a=r-(o===null?t.end-t.start:o-r)),o===null&&(o=r+r-a);let c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:e.barPercentage,start:c}}function vd(n,t,e,i){let s=e.parse(n[0],i),r=e.parse(n[1],i),a=Math.min(s,r),o=Math.max(s,r),l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:a,max:o}}function No(n,t,e,i){return Pt(n)?vd(n,t,e,i):t[e.axis]=e.parse(n,i),t}function $o(n,t,e,i){let s=n.iScale,r=n.vScale,a=s.getLabels(),o=s===r,l=[],c,h,f,p;for(c=e,h=e+i;c<h;++c)p=t[c],f={},f[s.axis]=o||s.parse(a[c],c),l.push(No(p,f,r,c));return l}function Mr(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function yd(n,t,e){return n!==0?we(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function xd(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function wd(n,t,e,i){let s=t.borderSkipped,r={};if(!s){n.borderSkipped=r;return}let{start:a,end:o,reverse:l,top:c,bottom:h}=xd(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=c:(e._bottom||0)===i?s=h:(r[Ho(h,a,o,l)]=!0,s=c)),r[Ho(s,a,o,l)]=!0,n.borderSkipped=r}function Ho(n,t,e,i){return i?(n=kd(n,t,e),n=Vo(n,e,t)):n=Vo(n,t,e),n}function kd(n,t,e){return n===t?e:n===e?t:n}function Vo(n,t,e){return n==="start"?t:n==="end"?e:n}function Sd(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var Jn=class extends ke{parsePrimitiveData(t,e,i,s){return $o(t,e,i,s)}parseArrayData(t,e,i,s){return $o(t,e,i,s)}parseObjectData(t,e,i,s){let{iScale:r,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?o:l,h=a.axis==="x"?o:l,f=[],p,m,v,k;for(p=i,m=i+s;p<m;++p)k=e[p],v={},v[r.axis]=r.parse(Ye(k,c),p),f.push(No(Ye(k,h),v,a,p));return f}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);let r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:i,vScale:s}=e,r=this.getParsed(t),a=r._custom,o=Mr(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){let r=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),f=this.resolveDataElementOptions(e,s),p=this.getSharedOptions(f),m=this.includeOptions(s,p);this.updateSharedOptions(p,s,f);for(let v=e;v<e+i;v++){let k=this.getParsed(v),_=r||bt(k[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(v),E=this._calculateBarIndexPixels(v,h),T=(k._stacks||{})[o.axis],I={horizontal:c,base:_.base,enableBorderRadius:!T||Mr(k._custom)||a===T._top||a===T._bottom,x:c?_.head:E.center,y:c?E.center:_.head,height:c?E.size:Math.abs(_.size),width:c?Math.abs(_.size):E.size};m&&(I.options=p||this.resolveDataElementOptions(v,t[v].active?"active":s));let F=I.options||t[v].options;wd(I,F,T,a),Sd(I,F,h.ratio),this.updateElement(t[v],v,I,s)}}_getStacks(t,e){let s=this._cachedMeta.iScale,r=s.getMatchingVisibleMetas(this._type),a=s.options.stacked,o=r.length,l=[],c,h;for(c=0;c<o;++c)if(h=r[c],!!h.controller.options.grouped){if(typeof e!="undefined"){let f=h.controller.getParsed(e)[h.controller._cachedMeta.vScale.axis];if(bt(f)||isNaN(f))continue}if((a===!1||l.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&l.push(h.stack),h.index===t)break}return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){let s=this._getStacks(t,i),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){let t=this.options,e=this._cachedMeta,i=e.iScale,s=[],r,a;for(r=0,a=e.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));let o=t.barThickness;return{min:o||md(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:i},options:{base:s,minBarLength:r}}=this,a=s||0,o=this.getParsed(t),l=o._custom,c=Mr(l),h=o[e.axis],f=0,p=i?this.applyStack(e,o,i):h,m,v;p!==h&&(f=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,h!==0&&we(h)!==we(l.barEnd)&&(f=0),f+=h);let k=!bt(s)&&!c?s:f,_=e.getPixelForValue(k);if(this.chart.getDataVisibility(t)?m=e.getPixelForValue(f+p):m=_,v=m-_,Math.abs(v)<r&&(v=yd(v,e,a)*r,h===a&&(_-=v/2),m=_+v),_===e.getPixelForValue(a)){let E=we(v)*e.getLineWidthForValue(a)/2;_+=E,v-=E}return{size:v,base:_,head:m,center:m+v/2}}_calculateBarIndexPixels(t,e){let i=e.scale,s=this.options,r=s.skipNull,a=ot(s.maxBarThickness,1/0),o,l;if(e.grouped){let c=r?this._getStackCount(t):e.stackCount,h=s.barThickness==="flex"?_d(t,e,s,c):bd(t,e,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,e.min*e.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){let t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length,r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&i[r].draw(this._ctx)}};Jn.id="bar";Jn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Jn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Qn=class extends ke{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){let r=super.parsePrimitiveData(t,e,i,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(t,e,i,s){let r=super.parseArrayData(t,e,i,s);for(let a=0;a<r.length;a++){let o=e[i+a];r[a]._custom=ot(o[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(t,e,i,s){let r=super.parseObjectData(t,e,i,s);for(let a=0;a<r.length;a++){let o=e[i+a];r[a]._custom=ot(o&&o.r&&+o.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,{xScale:i,yScale:s}=e,r=this.getParsed(t),a=i.getLabelForValue(r.x),o=s.getLabelForValue(r.y),l=r._custom;return{label:e.label,value:"("+a+", "+o+(l?", "+l:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){let r=s==="reset",{iScale:a,vScale:o}=this._cachedMeta,l=this.resolveDataElementOptions(e,s),c=this.getSharedOptions(l),h=this.includeOptions(s,c),f=a.axis,p=o.axis;for(let m=e;m<e+i;m++){let v=t[m],k=!r&&this.getParsed(m),_={},E=_[f]=r?a.getPixelForDecimal(.5):a.getPixelForValue(k[f]),T=_[p]=r?o.getBasePixel():o.getPixelForValue(k[p]);_.skip=isNaN(E)||isNaN(T),h&&(_.options=this.resolveDataElementOptions(m,v.active?"active":s),r&&(_.options.radius=0)),this.updateElement(v,m,_,s)}this.updateSharedOptions(c,s,l)}resolveDataElementOptions(t,e){let i=this.getParsed(t),s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=ot(i&&i._custom,r),s}};Qn.id="bubble";Qn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Qn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function Md(n,t,e){let i=1,s=1,r=0,a=0;if(t<Mt){let o=n,l=o+t,c=Math.cos(o),h=Math.sin(o),f=Math.cos(l),p=Math.sin(l),m=(I,F,L)=>Nn(I,o,l,!0)?1:Math.max(F,F*e,L,L*e),v=(I,F,L)=>Nn(I,o,l,!0)?-1:Math.min(F,F*e,L,L*e),k=m(0,c,f),_=m(Lt,h,p),E=v(Et,c,f),T=v(Et+Lt,h,p);i=(k-E)/2,s=(_-T)/2,r=-(k+E)/2,a=-(_+T)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:a}}var cn=class extends ke{constructor(t,e){super(t,e);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(ut(i[t])){let{key:l="value"}=this._parsing;r=c=>+Ye(i[c],l)}let a,o;for(a=t,o=t+e;a<o;++a)s._parsed[a]=r(a)}}_getRotation(){return me(this.options.rotation-90)}_getCircumference(){return me(this.options.circumference)}_getRotationExtents(){let t=Mt,e=-Mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){let s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),a=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:i}=e,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(Ia(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:v,offsetY:k}=Md(f,h,l),_=(i.width-a)/p,E=(i.height-a)/m,T=Math.max(Math.min(_,E)/2,0),I=Xs(this.options.radius,T),F=Math.max(I*l,0),L=(I-F)/this._getVisibleDatasetWeightTotal();this.offsetX=v*I,this.offsetY=k*I,s.total=this.calculateTotal(),this.outerRadius=I-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){let i=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Mt)}updateElements(t,e,i,s){let r=s==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,h=(o.left+o.right)/2,f=(o.top+o.bottom)/2,p=r&&c.animateScale,m=p?0:this.innerRadius,v=p?0:this.outerRadius,k=this.resolveDataElementOptions(e,s),_=this.getSharedOptions(k),E=this.includeOptions(s,_),T=this._getRotation(),I;for(I=0;I<e;++I)T+=this._circumference(I,r);for(I=e;I<e+i;++I){let F=this._circumference(I,r),L=t[I],V={x:h+this.offsetX,y:f+this.offsetY,startAngle:T,endAngle:T+F,circumference:F,outerRadius:v,innerRadius:m};E&&(V.options=_||this.resolveDataElementOptions(I,L.active?"active":s)),T+=F,this.updateElement(L,I,V,s)}this.updateSharedOptions(_,s,k)}calculateTotal(){let t=this._cachedMeta,e=t.data,i=0,s;for(s=0;s<e.length;s++){let r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?Mt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Cn(e._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0,i=this.chart,s,r,a,o,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,o=a.controller,o!==this&&o.configure();break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){let r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};cn.id="doughnut";cn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};cn.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};cn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let t=n.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,s)=>{let a=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let t=n.label,e=": "+n.formattedValue;return Pt(t)?(t=t.slice(),t[0]+=e):t+=e,t}}}}};var Tn=class extends ke{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,a=this.chart._animationsDisabled,{start:o,count:l}=Cd(e,s,a);this._drawStart=o,this._drawCount=l,Td(e)&&(o=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;let c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},t),this.updateElements(s,o,l,t)}updateElements(t,e,i,s){let r=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),f=this.getSharedOptions(h),p=this.includeOptions(s,f),m=a.axis,v=o.axis,{spanGaps:k,segment:_}=this.options,E=sn(k)?k:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||r||s==="none",I=e>0&&this.getParsed(e-1);for(let F=e;F<e+i;++F){let L=t[F],V=this.getParsed(F),$=T?L:{},G=bt(V[v]),K=$[m]=a.getPixelForValue(V[m],F),et=$[v]=r||G?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,V,l):V[v],F);$.skip=isNaN(K)||isNaN(et)||G,$.stop=F>0&&V[m]-I[m]>E,_&&($.parsed=V,$.raw=c.data[F]),p&&($.options=f||this.resolveDataElementOptions(F,L.active?"active":s)),T||this.updateElement(L,F,$,s),I=V}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;let r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};Tn.id="line";Tn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Tn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function Cd(n,t,e){let i=t.length,s=0,r=i;if(n._sorted){let{iScale:a,_parsed:o}=n,l=a.axis,{min:c,max:h,minDefined:f,maxDefined:p}=a.getUserBounds();f&&(s=Wt(Math.min(Te(o,a.axis,c).lo,e?i:Te(t,l,a.getPixelForValue(c)).lo),0,i-1)),p?r=Wt(Math.max(Te(o,a.axis,h).hi+1,e?0:Te(t,l,a.getPixelForValue(h)).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function Td(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;let r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}var ti=class extends ke{constructor(t,e){super(t,e);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Cn(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){let t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),o=(r-a)/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){let r=s==="reset",a=this.chart,o=this.getDataset(),c=a.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,p=h.yCenter,m=h.getIndexAngle(0)-.5*Et,v=m,k,_=360/this.countVisibleElements();for(k=0;k<e;++k)v+=this._computeAngle(k,s,_);for(k=e;k<e+i;k++){let E=t[k],T=v,I=v+this._computeAngle(k,s,_),F=a.getDataVisibility(k)?h.getDistanceFromCenterForValue(o.data[k]):0;v=I,r&&(c.animateScale&&(F=0),c.animateRotate&&(T=I=m));let L={x:f,y:p,innerRadius:0,outerRadius:F,startAngle:T,endAngle:I,options:this.resolveDataElementOptions(k,E.active?"active":s)};this.updateElement(E,k,L,s)}}countVisibleElements(){let t=this.getDataset(),e=this._cachedMeta,i=0;return e.data.forEach((s,r)=>{!isNaN(t.data[r])&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?me(this.resolveDataElementOptions(t,e).angle||i):0}};ti.id="polarArea";ti.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};ti.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let t=n.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,s)=>{let a=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var Xi=class extends cn{};Xi.id="pie";Xi.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var ei=class extends ke{getLabelAndValue(t){let e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}update(t){let e=this._cachedMeta,i=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(i.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let o={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){let r=this.getDataset(),a=this._cachedMeta.rScale,o=s==="reset";for(let l=e;l<e+i;l++){let c=t[l],h=this.resolveDataElementOptions(l,c.active?"active":s),f=a.getPointPositionForValue(l,r.data[l]),p=o?a.xCenter:f.x,m=o?a.yCenter:f.y,v={x:p,y:m,angle:f.angle,skip:isNaN(p)||isNaN(m),options:h};this.updateElement(c,l,v,s)}}};ei.id="radar";ei.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};ei.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var ni=class extends Tn{};ni.id="scatter";ni.defaults={showLine:!1,fill:!1};ni.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Pd=Object.freeze({__proto__:null,BarController:Jn,BubbleController:Qn,DoughnutController:cn,LineController:Tn,PolarAreaController:ti,PieController:Xi,RadarController:ei,ScatterController:ni});function hn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ki=class{constructor(t){this.options=t||{}}formats(){return hn()}parse(t,e){return hn()}format(t,e){return hn()}add(t,e,i){return hn()}diff(t,e,i){return hn()}startOf(t,e,i){return hn()}endOf(t,e){return hn()}};Ki.override=function(n){Object.assign(Ki.prototype,n)};var Dd={_date:Ki};function ii(n,t){return"native"in n?{x:n.x,y:n.y}:pr(n,t)}function Od(n,t){let e=n.getSortedVisibleDatasetMetas(),i,s,r;for(let a=0,o=e.length;a<o;++a){({index:i,data:s}=e[a]);for(let l=0,c=s.length;l<c;++l)r=s[l],r.skip||t(r,i,l)}}function Ed(n,t,e,i){let{controller:s,data:r,_sorted:a}=n,o=s._cachedMeta.iScale;if(o&&t===o.axis&&a&&r.length){let l=o._reversePixels?oo:Te;if(i){if(s._sharedOptions){let c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let f=l(r,t,e-h),p=l(r,t,e+h);return{lo:f.lo,hi:p.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Wo(n,t,e,i,s){let r=n.getSortedVisibleDatasetMetas(),a=e[t];for(let o=0,l=r.length;o<l;++o){let{index:c,data:h}=r[o],{lo:f,hi:p}=Ed(r[o],t,a,s);for(let m=f;m<=p;++m){let v=h[m];v.skip||i(v,c,m)}}}function Rd(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){let r=t?Math.abs(i.x-s.x):0,a=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Cr(n,t,e,i){let s=[];return Ue(t,n.chartArea,n._minPadding)&&Wo(n,e,t,function(a,o,l){a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:o,index:l})},!0),s}function Tr(n,t,e,i,s){let r=Rd(e),a=Number.POSITIVE_INFINITY,o=[];return Ue(t,n.chartArea,n._minPadding)&&Wo(n,e,t,function(c,h,f){if(i&&!c.inRange(t.x,t.y,s))return;let p=c.getCenterPoint(s);if(!Ue(p,n.chartArea,n._minPadding)&&!c.inRange(t.x,t.y,s))return;let m=r(t,p);m<a?(o=[{element:c,datasetIndex:h,index:f}],a=m):m===a&&o.push({element:c,datasetIndex:h,index:f})}),o}function Yo(n,t,e,i){let s=ii(t,n),r=[],a=e.axis,o=a==="x"?"inXRange":"inYRange",l=!1;return Od(n,(c,h,f)=>{c[o](s[a],i)&&r.push({element:c,datasetIndex:h,index:f}),c.inRange(s.x,s.y,i)&&(l=!0)}),e.intersect&&!l?[]:r}var Ad={modes:{index(n,t,e,i){let s=ii(t,n),r=e.axis||"x",a=e.intersect?Cr(n,s,r,i):Tr(n,s,r,!1,i),o=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let c=a[0].index,h=l.data[c];h&&!h.skip&&o.push({element:h,datasetIndex:l.index,index:c})}),o):[]},dataset(n,t,e,i){let s=ii(t,n),r=e.axis||"xy",a=e.intersect?Cr(n,s,r,i):Tr(n,s,r,!1,i);if(a.length>0){let o=a[0].datasetIndex,l=n.getDatasetMeta(o).data;a=[];for(let c=0;c<l.length;++c)a.push({element:l[c],datasetIndex:o,index:c})}return a},point(n,t,e,i){let s=ii(t,n),r=e.axis||"xy";return Cr(n,s,r,i)},nearest(n,t,e,i){let s=ii(t,n),r=e.axis||"xy";return Tr(n,s,r,e.intersect,i)},x(n,t,e,i){return e.axis="x",Yo(n,t,e,i)},y(n,t,e,i){return e.axis="y",Yo(n,t,e,i)}}},Go=["left","top","right","bottom"];function si(n,t){return n.filter(e=>e.pos===t)}function qo(n,t){return n.filter(e=>Go.indexOf(e.pos)===-1&&e.box.axis===t)}function ri(n,t){return n.sort((e,i)=>{let s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Ld(n){let t=[],e,i,s,r,a,o;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:a,stackWeight:o=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return t}function Fd(n){let t={};for(let e of n){let{stack:i,pos:s,stackWeight:r}=e;if(!i||!Go.includes(s))continue;let a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function Id(n,t){let e=Fd(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t,r,a,o;for(r=0,a=n.length;r<a;++r){o=n[r];let{fullSize:l}=o.box,c=e[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:l&&t.availableHeight)}return e}function zd(n){let t=Ld(n),e=ri(t.filter(c=>c.box.fullSize),!0),i=ri(si(t,"left"),!0),s=ri(si(t,"right")),r=ri(si(t,"top"),!0),a=ri(si(t,"bottom")),o=qo(t,"x"),l=qo(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:si(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}function Uo(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Xo(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Bd(n,t,e,i){let{pos:s,box:r}=e,a=n.maxPadding;if(!ut(s)){e.size&&(n[s]-=e.size);let f=i[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,n[s]+=e.size}r.getPadding&&Xo(a,r.getPadding());let o=Math.max(0,t.outerWidth-Uo(a,n,"left","right")),l=Math.max(0,t.outerHeight-Uo(a,n,"top","bottom")),c=o!==n.w,h=l!==n.h;return n.w=o,n.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function jd(n){let t=n.maxPadding;function e(i){let s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Nd(n,t){let e=t.maxPadding;function i(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}return i(n?["left","right"]:["top","bottom"])}function ai(n,t,e,i){let s=[],r,a,o,l,c,h;for(r=0,a=n.length,c=0;r<a;++r){o=n[r],l=o.box,l.update(o.width||t.w,o.height||t.h,Nd(o.horizontal,t));let{same:f,other:p}=Bd(t,e,o,i);c|=f&&s.length,h=h||p,l.fullSize||s.push(o)}return c&&ai(s,t,e,i)||h}function Zi(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Ko(n,t,e,i){let s=e.padding,{x:r,y:a}=t;for(let o of n){let l=o.box,c=i[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){let f=t.w*h,p=c.size||l.height;de(c.start)&&(a=c.start),l.fullSize?Zi(l,s.left,a,e.outerWidth-s.right-s.left,p):Zi(l,t.left+c.placed,a,f,p),c.start=a,c.placed+=f,a=l.bottom}else{let f=t.h*h,p=c.size||l.width;de(c.start)&&(r=c.start),l.fullSize?Zi(l,r,s.top,p,e.outerHeight-s.bottom-s.top):Zi(l,r,t.top+c.placed,p,f),c.start=r,c.placed+=f,r=l.right}}t.x=r,t.y=a}ft.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Jt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let s=Zt(n.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(e-s.height,0),o=zd(n.boxes),l=o.vertical,c=o.horizontal;wt(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});let h=l.reduce((k,_)=>_.box.options&&_.box.options.display===!1?k:k+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},s);Xo(p,Zt(i));let m=Object.assign({maxPadding:p,w:r,h:a,x:s.left,y:s.top},s),v=Id(l.concat(c),f);ai(o.fullSize,m,f,v),ai(l,m,f,v),ai(c,m,f,v)&&ai(l,m,f,v),jd(m),Ko(o.leftAndTop,m,f,v),m.x+=m.w,m.y+=m.h,Ko(o.rightAndBottom,m,f,v),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},wt(o.chartArea,k=>{let _=k.box;Object.assign(_,n.chartArea),_.update(m.w,m.h)})}},Pr=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}},Zo=class extends Pr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Ji="$chartjs",$d={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jo=n=>n===null||n==="";function Hd(n,t){let e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ji]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Jo(s)){let r=br(n,"width");r!==void 0&&(n.width=r)}if(Jo(i))if(n.style.height==="")n.height=n.width/(t||2);else{let r=br(n,"height");r!==void 0&&(n.height=r)}return n}var Qo=xo?{passive:!0}:!1;function Vd(n,t,e){n.addEventListener(t,e,Qo)}function Wd(n,t,e){n.canvas.removeEventListener(t,e,Qo)}function Yd(n,t){let e=$d[n.type]||n.type,{x:i,y:s}=pr(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Gd(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{for(let a of r)for(let o of a.addedNodes)if(o===i||o.contains(i))return e()});return s.observe(document,{childList:!0,subtree:!0}),s}function qd(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{for(let a of r)for(let o of a.removedNodes)if(o===i||o.contains(i))return e()});return s.observe(document,{childList:!0,subtree:!0}),s}var oi=new Map,tl=0;function el(){let n=window.devicePixelRatio;n!==tl&&(tl=n,oi.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Ud(n,t){oi.size||window.addEventListener("resize",el),oi.set(n,t)}function Xd(n){oi.delete(n),oi.size||window.removeEventListener("resize",el)}function Kd(n,t,e){let i=n.canvas,s=i&&Gi(i);if(!s)return;let r=Us((o,l)=>{let c=s.clientWidth;e(o,l),c<s.clientWidth&&e()},window),a=new ResizeObserver(o=>{let l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return a.observe(s),Ud(n,r),a}function Dr(n,t,e){e&&e.disconnect(),t==="resize"&&Xd(n)}function Zd(n,t,e){let i=n.canvas,s=Us(r=>{n.ctx!==null&&e(Yd(r,n))},n,r=>{let a=r[0];return[a,a.offsetX,a.offsetY]});return Vd(i,t,s),s}var nl=class extends Pr{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Hd(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[Ji])return!1;let i=e[Ji].initial;["height","width"].forEach(r=>{let a=i[r];bt(a)?e.removeAttribute(r):e.setAttribute(r,a)});let s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Ji],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),a={attach:Gd,detach:qd,resize:Kd}[e]||Zd;s[e]=a(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Dr,detach:Dr,resize:Dr}[e]||Wd)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return yo(t,e,i,s)}isAttached(t){let e=Gi(t);return!!(e&&e.isConnected)}};function Jd(n){return!dr()||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas?Zo:nl}var ve=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return sn(this.x)&&sn(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};ve.defaults={};ve.defaultRoutes=void 0;var il={values(n){return Pt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,s,r=n;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=Qd(n,e)}let a=pe(Math.abs(r)),o=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Cn(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";let i=n/Math.pow(10,Math.floor(pe(n)));return i===1||i===2||i===5?il.numeric.call(this,n,t,e):""}};function Qd(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Qi={formatters:il};ft.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ft.route("scale.ticks","color","","color");ft.route("scale.grid","color","","borderColor");ft.route("scale.grid","borderColor","","borderColor");ft.route("scale.title","color","","color");ft.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});ft.describe("scales",{_fallback:"scale"});ft.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function tp(n,t){let e=n.options.ticks,i=e.maxTicksLimit||ep(n),s=e.major.enabled?ip(t):[],r=s.length,a=s[0],o=s[r-1],l=[];if(r>i)return sp(t,l,s,r/i),l;let c=np(s,t,i);if(r>0){let h,f,p=r>1?Math.round((o-a)/(r-1)):null;for(ts(t,l,c,bt(p)?0:a-p,a),h=0,f=r-1;h<f;h++)ts(t,l,c,s[h],s[h+1]);return ts(t,l,c,o,bt(p)?t.length:o+p),l}return ts(t,l,c),l}function ep(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function np(n,t,e){let i=rp(n),s=t.length/e;if(!i)return Math.max(s,1);let r=$a(i);for(let a=0,o=r.length-1;a<o;a++){let l=r[a];if(l>s)return l}return Math.max(s,1)}function ip(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function sp(n,t,e,i){let s=0,r=e[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===r&&(t.push(n[a]),s++,r=e[s*i])}function ts(n,t,e,i,s){let r=ot(i,0),a=Math.min(ot(s,n.length),n.length),o=0,l,c,h;for(e=Math.ceil(e),s&&(l=s-i,e=l/Math.floor(l/e)),h=r;h<0;)o++,h=Math.round(r+o*e);for(c=Math.max(r,0);c<a;c++)c===h&&(t.push(n[c]),o++,h=Math.round(r+o*e))}function rp(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var ap=n=>n==="left"?"right":n==="right"?"left":n,sl=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e;function rl(n,t){let e=[],i=n.length/t,s=n.length,r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function op(n,t,e){let i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,a=n._endPixel,o=1e-6,l=n.getPixelForTick(s),c;if(!(e&&(i===1?c=Math.max(l-r,a-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-o||l>a+o)))return l}function lp(n,t){wt(n,e=>{let i=e.gc,s=i.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function li(n){return n.drawTicks?n.tickLength:0}function al(n,t){if(!n.display)return 0;let e=$t(n.font,t),i=Zt(n.padding);return(Pt(n.text)?n.text.length:1)*e.lineHeight+i.height}function cp(n,t){return Fe(n,{scale:t,type:"scale"})}function hp(n,t,e){return Fe(n,{tick:e,index:t,type:"tick"})}function up(n,t,e){let i=Oi(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ap(i)),i}function fp(n,t,e,i){let{top:s,left:r,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:h}=l,f=0,p,m,v,k=a-s,_=o-r;if(n.isHorizontal()){if(m=Xt(i,r,o),ut(e)){let E=Object.keys(e)[0],T=e[E];v=h[E].getPixelForValue(T)+k-t}else e==="center"?v=(c.bottom+c.top)/2+k-t:v=sl(n,e,t);p=o-r}else{if(ut(e)){let E=Object.keys(e)[0],T=e[E];m=h[E].getPixelForValue(T)-_+t}else e==="center"?m=(c.left+c.right)/2-_+t:m=sl(n,e,t);v=Xt(i,a,s),f=e==="left"?-Lt:Lt}return{titleX:m,titleY:v,maxWidth:p,rotation:f}}var Ze=class extends ve{constructor(t){super();this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=fe(t,Number.POSITIVE_INFINITY),e=fe(e,Number.NEGATIVE_INFINITY),i=fe(i,Number.POSITIVE_INFINITY),s=fe(s,Number.NEGATIVE_INFINITY),{min:fe(t,i),max:fe(e,s),minDefined:At(t),maxDefined:At(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:e,max:i};let o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),s||(e=Math.min(e,a.min)),r||(i=Math.max(i,a.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:fe(e,fe(i,e)),max:fe(i,fe(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ao(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=o<this.ticks.length;this._convertTicksToLabels(l?rl(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=tp(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Dt(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,r=e.maxRotation,a=s,o,l,c;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),f=h.widest.width,p=h.highest.height,m=Wt(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/i:m/(i-1),f+6>o&&(o=m/(i-(t.offset?.5:1)),l=this.maxHeight-li(t.grid)-e.padding-al(t.title,this.chart.options.font),c=Math.sqrt(f*f+p*p),a=Li(Math.min(Math.asin(Wt((h.highest.height+6)/o,-1,1)),Math.asin(Wt(l/c,-1,1))-Math.asin(Wt(p/c,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){let l=al(s,e.options.font);if(o?(t.width=this.maxWidth,t.height=li(r)+l):(t.height=this.maxHeight,t.width=li(r)+l),i.display&&this.ticks.length){let{first:c,last:h,widest:f,highest:p}=this._getLabelSizes(),m=i.padding*2,v=me(this.labelRotation),k=Math.cos(v),_=Math.sin(v);if(o){let E=i.mirror?0:_*f.width+k*p.height;t.height=Math.min(this.maxHeight,t.height+E+m)}else{let E=i.mirror?0:k*f.width+_*p.height;t.width=Math.min(this.maxWidth,t.width+E+m)}this._calculatePadding(c,h,_,k)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){let{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),p=0,m=0;l?c?(p=s*t.width,m=i*e.height):(p=i*t.height,m=s*e.width):r==="start"?m=e.width:r==="end"?p=t.width:(p=t.width/2,m=e.width/2),this.paddingLeft=Math.max((p-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-f+a)*this.width/(this.width-f),0)}else{let h=e.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=e.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)bt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=rl(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){let{ctx:i,_longestTextCache:s}=this,r=[],a=[],o=0,l=0,c,h,f,p,m,v,k,_,E,T,I;for(c=0;c<e;++c){if(p=t[c].label,m=this._resolveTickFontOptions(c),i.font=v=m.string,k=s[v]=s[v]||{data:{},gc:[]},_=m.lineHeight,E=T=0,!bt(p)&&!Pt(p))E=Gn(i,k.data,k.gc,E,p),T=_;else if(Pt(p))for(h=0,f=p.length;h<f;++h)I=p[h],!bt(I)&&!Pt(I)&&(E=Gn(i,k.data,k.gc,E,I),T+=_);r.push(E),a.push(T),o=Math.max(E,o),l=Math.max(T,l)}lp(s,e);let F=r.indexOf(o),L=a.indexOf(l),V=$=>({width:r[$]||0,height:a[$]||0});return{first:V(0),last:V(e-1),widest:V(F),highest:V(L),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Wa(this._alignToPixels?qe(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=hp(this.getContext(),t,i))}return this.$context||(this.$context=cp(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=me(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,s=this.options,{grid:r,position:a}=s,o=r.offset,l=this.isHorizontal(),h=this.ticks.length+(o?1:0),f=li(r),p=[],m=r.setContext(this.getContext()),v=m.drawBorder?m.borderWidth:0,k=v/2,_=function(J){return qe(i,J,v)},E,T,I,F,L,V,$,G,K,et,lt,rt;if(a==="top")E=_(this.bottom),V=this.bottom-f,G=E-k,et=_(t.top)+k,rt=t.bottom;else if(a==="bottom")E=_(this.top),et=t.top,rt=_(t.bottom)-k,V=E+k,G=this.top+f;else if(a==="left")E=_(this.right),L=this.right-f,$=E-k,K=_(t.left)+k,lt=t.right;else if(a==="right")E=_(this.left),K=t.left,lt=_(t.right)-k,L=E+k,$=this.left+f;else if(e==="x"){if(a==="center")E=_((t.top+t.bottom)/2+.5);else if(ut(a)){let J=Object.keys(a)[0],ht=a[J];E=_(this.chart.scales[J].getPixelForValue(ht))}et=t.top,rt=t.bottom,V=E+k,G=V+f}else if(e==="y"){if(a==="center")E=_((t.left+t.right)/2);else if(ut(a)){let J=Object.keys(a)[0],ht=a[J];E=_(this.chart.scales[J].getPixelForValue(ht))}L=E-k,$=L-f,K=t.left,lt=t.right}let vt=ot(s.ticks.maxTicksLimit,h),st=Math.max(1,Math.ceil(h/vt));for(T=0;T<h;T+=st){let J=r.setContext(this.getContext(T)),ht=J.lineWidth,he=J.color,te=r.borderDash||[],ne=J.borderDashOffset,It=J.tickWidth,Ft=J.tickColor,Ht=J.tickBorderDash||[],zt=J.tickBorderDashOffset;I=op(this,T,o),I!==void 0&&(F=qe(i,I,ht),l?L=$=K=lt=F:V=G=et=rt=F,p.push({tx1:L,ty1:V,tx2:$,ty2:G,x1:K,y1:et,x2:lt,y2:rt,width:ht,color:he,borderDash:te,borderDashOffset:ne,tickWidth:It,tickColor:Ft,tickBorderDash:Ht,tickBorderDashOffset:zt}))}return this._ticksLength=h,this._borderValue=E,p}_computeLabelItems(t){let e=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=r,p=li(i.grid),m=p+h,v=f?-h:m,k=-me(this.labelRotation),_=[],E,T,I,F,L,V,$,G,K,et,lt,rt,vt="middle";if(s==="top")V=this.bottom-v,$=this._getXAxisLabelAlignment();else if(s==="bottom")V=this.top+v,$=this._getXAxisLabelAlignment();else if(s==="left"){let J=this._getYAxisLabelAlignment(p);$=J.textAlign,L=J.x}else if(s==="right"){let J=this._getYAxisLabelAlignment(p);$=J.textAlign,L=J.x}else if(e==="x"){if(s==="center")V=(t.top+t.bottom)/2+m;else if(ut(s)){let J=Object.keys(s)[0],ht=s[J];V=this.chart.scales[J].getPixelForValue(ht)+m}$=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")L=(t.left+t.right)/2-m;else if(ut(s)){let J=Object.keys(s)[0],ht=s[J];L=this.chart.scales[J].getPixelForValue(ht)}$=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(l==="start"?vt="top":l==="end"&&(vt="bottom"));let st=this._getLabelSizes();for(E=0,T=o.length;E<T;++E){I=o[E],F=I.label;let J=r.setContext(this.getContext(E));G=this.getPixelForTick(E)+r.labelOffset,K=this._resolveTickFontOptions(E),et=K.lineHeight,lt=Pt(F)?F.length:1;let ht=lt/2,he=J.color,te=J.textStrokeColor,ne=J.textStrokeWidth;a?(L=G,s==="top"?c==="near"||k!==0?rt=-lt*et+et/2:c==="center"?rt=-st.highest.height/2-ht*et+et:rt=-st.highest.height+et/2:c==="near"||k!==0?rt=et/2:c==="center"?rt=st.highest.height/2-ht*et:rt=st.highest.height-lt*et,f&&(rt*=-1)):(V=G,rt=(1-lt)*et/2);let It;if(J.showLabelBackdrop){let Ft=Zt(J.backdropPadding),Ht=st.heights[E],zt=st.widths[E],Gt=V+rt-Ft.top,w=L-Ft.left;switch(vt){case"middle":Gt-=Ht/2;break;case"bottom":Gt-=Ht;break}switch($){case"center":w-=zt/2;break;case"right":w-=zt;break}It={left:w,top:Gt,width:zt+Ft.width,height:Ht+Ft.height,color:J.backdropColor}}_.push({rotation:k,label:F,font:K,color:he,strokeColor:te,strokeWidth:ne,textOffset:rt,textAlign:$,textBaseline:vt,translation:[L,V],backdrop:It})}return _}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-me(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"&&(s="right"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=t+r,l=a.widest.width,c,h;return e==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,a,o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,a=s.length;r<a;++r){let l=s[r];e.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;let a=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue,l,c,h,f;this.isHorizontal()?(l=qe(t,this.left,r)-r/2,c=qe(t,this.right,a)+a/2,h=f=o):(h=qe(t,this.top,r)-r/2,f=qe(t,this.bottom,a)+a/2,l=c=o),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(l,h),e.lineTo(c,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,s=this._computeLabelArea();s&&Un(i,s);let r=this._labelItems||(this._labelItems=this._computeLabelItems(t)),a,o;for(a=0,o=r.length;a<o;++a){let l=r[a],c=l.font,h=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let f=l.textOffset;Xe(i,h,0,f,c,l)}s&&Xn(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;let r=$t(i.font),a=Zt(i.padding),o=i.align,l=r.lineHeight/2;e==="bottom"||e==="center"||ut(e)?(l+=a.bottom,Pt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=a.top;let{titleX:c,titleY:h,maxWidth:f,rotation:p}=fp(this,l,e,o);Xe(t,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:p,textAlign:up(o,e,s),textBaseline:"middle",translation:[c,h]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=ot(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Ze.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[],r,a;for(r=0,a=e.length;r<a;++r){let o=e[r];o[i]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return $t(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},ci=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;gp(e)&&(i=this.register(e));let s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,dp(t,a,i),this.override&&ft.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ft[s]&&(delete ft[s][i],this.override&&delete Ge[i])}};function dp(n,t,e){let i=yn(Object.create(null),[e?ft.get(e):{},ft.get(t),n.defaults]);ft.set(t,i),n.defaultRoutes&&pp(t,n.defaultRoutes),n.descriptors&&ft.describe(t,n.descriptors)}function pp(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),a=t[e].split("."),o=a.pop(),l=a.join(".");ft.route(r,s,l,o)})}function gp(n){return"id"in n&&"defaults"in n}var ol=class{constructor(){this.controllers=new ci(ke,"datasets",!0),this.elements=new ci(ve,"elements"),this.plugins=new ci(Object,"plugins"),this.scales=new ci(Ze,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{let r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):wt(s,a=>{let o=i||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,e,i){let s=Ri(t);Dt(i["before"+s],[],i),e[t](i),Dt(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}},ze=new ol,ll=class{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,e,i);return e==="destroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,s){s=s||{};for(let r of t){let a=r.plugin,o=a[i],l=[e,s,r.options];if(Dt(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,s=ot(i.options&&i.options.plugins,{}),r=mp(i);return s===!1&&!e?[]:_p(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}};function mp(n){let t=[],e=Object.keys(ze.plugins.items);for(let s=0;s<e.length;s++)t.push(ze.getPlugin(e[s]));let i=n.plugins||[];for(let s=0;s<i.length;s++){let r=i[s];t.indexOf(r)===-1&&t.push(r)}return t}function bp(n,t){return!t&&n===!1?null:n===!0?{}:n}function _p(n,t,e,i){let s=[],r=n.getContext();for(let a=0;a<t.length;a++){let o=t[a],l=o.id,c=bp(e[l],i);c!==null&&s.push({plugin:o,options:vp(n.config,o,c,r)})}return s}function vp(n,t,e,i){let s=n.pluginScopeKeys(t),r=n.getOptionScopes(e,s);return n.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Or(n,t){let e=ft.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function yp(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function xp(n,t){return n===t?"_index_":"_value_"}function wp(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Er(n,t){return n==="x"||n==="y"?n:t.axis||wp(t.position)||n.charAt(0).toLowerCase()}function kp(n,t){let e=Ge[n.type]||{scales:{}},i=t.scales||{},s=Or(n.type,t),r=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(o=>{let l=i[o];if(!ut(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=Er(o,l),h=xp(c,s),f=e.scales||{};r[c]=r[c]||o,a[o]=xn(Object.create(null),[{axis:c},l,f[c],f[h]])}),n.data.datasets.forEach(o=>{let l=o.type||n.type,c=o.indexAxis||Or(l,t),f=(Ge[l]||{}).scales||{};Object.keys(f).forEach(p=>{let m=yp(p,c),v=o[m+"AxisID"]||r[m]||m;a[v]=a[v]||Object.create(null),xn(a[v],[{axis:m},i[v],f[p]])})}),Object.keys(a).forEach(o=>{let l=a[o];xn(l,[ft.scales[l.type],ft.scale])}),a}function cl(n){let t=n.options||(n.options={});t.plugins=ot(t.plugins,{}),t.scales=kp(n,t)}function hl(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Sp(n){return n=n||{},n.data=hl(n.data),cl(n),n}var ul=new Map,fl=new Set;function es(n,t){let e=ul.get(n);return e||(e=t(),ul.set(n,e),fl.add(e)),e}var hi=(n,t,e)=>{let i=Ye(t,e);i!==void 0&&n.add(i)},dl=class{constructor(t){this._config=Sp(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),cl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return es(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return es(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return es(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return es(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){let{options:s,type:r}=this,a=this._cachedScopes(t,i),o=a.get(e);if(o)return o;let l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(f=>hi(l,t,f))),h.forEach(f=>hi(l,s,f)),h.forEach(f=>hi(l,Ge[r]||{},f)),h.forEach(f=>hi(l,ft,f)),h.forEach(f=>hi(l,$i,f))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),fl.has(e)&&a.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Ge[e]||{},ft.datasets[e]||{},{type:e},ft,$i]}resolveNamedOptions(t,e,i,s=[""]){let r={$shared:!0},{resolver:a,subPrefixes:o}=pl(this._resolverCache,t,s),l=a;if(Cp(a,e)){r.$shared=!1,i=Le(i)?i():i;let c=this.createResolver(t,i,o);l=an(a,i,c)}for(let c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],s){let{resolver:r}=pl(this._resolverCache,t,i);return ut(e)?an(r,e,void 0,s):r}};function pl(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let s=e.join(),r=i.get(s);return r||(r={resolver:Wi(t,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}var Mp=n=>ut(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Le(n[e]),!1);function Cp(n,t){let{isScriptable:e,isIndexable:i}=ur(n);for(let s of t){let r=e(s),a=i(s),o=(a||r)&&n[s];if(r&&(Le(o)||Mp(o))||a&&Pt(o))return!0}return!1}var Tp="3.6.0",Pp=["top","bottom","left","right","chartArea"];function gl(n,t){return n==="top"||n==="bottom"||Pp.indexOf(n)===-1&&t==="x"}function ml(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function bl(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Dt(e&&e.onComplete,[n],t)}function Dp(n){let t=n.chart,e=t.options.animation;Dt(e&&e.onProgress,[n],t)}function _l(n){return dr()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var ns={},vl=n=>{let t=_l(n);return Object.values(ns).filter(e=>e.canvas===t).pop()},un=class{constructor(t,e){let i=this.config=new dl(e),s=_l(t),r=vl(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Jd(s)),this.platform.updateConfig(i);let o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Fa(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ll,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Aa(f=>this.update(f),a.resizeDelay||0),ns[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ie.listen(this,"complete",bl),Ie.listen(this,"progress",Dp),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return bt(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return or(this.canvas,this.ctx),this}stop(){return Ie.stop(this),this}resize(t,e){Ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,e,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,!!mr(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Dt(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};wt(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{}),r=[];e&&(r=r.concat(Object.keys(e).map(a=>{let o=e[a],l=Er(a,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),wt(r,a=>{let o=a.options,l=o.id,c=Er(l,o),h=ot(o.type,a.dtype);(o.position===void 0||gl(o.position,c)!==gl(a.dposition))&&(o.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{let p=ze.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,t)}),wt(s,(a,o)=>{a||delete i[o]}),wt(i,a=>{Jt.configure(this,a,a.options),Jt.addBox(this,a)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(ml("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){let r=e[i],a=this.getDatasetMeta(i),o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||Or(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=ze.getController(o),{datasetElementType:c,dataElementType:h}=ft.datasets[o];Object.assign(l.prototype,{dataElementType:ze.getElement(h),datasetElementType:c&&ze.getElement(c)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){wt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext());wt(this.scales,c=>{Jt.removeBox(this,c)});let s=this._animationsDisabled=!i.animation;this.ensureScalesHaveIDs(),this.buildOrUpdateScales();let r=new Set(Object.keys(this._listeners)),a=new Set(i.events);if((!ja(r,a)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let c=0,h=this.data.datasets.length;c<h;c++){let{controller:f}=this.getDatasetMeta(c),p=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(p),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||wt(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ml("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jt.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],wt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Le(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ie.has(this)?this.attached&&!Ie.running(this)&&Ie.start(this):(this.draw(),bl({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,i=[],s,r;for(s=0,r=e.length;s<r;++s){let a=e[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i=t._clip,s=!i.disabled,r=this.chartArea,a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Un(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Xn(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}getElementsAtEventForMode(t,e,i,s){let r=Ad.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Fe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){let i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);de(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),or(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ns[this.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(r,a)=>{e.addEventListener(this,r,a),t[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};wt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)},a,o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():a()}unbindEvents(){wt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},wt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let s=i?"set":"remove",r,a,o,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];let c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{let o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!Bn(i,e)&&(this._active=i,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){let s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=r(e,t),o=i?t:r(t,e);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let r=this._handleEvent(t,e);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e){let{_active:i=[],options:s}=this,r=s.hover,a=e,o=[],l=!1,c=null;return t.type!=="mouseout"&&(o=this.getElementsAtEventForMode(t,r.mode,r,a),c=t.type==="click"?this._lastEvent:t),this._lastEvent=null,Ue(t,this.chartArea,this._minPadding)&&(Dt(s.onHover,[t,o,this],this),(t.type==="mouseup"||t.type==="click"||t.type==="contextmenu")&&Dt(s.onClick,[t,o,this],this)),l=!Bn(o,i),(l||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=c,l}},yl=()=>wt(un.instances,n=>n._plugins.invalidate()),Je=!0;Object.defineProperties(un,{defaults:{enumerable:Je,value:ft},instances:{enumerable:Je,value:ns},overrides:{enumerable:Je,value:Ge},registry:{enumerable:Je,value:ze},version:{enumerable:Je,value:Tp},getChart:{enumerable:Je,value:vl},register:{enumerable:Je,value:(...n)=>{ze.add(...n),yl()}},unregister:{enumerable:Je,value:(...n)=>{ze.remove(...n),yl()}}});function xl(n,t,e){let{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:o,innerRadius:l}=t,c=s/o;n.beginPath(),n.arc(r,a,o,i-c,e+c),l>s?(c=s/l,n.arc(r,a,l,e+c,i-c,!0)):n.arc(r,a,s,e+Lt,i-Lt),n.closePath(),n.clip()}function Op(n){return Hi(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Ep(n,t,e,i){let s=Op(n.options.borderRadius),r=(e-t)/2,a=Math.min(r,i*t/2),o=l=>{let c=(e-Math.min(r,l))*i/2;return Wt(l,0,Math.min(r,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Wt(s.innerStart,0,a),innerEnd:Wt(s.innerEnd,0,a)}}function Pn(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Rr(n,t,e,i,s){let{x:r,y:a,startAngle:o,pixelMargin:l,innerRadius:c}=t,h=Math.max(t.outerRadius+i+e-l,0),f=c>0?c+i+e+l:0,p=0,m=s-o;if(i){let ht=c>0?c-i:0,he=h>0?h-i:0,te=(ht+he)/2,ne=te!==0?m*te/(te+i):m;p=(m-ne)/2}let v=Math.max(.001,m*h-e/Et)/h,k=(m-v)/2,_=o+k+p,E=s-k-p,{outerStart:T,outerEnd:I,innerStart:F,innerEnd:L}=Ep(t,f,h,E-_),V=h-T,$=h-I,G=_+T/V,K=E-I/$,et=f+F,lt=f+L,rt=_+F/et,vt=E-L/lt;if(n.beginPath(),n.arc(r,a,h,G,K),I>0){let ht=Pn($,K,r,a);n.arc(ht.x,ht.y,I,K,E+Lt)}let st=Pn(lt,E,r,a);if(n.lineTo(st.x,st.y),L>0){let ht=Pn(lt,vt,r,a);n.arc(ht.x,ht.y,L,E+Lt,vt+Math.PI)}if(n.arc(r,a,f,E-L/f,_+F/f,!0),F>0){let ht=Pn(et,rt,r,a);n.arc(ht.x,ht.y,F,rt+Math.PI,_-Lt)}let J=Pn(V,_,r,a);if(n.lineTo(J.x,J.y),T>0){let ht=Pn(V,G,r,a);n.arc(ht.x,ht.y,T,_-Lt,G)}n.closePath()}function Rp(n,t,e,i){let{fullCircles:s,startAngle:r,circumference:a}=t,o=t.endAngle;if(s){Rr(n,t,e,i,r+Mt);for(let l=0;l<s;++l)n.fill();isNaN(a)||(o=r+a%Mt,a%Mt==0&&(o+=Mt))}return Rr(n,t,e,i,o),n.fill(),o}function Ap(n,t,e){let{x:i,y:s,startAngle:r,pixelMargin:a,fullCircles:o}=t,l=Math.max(t.outerRadius-a,0),c=t.innerRadius+a,h;for(e&&xl(n,t,r+Mt),n.beginPath(),n.arc(i,s,c,r+Mt,r,!0),h=0;h<o;++h)n.stroke();for(n.beginPath(),n.arc(i,s,l,r,r+Mt),h=0;h<o;++h)n.stroke()}function Lp(n,t,e,i,s){let{options:r}=t,a=r.borderAlign==="inner";!r.borderWidth||(a?(n.lineWidth=r.borderWidth*2,n.lineJoin="round"):(n.lineWidth=r.borderWidth,n.lineJoin="bevel"),t.fullCircles&&Ap(n,t,a),a&&xl(n,t,s),Rr(n,t,e,i,s),n.stroke())}var ui=class extends ve{constructor(t){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let s=this.getProps(["x","y"],i),{angle:r,distance:a}=Va(s,{x:t,y:e}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=this.options.spacing/2,m=f>=Mt||Nn(r,o,l),v=a>=c+p&&a<=h+p;return m&&v}getCenterPoint(t){let{x:e,y:i,startAngle:s,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,h=(s+r)/2,f=(a+o+c+l)/2;return{x:e+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,s=(e.offset||0)/2,r=(e.spacing||0)/2;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Mt?Math.floor(i/Mt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(s){a=s/2;let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*a,Math.sin(l)*a),this.circumference>=Et&&(a=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;let o=Rp(t,this,a,r);Lp(t,this,a,r,o),t.restore()}};ui.id="arc";ui.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ui.defaultRoutes={backgroundColor:"backgroundColor"};function wl(n,t,e=t){n.lineCap=ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ot(e.borderDash,t.borderDash)),n.lineDashOffset=ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ot(e.borderWidth,t.borderWidth),n.strokeStyle=ot(e.borderColor,t.borderColor)}function Fp(n,t,e){n.lineTo(e.x,e.y)}function Ip(n){return n.stepped?so:n.tension||n.cubicInterpolationMode==="monotone"?ro:Fp}function kl(n,t,e={}){let i=n.length,{start:s=0,end:r=i-1}=e,{start:a,end:o}=t,l=Math.max(s,a),c=Math.min(r,o),h=s<a&&r<a||s>o&&r>o;return{count:i,start:l,loop:t.loop,ilen:c<l&&!h?i+c-l:c-l}}function zp(n,t,e,i){let{points:s,options:r}=t,{count:a,start:o,loop:l,ilen:c}=kl(s,e,i),h=Ip(r),{move:f=!0,reverse:p}=i||{},m,v,k;for(m=0;m<=c;++m)v=s[(o+(p?c-m:m))%a],!v.skip&&(f?(n.moveTo(v.x,v.y),f=!1):h(n,k,v,p,r.stepped),k=v);return l&&(v=s[(o+(p?c:0))%a],h(n,k,v,p,r.stepped)),!!l}function Bp(n,t,e,i){let s=t.points,{count:r,start:a,ilen:o}=kl(s,e,i),{move:l=!0,reverse:c}=i||{},h=0,f=0,p,m,v,k,_,E,T=F=>(a+(c?o-F:F))%r,I=()=>{k!==_&&(n.lineTo(h,_),n.lineTo(h,k),n.lineTo(h,E))};for(l&&(m=s[T(0)],n.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=s[T(p)],m.skip)continue;let F=m.x,L=m.y,V=F|0;V===v?(L<k?k=L:L>_&&(_=L),h=(f*h+F)/++f):(I(),n.lineTo(F,L),v=V,f=0,k=_=L),E=L}I()}function Ar(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Bp:zp}function jp(n){return n.stepped?wo:n.tension||n.cubicInterpolationMode==="monotone"?ko:Ke}function Np(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),wl(n,t.options),n.stroke(s)}function $p(n,t,e,i){let{segments:s,options:r}=t,a=Ar(t);for(let o of s)wl(n,r,o.style),n.beginPath(),a(n,t,o,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var Hp=typeof Path2D=="function";function Vp(n,t,e,i){Hp&&!t.options.segment?Np(n,t,e,i):$p(n,t,e,i)}var Be=class extends ve{constructor(t){super();this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;vo(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=To(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i=this.options,s=t[e],r=this.points,a=xr(this,{property:e,start:s,end:s});if(!a.length)return;let o=[],l=jp(i),c,h;for(c=0,h=a.length;c<h;++c){let{start:f,end:p}=a[c],m=r[f],v=r[p];if(m===v){o.push(m);continue}let k=Math.abs((s-m[e])/(v[e]-m[e])),_=l(m,v,k,i.stepped);_[e]=t[e],o.push(_)}return o.length===1?o[0]:o}pathSegment(t,e,i){return Ar(this)(t,this,e,i)}path(t,e,i){let s=this.segments,r=Ar(this),a=this._loop;e=e||0,i=i||this.points.length-e;for(let o of s)a&=r(t,this,o,{start:e,end:e+i-1});return!!a}draw(t,e,i,s){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Vp(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};Be.id="line";Be.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Be.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Be.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function Sl(n,t,e,i){let s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}var fi=class extends ve{constructor(t){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){let s=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(e-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Sl(this,t,"x",e)}inYRange(t,e){return Sl(this,t,"y",e)}getCenterPoint(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){let i=this.options;this.skip||i.radius<.1||!Ue(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,qn(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};fi.id="point";fi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};fi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Ml(n,t){let{x:e,y:i,base:s,width:r,height:a}=n.getProps(["x","y","base","width","height"],t),o,l,c,h,f;return n.horizontal?(f=a/2,o=Math.min(e,s),l=Math.max(e,s),c=i-f,h=i+f):(f=r/2,o=e-f,l=e+f,c=Math.min(i,s),h=Math.max(i,s)),{left:o,top:c,right:l,bottom:h}}function Qe(n,t,e,i){return n?0:Wt(t,e,i)}function Wp(n,t,e){let i=n.options.borderWidth,s=n.borderSkipped,r=lr(i);return{t:Qe(s.top,r.top,0,e),r:Qe(s.right,r.right,0,t),b:Qe(s.bottom,r.bottom,0,e),l:Qe(s.left,r.left,0,t)}}function Yp(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=rn(s),a=Math.min(t,e),o=n.borderSkipped,l=i||ut(s);return{topLeft:Qe(!l||o.top||o.left,r.topLeft,0,a),topRight:Qe(!l||o.top||o.right,r.topRight,0,a),bottomLeft:Qe(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:Qe(!l||o.bottom||o.right,r.bottomRight,0,a)}}function Gp(n){let t=Ml(n),e=t.right-t.left,i=t.bottom-t.top,s=Wp(n,e/2,i/2),r=Yp(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Lr(n,t,e,i){let s=t===null,r=e===null,o=n&&!(s&&r)&&Ml(n,i);return o&&(s||t>=o.left&&t<=o.right)&&(r||e>=o.top&&e<=o.bottom)}function qp(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Up(n,t){n.rect(t.x,t.y,t.w,t.h)}function Fr(n,t,e={}){let i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,a=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+a,radius:n.radius}}var di=class extends ve{constructor(t){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=Gp(this),o=qp(a.radius)?Kn:Up;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),o(t,Fr(a,e,r)),t.clip(),o(t,Fr(r,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,Fr(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Lr(this,t,e,i)}inXRange(t,e){return Lr(this,t,null,e)}inYRange(t,e){return Lr(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};di.id="bar";di.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};di.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Xp=Object.freeze({__proto__:null,ArcElement:ui,LineElement:Be,PointElement:fi,BarElement:di});function Kp(n,t,e,i,s){let r=s.samples||i;if(r>=e)return n.slice(t,t+e);let a=[],o=(e-2)/(r-2),l=0,c=t+e-1,h=t,f,p,m,v,k;for(a[l++]=n[h],f=0;f<r-2;f++){let _=0,E=0,T,I=Math.floor((f+1)*o)+1+t,F=Math.min(Math.floor((f+2)*o)+1,e)+t,L=F-I;for(T=I;T<F;T++)_+=n[T].x,E+=n[T].y;_/=L,E/=L;let V=Math.floor(f*o)+1+t,$=Math.min(Math.floor((f+1)*o)+1,e)+t,{x:G,y:K}=n[h];for(m=v=-1,T=V;T<$;T++)v=.5*Math.abs((G-_)*(n[T].y-K)-(G-n[T].x)*(E-K)),v>m&&(m=v,p=n[T],k=T);a[l++]=p,h=k}return a[l++]=n[c],a}function Zp(n,t,e,i){let s=0,r=0,a,o,l,c,h,f,p,m,v,k,_=[],E=t+e-1,T=n[t].x,F=n[E].x-T;for(a=t;a<t+e;++a){o=n[a],l=(o.x-T)/F*i,c=o.y;let L=l|0;if(L===h)c<v?(v=c,f=a):c>k&&(k=c,p=a),s=(r*s+o.x)/++r;else{let V=a-1;if(!bt(f)&&!bt(p)){let $=Math.min(f,p),G=Math.max(f,p);$!==m&&$!==V&&_.push({...n[$],x:s}),G!==m&&G!==V&&_.push({...n[G],x:s})}a>0&&V!==m&&_.push(n[V]),_.push(o),h=L,r=0,v=k=c,f=p=m=a}}return _}function Cl(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function Tl(n){n.data.datasets.forEach(t=>{Cl(t)})}function Jp(n,t){let e=t.length,i=0,s,{iScale:r}=n,{min:a,max:o,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Wt(Te(t,r.axis,a).lo,0,e-1)),c?s=Wt(Te(t,r.axis,o).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var Qp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Tl(n);return}let i=n.width;n.data.datasets.forEach((s,r)=>{let{_data:a,indexAxis:o}=s,l=n.getDatasetMeta(r),c=a||s.data;if(Sn([o,n.options.indexAxis])==="y"||l.type!=="line")return;let h=n.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:f,count:p}=Jp(l,c),m=e.threshold||4*i;if(p<=m){Cl(s);return}bt(a)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let v;switch(e.algorithm){case"lttb":v=Kp(c,f,p,i,e);break;case"min-max":v=Zp(c,f,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=v})},destroy(n){Tl(n)}};function tg(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function eg(n){let t=n.options,e=t.fill,i=ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ng(n,t,e){let i=eg(n);if(ut(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return At(s)&&Math.floor(s)===s?((i[0]==="-"||i[0]==="+")&&(s=t+s),s===t||s<0||s>=e?!1:s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ig(n){let{scale:t={},fill:e}=n,i=null,s;return e==="start"?i=t.bottom:e==="end"?i=t.top:ut(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),At(i)?(s=t.isHorizontal(),{x:s?i:null,y:s?null:i}):null}var Ir=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:s,y:r,radius:a}=this;return e=e||{start:0,end:Mt},t.arc(s,r,a,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}};function sg(n){let{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=[],a=i.reverse?t.max:t.min,o=i.reverse?t.min:t.max,l,c,h;if(e==="start"?h=a:e==="end"?h=o:ut(e)?h=e.value:h=t.getBaseValue(),i.grid.circular)return c=t.getPointPositionForValue(0,a),new Ir({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(h)});for(l=0;l<s;++l)r.push(t.getPointPositionForValue(l,h));return r}function rg(n){return(n.scale||{}).getPointPositionForValue?sg(n):ig(n)}function Pl(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ag(n,t){let{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:a,end:o})=>{o=Pl(a,o,s);let l=s[a],c=s[o];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function og(n){let{scale:t,index:e,line:i}=n,s=[],r=i.segments,a=i.points,o=lg(t,e);o.push(Dl({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){let c=r[l];for(let h=c.start;h<=c.end;h++)cg(s,a[h],o)}return new Be({points:s,options:{}})}function lg(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){let r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function cg(n,t,e){let i=[];for(let s=0;s<e.length;s++){let r=e[s],{first:a,last:o,point:l}=hg(r,t,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(n.push(l),!o)break}}n.push(...i)}function hg(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let s=i[e],r=n.segments,a=n.points,o=!1,l=!1;for(let c=0;c<r.length;c++){let h=r[c],f=a[h.start][e],p=a[h.end][e];if(s>=f&&s<=p){o=s===f,l=s===p;break}}return{first:o,last:l,point:i}}function ug(n){let{chart:t,fill:e,line:i}=n;if(At(e))return tg(t,e);if(e==="stack")return og(n);if(e==="shape")return!0;let s=rg(n);return s instanceof Ir?s:Dl(s,i)}function Dl(n,t){let e=[],i=!1;return Pt(n)?(i=!0,e=n):e=ag(n,t),e.length?new Be({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function fg(n,t,e){let s=n[t].fill,r=[t],a;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!At(s))return s;if(a=n[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function Ol(n,t,e){n.beginPath(),t.path(n),n.lineTo(t.last().x,e),n.lineTo(t.first().x,e),n.closePath(),n.clip()}function zr(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=be(s),r=be(r)),{property:n,start:s,end:r}}function El(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function dg(n,t,e){let i=n.segments,s=n.points,r=t.points,a=[];for(let o of i){let{start:l,end:c}=o;c=Pl(l,c,s);let h=zr(e,s[l],s[c],o.loop);if(!t.segments){a.push({source:o,target:h,start:s[l],end:s[c]});continue}let f=xr(t,h);for(let p of f){let m=zr(e,r[p.start],r[p.end],p.loop),v=yr(o,s,m);for(let k of v)a.push({source:k,target:p,start:{[e]:El(h,m,"start",Math.max)},end:{[e]:El(h,m,"end",Math.min)}})}}return a}function pg(n,t,e){let{top:i,bottom:s}=t.chart.chartArea,{property:r,start:a,end:o}=e||{};r==="x"&&(n.beginPath(),n.rect(a,i,o-a,s-i),n.clip())}function Rl(n,t,e,i){let s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}function Al(n,t){let{line:e,target:i,property:s,color:r,scale:a}=t,o=dg(e,i,s);for(let{source:l,target:c,start:h,end:f}of o){let{style:{backgroundColor:p=r}={}}=l,m=i!==!0;n.save(),n.fillStyle=p,pg(n,a,m&&zr(s,h,f)),n.beginPath();let v=!!e.pathSegment(n,l),k;if(m){v?n.closePath():Rl(n,i,f,s);let _=!!i.pathSegment(n,c,{move:v,reverse:!0});k=v&&_,k||Rl(n,i,h,s)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function gg(n,t){let{line:e,target:i,above:s,below:r,area:a,scale:o}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&r!==s&&(Ol(n,i,a.top),Al(n,{line:e,target:i,color:s,scale:o,property:l}),n.restore(),n.save(),Ol(n,i,a.bottom)),Al(n,{line:e,target:i,color:r,scale:o,property:l}),n.restore()}function Br(n,t,e){let i=ug(t),{line:s,scale:r,axis:a}=t,o=s.options,l=o.fill,c=o.backgroundColor,{above:h=c,below:f=c}=l||{};i&&s.points.length&&(Un(n,e),gg(n,{line:s,target:i,above:h,below:f,area:e,scale:r,axis:a}),Xn(n))}var mg={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,s=[],r,a,o,l;for(a=0;a<i;++a)r=n.getDatasetMeta(a),o=r.dataset,l=null,o&&o.options&&o instanceof Be&&(l={visible:n.isDatasetVisible(a),index:a,fill:ng(o,a,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=l,s.push(l);for(a=0;a<i;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=fg(s,a,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=s.length-1;a>=0;--a){let o=s[a].$filler;!o||(o.line.updateControlPoints(r,o.axis),i&&Br(n.ctx,o,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){let r=i[s].$filler;r&&Br(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!i||i.fill===!1||e.drawTime!=="beforeDatasetDraw"||Br(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Ll=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},bg=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,jr=class extends ve{constructor(t){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Dt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,s=$t(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Ll(i,r),c,h;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(a,r,o,l)+10):(h=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){let{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+o,f=t;r.textAlign="left",r.textBaseline="middle";let p=-1,m=-h;return this.legendItems.forEach((v,k)=>{let _=i+e/2+r.measureText(v.text).width;(k===0||c[c.length-1]+_+2*o>a)&&(f+=h,c[c.length-(k>0?0:1)]=0,m+=h,p++),l[k]={left:0,top:m,row:p,width:_,height:s},c[c.length-1]+=_+o}),f}_fitCols(t,e,i,s){let{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=a-t,f=o,p=0,m=0,v=0,k=0;return this.legendItems.forEach((_,E)=>{let T=i+e/2+r.measureText(_.text).width;E>0&&m+s+2*o>h&&(f+=p+o,c.push({width:p,height:m}),v+=p+o,k++,p=m=0),l[E]={left:v,top:m,col:k,width:T,height:s},p=Math.max(p,T),m+=s+o}),f+=p,c.push({width:p,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,a=ln(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=Xt(i,this.left+s,this.right-this.lineWidths[o]);for(let c of e)o!==c.row&&(o=c.row,l=Xt(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+t+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=Xt(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(let c of e)c.col!==o&&(o=c.col,l=Xt(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Un(t,this),this._draw(),Xn(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,o=ft.color,l=ln(t.rtl,this.left,this.width),c=$t(a.font),{color:h,padding:f}=a,p=c.size,m=p/2,v;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;let{boxWidth:k,boxHeight:_,itemHeight:E}=Ll(a,p),T=function($,G,K){if(isNaN(k)||k<=0||isNaN(_)||_<0)return;s.save();let et=ot(K.lineWidth,1);if(s.fillStyle=ot(K.fillStyle,o),s.lineCap=ot(K.lineCap,"butt"),s.lineDashOffset=ot(K.lineDashOffset,0),s.lineJoin=ot(K.lineJoin,"miter"),s.lineWidth=et,s.strokeStyle=ot(K.strokeStyle,o),s.setLineDash(ot(K.lineDash,[])),a.usePointStyle){let lt={radius:k*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:et},rt=l.xPlus($,k/2),vt=G+m;qn(s,lt,rt,vt)}else{let lt=G+Math.max((p-_)/2,0),rt=l.leftForLtr($,k),vt=rn(K.borderRadius);s.beginPath(),Object.values(vt).some(st=>st!==0)?Kn(s,{x:rt,y:lt,w:k,h:_,radius:vt}):s.rect(rt,lt,k,_),s.fill(),et!==0&&s.stroke()}s.restore()},I=function($,G,K){Xe(s,K.text,$,G+E/2,c,{strikethrough:K.hidden,textAlign:l.textAlign(K.textAlign)})},F=this.isHorizontal(),L=this._computeTitleHeight();F?v={x:Xt(r,this.left+f,this.right-i[0]),y:this.top+f+L,line:0}:v={x:this.left+f,y:Xt(r,this.top+L+f,this.bottom-e[0].height),line:0},_r(this.ctx,t.textDirection);let V=E+f;this.legendItems.forEach(($,G)=>{s.strokeStyle=$.fontColor||h,s.fillStyle=$.fontColor||h;let K=s.measureText($.text).width,et=l.textAlign($.textAlign||($.textAlign=a.textAlign)),lt=k+m+K,rt=v.x,vt=v.y;l.setWidth(this.width),F?G>0&&rt+lt+f>this.right&&(vt=v.y+=V,v.line++,rt=v.x=Xt(r,this.left+f,this.right-i[v.line])):G>0&&vt+V>this.bottom&&(rt=v.x=rt+e[v.line].width+f,v.line++,vt=v.y=Xt(r,this.top+L+f,this.bottom-e[v.line].height));let st=l.x(rt);T(st,vt,$),rt=La(et,rt+k+m,F?rt+lt:this.right,t.rtl),I(l.x(rt),vt,$),F?v.x+=lt+f:v.y+=V}),vr(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=$t(e.font),s=Zt(e.padding);if(!e.display)return;let r=ln(t.rtl,this.left,this.width),a=this.ctx,o=e.position,l=i.size/2,c=s.top+l,h,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+c,f=Xt(t.align,f,this.right-p);else{let v=this.columnSizes.reduce((k,_)=>Math.max(k,_.height),0);h=c+Xt(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}let m=Xt(o,f,f+p);a.textAlign=r.textAlign(Oi(o)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Xe(a,e.text,m,h,i)}_computeTitleHeight(){let t=this.options.title,e=$t(t.font),i=Zt(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],t>=s.left&&t<=s.left+s.width&&e>=s.top&&e<=s.top+s.height)return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!_g(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"){let s=this._hoveredItem,r=bg(s,i);s&&!r&&Dt(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Dt(e.onHover,[t,i,this],this)}else i&&Dt(e.onClick,[t,i,this],this)}};function _g(n,t){return!!(n==="mousemove"&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var vg={id:"legend",_element:jr,start(n,t,e){let i=n.legend=new jr({ctx:n.ctx,options:e,chart:n});Jt.configure(n,i,e),Jt.addBox(n,i)},stop(n){Jt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;Jt.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{let o=a.controller.getStyle(e?0:void 0),l=Zt(o.borderWidth);return{text:t[a.index].label,fillStyle:o.backgroundColor,fontColor:r,hidden:!a.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:s||o.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},is=class extends ve{constructor(t){super();this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=Pt(i.text)?i.text.length:1;this._padding=Zt(i.padding);let r=s*$t(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:s,right:r,options:a}=this,o=a.align,l=0,c,h,f;return this.isHorizontal()?(h=Xt(o,i,r),f=e+t,c=r-i):(a.position==="left"?(h=i+t,f=Xt(o,s,e),l=Et*-.5):(h=r-t,f=Xt(o,e,s),l=Et*.5),c=s-e),{titleX:h,titleY:f,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=$t(e.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(r);Xe(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:Oi(e.align),textBaseline:"middle",translation:[a,o]})}};function yg(n,t){let e=new is({ctx:n.ctx,options:t,chart:n});Jt.configure(n,e,t),Jt.addBox(n,e),n.titleBlock=e}var xg={id:"title",_element:is,start(n,t,e){yg(n,e)},stop(n){let t=n.titleBlock;Jt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;Jt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ss=new WeakMap,wg={id:"subtitle",start(n,t,e){let i=new is({ctx:n.ctx,options:e,chart:n});Jt.configure(n,i,e),Jt.addBox(n,i),ss.set(n,i)},stop(n){Jt.removeBox(n,ss.get(n)),ss.delete(n)},beforeUpdate(n,t,e){let i=ss.get(n);Jt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},pi={average(n){if(!n.length)return!1;let t,e,i=0,s=0,r=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let o=a.tooltipPosition();i+=o.x,s+=o.y,++r}}return{x:i/r,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=n.length;r<a;++r){let l=n[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),h=Fi(t,c);h<s&&(s=h,o=l)}}if(o){let l=o.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Pe(n,t){return t&&(Pt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function je(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function kg(n,t){let{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:n,label:a,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Fl(n,t){let e=n._chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:a,boxHeight:o}=t,l=$t(t.bodyFont),c=$t(t.titleFont),h=$t(t.footerFont),f=r.length,p=s.length,m=i.length,v=Zt(t.padding),k=v.height,_=0,E=i.reduce((F,L)=>F+L.before.length+L.lines.length+L.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,f&&(k+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),E){let F=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;k+=m*F+(E-m)*l.lineHeight+(E-1)*t.bodySpacing}p&&(k+=t.footerMarginTop+p*h.lineHeight+(p-1)*t.footerSpacing);let T=0,I=function(F){_=Math.max(_,e.measureText(F).width+T)};return e.save(),e.font=c.string,wt(n.title,I),e.font=l.string,wt(n.beforeBody.concat(n.afterBody),I),T=t.displayColors?a+2+t.boxPadding:0,wt(i,F=>{wt(F.before,I),wt(F.lines,I),wt(F.after,I)}),T=0,e.font=h.string,wt(n.footer,I),e.restore(),_+=v.width,{width:_,height:k}}function Sg(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Mg(n,t,e,i){let{x:s,width:r}=i,a=e.caretSize+e.caretPadding;if(n==="left"&&s+r+a>t.width||n==="right"&&s-r-a<0)return!0}function Cg(n,t,e,i){let{x:s,width:r}=e,{width:a,chartArea:{left:o,right:l}}=n,c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),Mg(c,n,t,e)&&(c="center"),c}function Il(n,t,e){let i=t.yAlign||Sg(n,e);return{xAlign:t.xAlign||Cg(n,t,e,i),yAlign:i}}function Tg(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Pg(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function zl(n,t,e,i){let{caretSize:s,caretPadding:r,cornerRadius:a}=n,{xAlign:o,yAlign:l}=e,c=s+r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=rn(a),v=Tg(t,o),k=Pg(t,l,c);return l==="center"?o==="left"?v+=c:o==="right"&&(v-=c):o==="left"?v-=Math.max(h,p)+r:o==="right"&&(v+=Math.max(f,m)+r),{x:Wt(v,0,i.width-t.width),y:Wt(k,0,i.height-t.height)}}function rs(n,t,e){let i=Zt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Bl(n){return Pe([],je(n))}function Dg(n,t,e){return Fe(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function jl(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var as=class extends ve{constructor(t){super();this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this._chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new wr(this._chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Dg(this._chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:i}=e,s=i.beforeTitle.apply(this,[t]),r=i.title.apply(this,[t]),a=i.afterTitle.apply(this,[t]),o=[];return o=Pe(o,je(s)),o=Pe(o,je(r)),o=Pe(o,je(a)),o}getBeforeBody(t,e){return Bl(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){let{callbacks:i}=e,s=[];return wt(t,r=>{let a={before:[],lines:[],after:[]},o=jl(i,r);Pe(a.before,je(o.beforeLabel.call(this,r))),Pe(a.lines,o.label.call(this,r)),Pe(a.after,je(o.afterLabel.call(this,r))),s.push(a)}),s}getAfterBody(t,e){return Bl(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){let{callbacks:i}=e,s=i.beforeFooter.apply(this,[t]),r=i.footer.apply(this,[t]),a=i.afterFooter.apply(this,[t]),o=[];return o=Pe(o,je(s)),o=Pe(o,je(r)),o=Pe(o,je(a)),o}_createItems(t){let e=this._active,i=this._chart.data,s=[],r=[],a=[],o=[],l,c;for(l=0,c=e.length;l<c;++l)o.push(kg(this._chart,e[l]));return t.filter&&(o=o.filter((h,f,p)=>t.filter(h,f,p,i))),t.itemSort&&(o=o.sort((h,f)=>t.itemSort(h,f,i))),wt(o,h=>{let f=jl(t.callbacks,h);s.push(f.labelColor.call(this,h)),r.push(f.labelPointStyle.call(this,h)),a.push(f.labelTextColor.call(this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(t,e){let i=this.options.setContext(this.getContext()),s=this._active,r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{let o=pi[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=Fl(this,i),c=Object.assign({},o,l),h=Il(this._chart,i,c),f=zl(i,c,h,this._chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this._chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){let r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){let{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=rn(o),{x:p,y:m}=t,{width:v,height:k}=e,_,E,T,I,F,L;return r==="center"?(F=m+k/2,s==="left"?(_=p,E=_-a,I=F+a,L=F-a):(_=p+v,E=_+a,I=F-a,L=F+a),T=_):(s==="left"?E=p+Math.max(l,h)+a:s==="right"?E=p+v-Math.max(c,f)-a:E=this.caretX,r==="top"?(I=m,F=I-a,_=E-a,T=E+a):(I=m+k,F=I+a,_=E+a,T=E-a),L=I),{x1:_,x2:E,x3:T,y1:I,y2:F,y3:L}}drawTitle(t,e,i){let s=this.title,r=s.length,a,o,l;if(r){let c=ln(i.rtl,this.x,this.width);for(t.x=rs(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",a=$t(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,l=0;l<r;++l)e.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===r&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,s,r){let a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:h}=r,f=$t(r.bodyFont),p=rs(this,"left",r),m=s.x(p),v=l<f.lineHeight?(f.lineHeight-l)/2:0,k=e.y+v;if(r.usePointStyle){let _={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},E=s.leftForLtr(m,c)+c/2,T=k+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,qn(t,_,E,T),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,qn(t,_,E,T)}else{t.lineWidth=a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let _=s.leftForLtr(m,c-h),E=s.leftForLtr(s.xPlus(m,1),c-h-2),T=rn(a.borderRadius);Object.values(T).some(I=>I!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Kn(t,{x:_,y:k,w:c,h:l,radius:T}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Kn(t,{x:E,y:k+1,w:c-2,h:l-2,radius:T}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(_,k,c,l),t.strokeRect(_,k,c,l),t.fillStyle=a.backgroundColor,t.fillRect(E,k+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=$t(i.bodyFont),p=f.lineHeight,m=0,v=ln(i.rtl,this.x,this.width),k=function(G){e.fillText(G,v.x(t.x+m),t.y+p/2),t.y+=p+r},_=v.textAlign(a),E,T,I,F,L,V,$;for(e.textAlign=a,e.textBaseline="middle",e.font=f.string,t.x=rs(this,_,i),e.fillStyle=i.bodyColor,wt(this.beforeBody,k),m=o&&_!=="right"?a==="center"?c/2+h:c+2+h:0,F=0,V=s.length;F<V;++F){for(E=s[F],T=this.labelTextColors[F],e.fillStyle=T,wt(E.before,k),I=E.lines,o&&I.length&&(this._drawColorBox(e,t,F,v,i),p=Math.max(f.lineHeight,l)),L=0,$=I.length;L<$;++L)k(I[L]),p=f.lineHeight;wt(E.after,k)}m=0,p=f.lineHeight,wt(this.afterBody,k),t.y-=r}drawFooter(t,e,i){let s=this.footer,r=s.length,a,o;if(r){let l=ln(i.rtl,this.x,this.width);for(t.x=rs(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",a=$t(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,o=0;o<r;++o)e.fillText(s[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){let{xAlign:r,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:h}=i,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=rn(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(o+f,l),a==="top"&&this.drawCaret(t,e,i,s),e.lineTo(o+c-p,l),e.quadraticCurveTo(o+c,l,o+c,l+p),a==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(o+c,l+h-v),e.quadraticCurveTo(o+c,l+h,o+c-v,l+h),a==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(o+m,l+h),e.quadraticCurveTo(o,l+h,o,l+h-m),a==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(o,l+f),e.quadraticCurveTo(o,l,o+f,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this._chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){let a=pi[t.position].call(this,this._active,this._eventPosition);if(!a)return;let o=this._size=Fl(this,t),l=Object.assign({},a,this._size),c=Il(e,t,l),h=zl(t,l,c,e);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=Zt(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),_r(t,e.textDirection),r.y+=a.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),vr(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,s=t.map(({datasetIndex:o,index:l})=>{let c=this._chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),r=!Bn(i,s),a=this._positionChanged(s,e);(r||a)&&(this._active=s,this._eventPosition=e,this.update(!0))}handleEvent(t,e){let i=this.options,s=this._active||[],r=!1,a=[];t.type!=="mouseout"&&(a=this._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&a.reverse());let o=this._positionChanged(a,t);return r=e||!Bn(a,s)||o,r&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_positionChanged(t,e){let{caretX:i,caretY:s,options:r}=this,a=pi[r.position].call(this,t,e);return a!==!1&&(i!==a.x||s!==a.y)}};as.positioners=pi;var Og={id:"tooltip",_element:as,positioners:pi,afterInit(n,t,e){e&&(n.tooltip=new as({_chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip,e={tooltip:t};n.notifyPlugins("beforeTooltipDraw",e)!==!1&&(t&&t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e))},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ce,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ce,beforeBody:Ce,beforeLabel:Ce,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return bt(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ce,afterBody:Ce,beforeFooter:Ce,footer:Ce,afterFooter:Ce}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Eg=Object.freeze({__proto__:null,Decimation:Qp,Filler:mg,Legend:vg,SubTitle:wg,Title:xg,Tooltip:Og}),Rg=(n,t,e)=>typeof t=="string"?n.push(t)-1:isNaN(t)?null:e;function Ag(n,t,e){let i=n.indexOf(t);if(i===-1)return Rg(n,t,e);let s=n.lastIndexOf(t);return i!==s?e:i}var Lg=(n,t)=>n===null?null:Wt(Math.round(n),0,t),gi=class extends Ze{constructor(t){super(t);this._startValue=void 0,this._valueRange=0}parse(t,e){if(bt(t))return null;let i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Ag(i,t,ot(e,t)),Lg(e,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,s=[],r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)s.push({value:a});return s}getLabelForValue(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};gi.id="category";gi.defaults={ticks:{callback:gi.prototype.getLabelForValue}};function Fg(n,t){let e=[],i=1e-14,{bounds:s,step:r,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:p}=n,m=r||1,v=h-1,{min:k,max:_}=t,E=!bt(a),T=!bt(o),I=!bt(c),F=(_-k)/(f+1),L=Ks((_-k)/v/m)*m,V,$,G,K;if(L<i&&!E&&!T)return[{value:k},{value:_}];K=Math.ceil(_/L)-Math.floor(k/L),K>v&&(L=Ks(K*L/v/m)*m),bt(l)||(V=Math.pow(10,l),L=Math.ceil(L*V)/V),s==="ticks"?($=Math.floor(k/L)*L,G=Math.ceil(_/L)*L):($=k,G=_),E&&T&&r&&Ha((o-a)/r,L/1e3)?(K=Math.round(Math.min((o-a)/L,h)),L=(o-a)/K,$=a,G=o):I?($=E?a:$,G=T?o:G,K=c-1,L=(G-$)/K):(K=(G-$)/L,wn(K,Math.round(K),L/1e3)?K=Math.round(K):K=Math.ceil(K));let et=Math.max(Js(L),Js($));V=Math.pow(10,bt(l)?et:l),$=Math.round($*V)/V,G=Math.round(G*V)/V;let lt=0;for(E&&(p&&$!==a?(e.push({value:a}),$<a&&lt++,wn(Math.round(($+lt*L)*V)/V,a,Nl(a,F,n))&&lt++):$<a&&lt++);lt<K;++lt)e.push({value:Math.round(($+lt*L)*V)/V});return T&&p&&G!==o?e.length&&wn(e[e.length-1].value,o,Nl(o,F,n))?e[e.length-1].value=o:e.push({value:o}):(!T||G===o)&&e.push({value:G}),e}function Nl(n,t,{horizontal:e,minRotation:i}){let s=me(i),r=(e?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+n).length;return Math.min(t/r,a)}var mi=class extends Ze{constructor(t){super(t);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:s,max:r}=this,a=l=>s=e?s:l,o=l=>r=i?r:l;if(t){let l=we(s),c=we(r);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),o(r+l),t||a(s-l)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,a=Fg(s,r);return t.bounds==="ticks"&&Zs(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Cn(t,this.chart.options.locale)}},os=class extends mi{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=At(t)?t:0,this.max=At(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=me(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};os.id="linear";os.defaults={ticks:{callback:Qi.formatters.numeric}};function $l(n){return n/Math.pow(10,Math.floor(pe(n)))===1}function Ig(n,t){let e=Math.floor(pe(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),s=[],r=fe(n.min,Math.pow(10,Math.floor(pe(t.min)))),a=Math.floor(pe(r)),o=Math.floor(r/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do s.push({value:r,major:$l(r)}),++o,o===10&&(o=1,++a,l=a>=0?1:l),r=Math.round(o*Math.pow(10,a)*l)/l;while(a<e||a===e&&o<i);let c=fe(n.max,r);return s.push({value:c,major:$l(r)}),s}var ls=class extends Ze{constructor(t){super(t);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=mi.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return At(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=At(t)?Math.max(0,t):null,this.max=At(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,s=this.max,r=l=>i=t?i:l,a=l=>s=e?s:l,o=(l,c)=>Math.pow(10,Math.floor(pe(l))+c);i===s&&(i<=0?(r(1),a(10)):(r(o(i,-1)),a(o(s,1)))),i<=0&&r(o(s,-1)),s<=0&&a(o(i,1)),this._zero&&this.min!==this._suggestedMin&&i===o(this.min,0)&&r(o(i,-1)),this.min=i,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=Ig(e,this);return t.bounds==="ticks"&&Zs(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Cn(t,this.chart.options.locale)}configure(){let t=this.min;super.configure(),this._startValue=pe(t),this._valueRange=pe(this.max)-pe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(pe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};ls.id="logarithmic";ls.defaults={ticks:{callback:Qi.formatters.logarithmic,major:{enabled:!0}}};function Nr(n){let t=n.ticks;if(t.display&&n.display){let e=Zt(t.backdropPadding);return ot(t.font&&t.font.size,ft.font.size)+e.height}return 0}function zg(n,t,e){return e=Pt(e)?e:[e],{w:io(n,t.string,e),h:e.length*t.lineHeight}}function Hl(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function Bg(n){let t={l:0,r:n.width,t:0,b:n.height-n.paddingTop},e={},i=[],s=[],r=n.getLabels().length;for(let a=0;a<r;a++){let o=n.options.pointLabels.setContext(n.getPointLabelContext(a));s[a]=o.padding;let l=n.getPointPosition(a,n.drawingArea+s[a]),c=$t(o.font),h=zg(n.ctx,c,n._pointLabels[a]);i[a]=h;let f=n.getIndexAngle(a),p=Li(f),m=Hl(p,l.x,h.w,0,180),v=Hl(p,l.y,h.h,90,270);m.start<t.l&&(t.l=m.start,e.l=f),m.end>t.r&&(t.r=m.end,e.r=f),v.start<t.t&&(t.t=v.start,e.t=f),v.end>t.b&&(t.b=v.end,e.b=f)}n._setReductions(n.drawingArea,t,e),n._pointLabelItems=jg(n,i,s)}function jg(n,t,e){let i=[],s=n.getLabels().length,r=n.options,a=Nr(r),o=n.getDistanceFromCenterForValue(r.ticks.reverse?n.min:n.max);for(let l=0;l<s;l++){let c=l===0?a/2:0,h=n.getPointPosition(l,o+c+e[l]),f=Li(n.getIndexAngle(l)),p=t[l],m=Hg(h.y,p.h,f),v=Ng(f),k=$g(h.x,p.w,v);i.push({x:h.x,y:m,textAlign:v,left:k,top:m,right:k+p.w,bottom:m+p.h})}return i}function Ng(n){return n===0||n===180?"center":n<180?"left":"right"}function $g(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Hg(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Vg(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){let r=i.setContext(n.getPointLabelContext(s)),a=$t(r.font),{x:o,y:l,textAlign:c,left:h,top:f,right:p,bottom:m}=n._pointLabelItems[s],{backdropColor:v}=r;if(!bt(v)){let k=Zt(r.backdropPadding);e.fillStyle=v,e.fillRect(h-k.left,f-k.top,p-h+k.width,m-f+k.height)}Xe(e,n._pointLabels[s],o,l+a.lineHeight/2,a,{color:r.color,textAlign:c,textBaseline:"middle"})}}function Vl(n,t,e,i){let{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Mt);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=n.getPointPosition(a,t),s.lineTo(r.x,r.y)}}function Wg(n,t,e,i){let s=n.ctx,r=t.circular,{color:a,lineWidth:o}=t;!r&&!i||!a||!o||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=o,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),Vl(n,e,r,i),s.closePath(),s.stroke(),s.restore())}function cs(n){return sn(n)?n:0}function Yg(n,t,e){return Fe(n,{label:e,index:t,type:"pointLabel"})}var Dn=class extends mi{constructor(t){super(t);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=Nr(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=At(t)&&!isNaN(t)?t:0,this.max=At(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nr(this.options))}generateTickLabels(t){mi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let s=Dt(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""})}fit(){let t=this.options;t.display&&t.pointLabels.display?Bg(this):this.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){let s=e.l/Math.sin(i.l),r=Math.max(e.r-this.width,0)/Math.sin(i.r),a=-e.t/Math.cos(i.t),o=-Math.max(e.b-(this.height-this.paddingTop),0)/Math.cos(i.b);s=cs(s),r=cs(r),a=cs(a),o=cs(o),this.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(s+r)/2),Math.floor(t-(a+o)/2))),this.setCenterPoint(s,r,a,o)}setCenterPoint(t,e,i,s){let r=this.width-e-this.drawingArea,a=t+this.drawingArea,o=i+this.drawingArea,l=this.height-this.paddingTop-s-this.drawingArea;this.xCenter=Math.floor((a+r)/2+this.left),this.yCenter=Math.floor((o+l)/2+this.top+this.paddingTop)}getIndexAngle(t){let e=Mt/this.getLabels().length,i=this.options.startAngle||0;return be(t*e+me(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(bt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return Yg(this.getContext(),t,i)}}getPointPosition(t,e){let i=this.getIndexAngle(t)-Lt;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),Vl(this,this.getDistanceFromCenterForValue(this._endValue),e,this.getLabels().length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,r=this.getLabels().length,a,o,l;if(e.pointLabels.display&&Vg(this,r),s.display&&this.ticks.forEach((c,h)=>{if(h!==0){o=this.getDistanceFromCenterForValue(c.value);let f=s.setContext(this.getContext(h-1));Wg(this,f,o,r)}}),i.display){for(t.save(),a=this.getLabels().length-1;a>=0;a--){let c=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=c;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let s=this.getIndexAngle(0),r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),h=$t(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,a=t.measureText(o.label).width,t.fillStyle=c.backdropColor;let f=Zt(c.backdropPadding);t.fillRect(-a/2-f.left,-r-h.size/2-f.top,a+f.width,h.size+f.height)}Xe(t,o.label,0,-r,h,{color:c.color})}),t.restore()}drawTitle(){}};Dn.id="radialLinear";Dn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5}};Dn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Dn.descriptors={angleLines:{_fallback:"grid"}};var hs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oe=Object.keys(hs);function Gg(n,t){return n-t}function Wl(n,t){if(bt(t))return null;let e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts,a=t;return typeof i=="function"&&(a=i(a)),At(a)||(a=typeof i=="string"?e.parse(a,i):e.parse(a)),a===null?null:(s&&(a=s==="week"&&(sn(r)||r===!0)?e.startOf(a,"isoWeek",r):e.startOf(a,s)),+a)}function Yl(n,t,e,i){let s=oe.length;for(let r=oe.indexOf(n);r<s-1;++r){let a=hs[oe[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(o*a.size))<=i)return oe[r]}return oe[s-1]}function qg(n,t,e,i,s){for(let r=oe.length-1;r>=oe.indexOf(e);r--){let a=oe[r];if(hs[a].common&&n._adapter.diff(s,i,a)>=t-1)return a}return oe[e?oe.indexOf(e):0]}function Ug(n){for(let t=oe.indexOf(n)+1,e=oe.length;t<e;++t)if(hs[oe[t]].common)return oe[t]}function Gl(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:s}=Vi(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function Xg(n,t,e,i){let s=n._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value,o,l;for(o=r;o<=a;o=+s.add(o,1,i))l=e[o],l>=0&&(t[l].major=!0);return t}function ql(n,t,e){let i=[],s={},r=t.length,a,o;for(a=0;a<r;++a)o=t[a],s[o]=a,i.push({value:o,major:!1});return r===0||!e?i:Xg(n,i,s,e)}var On=class extends Ze{constructor(t){super(t);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){let i=t.time||(t.time={}),s=this._adapter=new Dd._date(t.adapters.date);xn(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Wl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=At(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=At(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let r=this.min,a=this.max,o=lo(s,r,a);return this._unit=e.unit||(i.autoSkip?Yl(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):qg(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ug(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),ql(this,o,this._majorUnit)}initOffsets(t){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;e=Wt(e,0,a),i=Wt(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){let t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||Yl(r.minUnit,e,i,this._getLabelCapacity(e)),o=ot(r.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=sn(l)||l===!0,h={},f=e,p,m;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":a),t.diff(i,e,a)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+a);let v=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<i;p=+t.add(p,o,a),m++)Gl(h,p,v);return(p===i||s.bounds==="ticks"||m===1)&&Gl(h,p,v),Object.keys(h).sort((k,_)=>k-_).map(k=>+k)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){let r=this.options,a=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],h=l&&a[l],f=i[e],p=l&&h&&f&&f.major,m=this._adapter.format(t,s||(p?h:c)),v=r.ticks.callback;return v?Dt(v,[m,e,i],this):m}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,s=me(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,ql(this,[t],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,i;if(t.length)return t;let s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Wl(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return hr(t.sort(Gg))}};On.id="time";On.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function us(n,t,e){let i=0,s=n.length-1,r,a,o,l;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Te(n,"pos",t)),{pos:r,time:o}=n[i],{pos:a,time:l}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Te(n,"time",t)),{time:r,pos:o}=n[i],{time:a,pos:l}=n[s]);let c=a-r;return c?o+(l-o)*(t-r)/c:o}var fs=class extends On{constructor(t){super(t);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=us(e,this.min),this._tableRange=us(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,s=[],r=[],a,o,l,c,h;for(a=0,o=t.length;a<o;++a)c=t[a],c>=e&&c<=i&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)h=s[a+1],l=s[a-1],c=s[a],Math.round((h+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(us(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return us(this._table,i*this._tableRange+this._minPos,!0)}};fs.id="timeseries";fs.defaults=On.defaults;var Kg=Object.freeze({__proto__:null,CategoryScale:gi,LinearScale:os,LogarithmicScale:ls,RadialLinearScale:Dn,TimeScale:On,TimeSeriesScale:fs}),Ul=[Pd,Xp,Eg,Kg];var ds=Ae(require("obsidian"));var Kl=Ae(Xl());function Vr(n){return n.map(t=>(0,Kl.default)(t).alpha(.25).hex())}function fn(n,t){var i,s;let e=t.createDiv({cls:"chart-error"});e.createEl("b",{text:"Couldn't render Chart:"}),e.createEl("pre").createEl("code",{text:(s=(i=n.toString)==null?void 0:i.call(n))!=null?s:n}),e.createEl("hr"),e.createEl("span").innerHTML="You might also want to look for further Errors in the Console: Press <kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>I</kbd> to open it."}function Zg(n){for(var t=window.atob(n),e=t.length,i=new Uint8Array(e),s=0;s<e;s++)i[s]=t.charCodeAt(s);return i.buffer}async function Zl(n,t,e,i,s){let r=await e.imageRenderer(n.getSelection(),s.imageSettings);console.log("image converted");let a=await t.vault.createBinary(await t.vault.getAvailablePathForAttachments(`Chart ${new Date().toDateString()}`,s.imageSettings.format.split("/").last(),i),Zg(r));console.log("Image saved"),n.replaceSelection(t.fileManager.generateMarkdownLink(a,i.path))}un.register(...Ul);var ps=class{constructor(t){this.settings=t}datasetPrep(t){var s,r,a;let e=[];for(let o=0;t.series.length>o;o++)e.push({label:(s=t.series[o].title)!=null?s:"",data:t.series[o].data,backgroundColor:t.labelColors?Vr(this.settings.colors):Vr(this.settings.colors)[o],borderColor:t.labelColors?this.settings.colors:this.settings.colors[o],borderWidth:1,fill:(r=t.fill)!=null?r:!1,tension:(a=t.tension)!=null?a:0});let i;return t.type=="radar"||t.type=="polarArea"?i={type:t.type,data:{labels:t.labels,datasets:e},options:{scales:{r:{grid:{color:"rgba(122,122,122,0.3)"},beginAtZero:t.beginAtZero}},plugins:{legend:{display:t.legend,position:t.legendPosition}},layout:{padding:t.padding}}}:t.type=="bar"||t.type=="line"?i={type:t.type,data:{labels:t.labels,datasets:e},options:{indexAxis:t.indexAxis,scales:{y:{min:t.yMin,max:t.yMax,reverse:t.yReverse,ticks:{display:t.yTickDisplay,padding:t.yTickPadding},display:t.yDisplay,stacked:t.stacked,beginAtZero:t.beginAtZero,grid:{color:"rgba(122,122,122,0.3)"},title:{display:t.yTitle,text:t.yTitle}},x:{min:t.xMin,max:t.xMax,reverse:t.xReverse,ticks:{display:t.xTickDisplay,padding:t.xTickPadding},display:t.xDisplay,stacked:t.stacked,grid:{color:"rgba(122,122,122,0.3)"},title:{display:t.xTitle,text:t.xTitle}}},plugins:{legend:{display:t.legend,position:t.legendPosition}},layout:{padding:t.padding}}}:i={type:t.type,data:{labels:t.labels,datasets:e},options:{plugins:{legend:{display:t.legend,position:t.legendPosition}},layout:{padding:t.padding}}},i}delay(t){return new Promise(e=>setTimeout(e,t))}async imageRenderer(t,e){let i=document.createElement("canvas"),s=i.getContext("2d"),r=this.datasetPrep(await(0,ds.parseYaml)(t.replace("```chart","").replace("```","").replace(/\t/g,"    ")));new un(s,r),document.body.append(i),await this.delay(250);let a=i.toDataURL(e.format,e.quality);return document.body.removeChild(i),a.substring(a.indexOf(",")+1)}renderRaw(t,e){var s;let i=e.createEl("canvas");try{let r=new un(i.getContext("2d"),t);return i.parentElement.style.width=(s=t.width)!=null?s:"100%",i.parentElement.style.margin="auto",r}catch(r){return fn(r,e),null}}renderFromYaml(t,e,i){i.addChild(new Jl(this.datasetPrep(t),e,this))}},Jl=class extends ds.MarkdownRenderChild{constructor(t,e,i){super(e);this.data=t,this.renderer=i}onload(){this.chart=this.renderer.renderRaw(this.data,this.containerEl)}onunload(){this.chart&&this.chart.destroy(),this.chart=null}};var gs={colors:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],contextMenu:!0,imageSettings:{format:"image/png",quality:.92}};var Qt=Ae(require("obsidian"));var Wr=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},Yr=function(){function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),ms=function(){function n(t,e){var i=[],s=!0,r=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(i.push(l.value),!(e&&i.length===e));s=!0);}catch(c){r=!0,a=c}finally{try{!s&&o.return&&o.return()}finally{if(r)throw a}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,t){for(var e=this;e.length<n;)e=t+e;return e};var Jg={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Ql(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=t>0?n.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):n.toString();return e||"0"}var Qg=function(){function n(t,e,i,s){Wr(this,n);var r=this;function a(l){if(l.startsWith("hsl")){var c=l.match(/([\-\d\.e]+)/g).map(Number),h=ms(c,4),f=h[0],p=h[1],m=h[2],v=h[3];v===void 0&&(v=1),f/=360,p/=100,m/=100,r.hsla=[f,p,m,v]}else if(l.startsWith("rgb")){var k=l.match(/([\-\d\.e]+)/g).map(Number),_=ms(k,4),E=_[0],T=_[1],I=_[2],F=_[3];F===void 0&&(F=1),r.rgba=[E,T,I,F]}else l.startsWith("#")?r.rgba=n.hexToRgb(l):r.rgba=n.nameToRgb(l)||n.hexToRgb(l)}if(t!==void 0)if(Array.isArray(t))this.rgba=t;else if(i===void 0){var o=t&&""+t;o&&a(o.toLowerCase())}else this.rgba=[t,e,i,s===void 0?1:s]}return Yr(n,[{key:"printRGB",value:function(e){var i=e?this.rgba:this.rgba.slice(0,3),s=i.map(function(r,a){return Ql(r,a===3?3:0)});return e?"rgba("+s+")":"rgb("+s+")"}},{key:"printHSL",value:function(e){var i=[360,100,100,1],s=["","%","%",""],r=e?this.hsla:this.hsla.slice(0,3),a=r.map(function(o,l){return Ql(o*i[l],l===3?3:1)+s[l]});return e?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(e){var i=this.hex;return e?i:i.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba,i=e.map(function(s,r){return r<3?s.toString(16):Math.round(s*255).toString(16)});return"#"+i.map(function(s){return s.padStart(2,"0")}).join("")},set:function(e){this.rgba=n.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var i=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!i.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var s=i.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(r){return parseInt(r,16)});return s[3]=s[3]/255,s}},{key:"nameToRgb",value:function(e){var i=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),s=Jg[i];return s===void 0?s:n.hexToRgb(s.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var i=ms(e,4),s=i[0],r=i[1],a=i[2],o=i[3];s/=255,r/=255,a/=255;var l=Math.max(s,r,a),c=Math.min(s,r,a),h=void 0,f=void 0,p=(l+c)/2;if(l===c)h=f=0;else{var m=l-c;switch(f=p>.5?m/(2-l-c):m/(l+c),l){case s:h=(r-a)/m+(r<a?6:0);break;case r:h=(a-s)/m+2;break;case a:h=(s-r)/m+4;break}h/=6}return[h,f,p,o]}},{key:"hslToRgb",value:function(e){var i=ms(e,4),s=i[0],r=i[1],a=i[2],o=i[3],l=void 0,c=void 0,h=void 0;if(r===0)l=c=h=a;else{var f=function(_,E,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?_+(E-_)*6*T:T<1/2?E:T<2/3?_+(E-_)*(2/3-T)*6:_},p=a<.5?a*(1+r):a+r-a*r,m=2*a-p;l=f(m,p,s+1/3),c=f(m,p,s),h=f(m,p,s-1/3)}var v=[l*255,c*255,h*255].map(Math.round);return v[3]=o,v}}]),n}(),tm=function(){function n(){Wr(this,n),this._events=[]}return Yr(n,[{key:"add",value:function(e,i,s){e.addEventListener(i,s,!1),this._events.push({target:e,type:i,handler:s})}},{key:"remove",value:function(e,i,s){this._events=this._events.filter(function(r){var a=!0;return e&&e!==r.target&&(a=!1),i&&i!==r.type&&(a=!1),s&&s!==r.handler&&(a=!1),a&&n._doRemove(r.target,r.type,r.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(e){return n._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,i,s){e.removeEventListener(i,s,!1)}}]),n}();function em(n){var t=document.createElement("div");return t.innerHTML=n,t.firstElementChild}function Gr(n,t,e){var i=!1;function s(l,c,h){return Math.max(c,Math.min(l,h))}function r(l,c,h){if(h&&(i=!0),!!i){l.preventDefault();var f=t.getBoundingClientRect(),p=f.width,m=f.height,v=c.clientX,k=c.clientY,_=s(v-f.left,0,p),E=s(k-f.top,0,m);e(_/p,E/m)}}function a(l,c){var h=l.buttons===void 0?l.which:l.buttons;h===1?r(l,l,c):i=!1}function o(l,c){l.touches.length===1?r(l,l.touches[0],c):i=!1}n.add(t,"mousedown",function(l){a(l,!0)}),n.add(t,"touchstart",function(l){o(l,!0)}),n.add(window,"mousemove",a),n.add(t,"touchmove",o),n.add(window,"mouseup",function(l){i=!1}),n.add(t,"touchend",function(l){i=!1}),n.add(t,"touchcancel",function(l){i=!1})}var nm=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,im=360,tc="keydown",bs="mousedown",qr="focusin";function De(n,t){return(t||document).querySelector(n)}function ec(n){n.preventDefault(),n.stopPropagation()}function Ur(n,t,e,i,s){n.add(t,tc,function(r){e.indexOf(r.key)>=0&&(s&&ec(r),i(r))})}var Xr=function(){function n(t){Wr(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new tm,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return Yr(n,[{key:"setOptions",value:function(e){var i=this;if(!e)return;var s=this.settings;function r(c,h,f){for(var p in c)f&&f.indexOf(p)>=0||(h[p]=c[p])}if(e instanceof HTMLElement)s.parent=e;else{s.parent&&e.parent&&s.parent!==e.parent&&(this._events.remove(s.parent),this._popupInited=!1),r(e,s),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var a=e.color||e.colour;a&&this._setColor(a)}var o=s.parent;if(o&&s.popup&&!this._popupInited){var l=function(h){return i.openHandler(h)};this._events.add(o,"click",l),Ur(this._events,o,[" ","Spacebar","Enter"],l),this._popupInited=!0}else e.parent&&!s.popup&&this.show()}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var i=e&&e.type===tc?this._domEdit:this.domElement;setTimeout(function(){return i.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var i=e&&e.type,s=!1;if(!e)s=!0;else if(i===bs||i===qr){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(s=!0)}else ec(e),s=!0;s&&this.hide()&&(this.settings.parent.style.pointerEvents="",i!==bs&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,i){this.closeHandler(),this.setOptions(e),i&&this.openHandler()}},{key:"setColor",value:function(e,i){this._setColor(e,{silent:i})}},{key:"_setColor",value:function(e,i){if(typeof e=="string"&&(e=e.trim()),!!e){i=i||{};var s=void 0;try{s=new Qg(e)}catch(a){if(i.failSilently)return;throw a}if(!this.settings.alpha){var r=s.hsla;r[3]=1,s.hsla=r}this.colour=this.color=s,this._setHSLA(null,null,null,null,i)}}},{key:"setColour",value:function(e,i){this.setColor(e,i)}},{key:"show",value:function(){var e=this.settings.parent;if(!e)return!1;if(this.domElement){var i=this._toggleDOM(!0);return this._setPosition(),i}var s=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',r=em(s);return this.domElement=r,this._domH=De(".picker_hue",r),this._domSL=De(".picker_sl",r),this._domA=De(".picker_alpha",r),this._domEdit=De(".picker_editor input",r),this._domSample=De(".picker_sample",r),this._domOkay=De(".picker_done button",r),this._domCancel=De(".picker_cancel button",r),r.classList.add("layout_"+this.settings.layout),this.settings.alpha||r.classList.add("no_alpha"),this.settings.editor||r.classList.add("no_editor"),this.settings.cancelButton||r.classList.add("no_cancel"),this._ifPopup(function(){return r.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,i=this,s=this.domElement,r=this._events;function a(c,h,f){r.add(c,h,f)}a(s,"click",function(c){return c.preventDefault()}),Gr(r,this._domH,function(c,h){return i._setHSLA(c)}),Gr(r,this._domSL,function(c,h){return i._setHSLA(null,c,1-h)}),this.settings.alpha&&Gr(r,this._domA,function(c,h){return i._setHSLA(null,null,null,1-h)});var o=this._domEdit;a(o,"input",function(c){i._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(o,"focus",function(c){var h=this;h.selectionStart===h.selectionEnd&&h.select()}),this._ifPopup(function(){var c=function(p){return e.closeHandler(p)};a(window,bs,c),a(window,qr,c),Ur(r,s,["Esc","Escape"],c);var h=function(p){e.__containedEvent=p.timeStamp};a(s,bs,h),a(s,qr,h),a(e._domCancel,"click",c)});var l=function(h){e._ifPopup(function(){return e.closeHandler(h)}),e.onDone&&e.onDone(e.colour)};a(this._domOkay,"click",l),Ur(r,s,["Enter"],l)}},{key:"_setPosition",value:function(){var e=this.settings.parent,i=this.domElement;e!==i.parentNode&&e.appendChild(i),this._ifPopup(function(s){getComputedStyle(e).position==="static"&&(e.style.position="relative");var r=s===!0?"popup_right":"popup_"+s;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===r?i.classList.add(a):i.classList.remove(a)}),i.classList.add(r)})}},{key:"_setHSLA",value:function(e,i,s,r,a){a=a||{};var o=this.colour,l=o.hsla;[e,i,s,r].forEach(function(c,h){(c||c===0)&&(l[h]=c)}),o.hsla=l,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(o)}},{key:"_updateUI",value:function(e){if(!this.domElement)return;e=e||{};var i=this.colour,s=i.hsla,r="hsl("+s[0]*im+", 100%, 50%)",a=i.hslString,o=i.hslaString,l=this._domH,c=this._domSL,h=this._domA,f=De(".picker_selector",l),p=De(".picker_selector",c),m=De(".picker_selector",h);function v(V,$,G){$.style.left=G*100+"%"}function k(V,$,G){$.style.top=G*100+"%"}v(l,f,s[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,v(c,p,s[1]),k(c,p,1-s[2]),c.style.color=a,k(h,m,1-s[3]);var _=a,E=_.replace("hsl","hsla").replace(")",", 0)"),T="linear-gradient("+[_,E]+")";if(this._domA.style.background=T+", "+nm,!e.fromEditor){var I=this.settings.editorFormat,F=this.settings.alpha,L=void 0;switch(I){case"rgb":L=i.printRGB(F);break;case"hsl":L=i.printHSL(F);break;default:L=i.printHex(F)}this._domEdit.value=L}this._domSample.style.color=o}},{key:"_ifPopup",value:function(e,i){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):i&&i()}},{key:"_toggleDOM",value:function(e){var i=this.domElement;if(!i)return!1;var s=e?"":"none",r=i.style.display!==s;return r&&(i.style.display=s),r}}]),n}();_s=document.createElement("style"),_s.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(_s),Xr.StyleElement=_s;var _s;var nc=class extends Qt.Modal{async onOpen(){let t=this.contentEl,e=await(0,Qt.request)({url:"https://raw.githubusercontent.com/phibr0/obsidian-charts/master/README.md"});await Qt.MarkdownRenderer.renderMarkdown(e.substring(e.indexOf("## Usage"),e.indexOf("## How to install")),t,null,null)}},Kr=class extends Qt.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}isColor(t){var e=new Option().style;return e.color=t,e.color==t}display(){let{containerEl:t,plugin:e}=this;t.empty(),t.createEl("h2",{text:"Settings - Obsidian Charts"}),t.createEl("h3",{text:"General"}),new Qt.Setting(t).setName("Read the Documentation").setDesc("Find out how to create all these beautiful Charts").addButton(r=>{r.setButtonText("Read").onClick(()=>new nc(this.app).open())}),new Qt.Setting(t).setName("Show Button in Context Menu").setDesc("If enabled, you will se a Button in your Editor Context Menu to open the Chart Creator.").addToggle(r=>{r.setValue(this.plugin.settings.contextMenu).onChange(async a=>{e.settings.contextMenu=a,await e.saveSettings()})}),new Qt.Setting(t).setName("Donate").setDesc("If you like this Plugin, consider donating to support continued development:").addButton(r=>{r.buttonEl.outerHTML='<a href="https://www.buymeacoffee.com/phibr0"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=phibr0&button_colour=5F7FFF&font_colour=ffffff&font_family=Inter&outline_colour=000000&coffee_colour=FFDD00"></a>'}),t.createEl("h3",{text:"Colors",attr:{style:"margin-bottom: 0"}});let i=t.createEl("p",{cls:"setting-item-description"});i.append("Set the Colors for your Charts. This will set the border Color and the inner Color will be the same, but with less opacity. This ensures better compatibility with Dark and Light Mode. ","You can use any ",i.createEl("a",{href:"https://www.w3schools.com/cssref/css_colors.asp",text:"valid CSS Color."})),e.settings.colors.forEach((r,a)=>{let o=document.createDocumentFragment();o.createSpan({text:"\u25CF",attr:{style:`color: ${r}`}}),o.appendText(` Color #${a+1}`),new Qt.Setting(t).setName(o).setDesc("This will be the border Color used in the Charts you create.").addButton(l=>{l.setButtonText("Change Color"),new Xr({parent:l.buttonEl,onDone:async c=>{this.plugin.settings.colors[a]=c.hex,await this.plugin.saveSettings(),this.display()},popup:"left",color:r,alpha:!1})}).addExtraButton(l=>{l.setIcon("trash").setTooltip("Remove").onClick(async()=>{this.plugin.settings.colors.remove(r),await this.plugin.saveSettings(),this.display()}),this.plugin.settings.colors.length===1&&l.setDisabled(!0)}).addExtraButton(l=>{l.setIcon("reset").setTooltip("Reset to default").onClick(async()=>{var c;this.plugin.settings.colors[a]=(c=gs.colors[a])!=null?c:"#ffffff",await this.plugin.saveSettings(),this.display()})})}),new Qt.Setting(t).addButton(r=>{r.setButtonText("Add Color").onClick(async()=>{this.plugin.settings.colors.push("#ffffff"),await this.plugin.saveSettings(),this.display()})}),t.createEl("h3",{text:"Chart to Image Converter"});let s=t.createEl("details");s.createEl("summary",{text:"How to use"}),s.createEl("img",{attr:{src:"https://media.discordapp.net/attachments/855181471643861002/897811615037136966/charttoimage.gif"}}),new Qt.Setting(t).setName("Image Format").setDesc("The Format to be used, when generating a Image from a Chart.").addDropdown(r=>{r.addOptions({"image/jpeg":"jpeg","image/png":"png","image/webp":"webp"}),r.setValue(e.settings.imageSettings.format),r.onChange(async a=>{e.settings.imageSettings.format=a,await e.saveSettings()})}),new Qt.Setting(t).setName("Image Quality").setDesc("If using a lossy format, set the Image Quality.").addSlider(r=>{r.setDynamicTooltip().setLimits(.01,1,.01).setValue(e.settings.imageSettings.quality).onChange(async a=>{e.settings.imageSettings.quality=a,await e.saveSettings()})})}};var vc=Ae(require("obsidian"));function En(){}function Zr(n){return n()}function ic(){return Object.create(null)}function tn(n){n.forEach(Zr)}function sc(n){return typeof n=="function"}function rc(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function ac(n){return Object.keys(n).length===0}var Vm=new Set;var oc=!1;function sm(){oc=!0}function rm(){oc=!1}function W(n,t){n.appendChild(t)}function lc(n,t,e){let i=am(n);if(!i.getElementById(t)){let s=Q("style");s.id=t,s.textContent=e,om(i,s)}}function am(n){if(!n)return document;let t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function om(n,t){W(n.head||n,t)}function bi(n,t,e){n.insertBefore(t,e||null)}function Rn(n){n.parentNode.removeChild(n)}function cc(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function Q(n){return document.createElement(n)}function lm(n){return document.createTextNode(n)}function Yt(){return lm(" ")}function le(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function nt(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function Jr(n){return n===""?null:+n}function cm(n){return Array.from(n.childNodes)}function Se(n,t){n.value=t??""}function ce(n,t,e,i){n.style.setProperty(t,e,i?"important":"")}function Qr(n,t){for(let e=0;e<n.options.length;e+=1){let i=n.options[e];if(i.__value===t){i.selected=!0;return}}n.selectedIndex=-1}function hc(n){let t=n.querySelector(":checked")||n.options[0];return t&&t.__value}function hm(n,t,e=!1){let i=document.createEvent("CustomEvent");return i.initCustomEvent(n,e,!1,t),i}var Wm=new Set;var vs;function ys(n){vs=n}function um(){if(!vs)throw new Error("Function called outside component initialization");return vs}function ta(){let n=um();return(t,e)=>{let i=n.$$.callbacks[t];if(i){let s=hm(t,e);i.slice().forEach(r=>{r.call(n,s)})}}}var _i=[];var xs=[],ws=[],uc=[],fm=Promise.resolve(),ea=!1;function dm(){ea||(ea=!0,fm.then(fc))}function vi(n){ws.push(n)}var na=!1,ia=new Set;function fc(){if(!na){na=!0;do{for(let n=0;n<_i.length;n+=1){let t=_i[n];ys(t),pm(t.$$)}for(ys(null),_i.length=0;xs.length;)xs.pop()();for(let n=0;n<ws.length;n+=1){let t=ws[n];ia.has(t)||(ia.add(t),t())}ws.length=0}while(_i.length);for(;uc.length;)uc.pop()();ea=!1,na=!1,ia.clear()}}function pm(n){if(n.fragment!==null){n.update(),tn(n.before_update);let t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(vi)}}var gm=new Set;function mm(n,t){n&&n.i&&(gm.delete(n),n.i(t))}var Ym=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Gm=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function bm(n,t,e,i){let{fragment:s,on_mount:r,on_destroy:a,after_update:o}=n.$$;s&&s.m(t,e),i||vi(()=>{let l=r.map(Zr).filter(sc);a?a.push(...l):tn(l),n.$$.on_mount=[]}),o.forEach(vi)}function dc(n,t){let e=n.$$;e.fragment!==null&&(tn(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function _m(n,t){n.$$.dirty[0]===-1&&(_i.push(n),dm(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function pc(n,t,e,i,s,r,a,o=[-1]){let l=vs;ys(n);let c=n.$$={fragment:null,ctx:null,props:r,update:En,not_equal:s,bound:ic(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:ic(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let h=!1;if(c.ctx=e?e(n,t.props||{},(f,p,...m)=>{let v=m.length?m[0]:p;return c.ctx&&s(c.ctx[f],c.ctx[f]=v)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](v),h&&_m(n,f)),p}):[],c.update(),h=!0,tn(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){sm();let f=cm(t.target);c.fragment&&c.fragment.l(f),f.forEach(Rn)}else c.fragment&&c.fragment.c();t.intro&&mm(n.$$.fragment),bm(n,t.target,t.anchor,t.customElement),rm(),fc()}ys(l)}var vm;typeof HTMLElement=="function"&&(vm=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:n}=this.$$;this.$$.on_disconnect=n.map(Zr).filter(sc);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(n,t,e){this[n]=e}disconnectedCallback(){tn(this.$$.on_disconnect)}$destroy(){dc(this,1),this.$destroy=En}$on(n,t){let e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{let i=e.indexOf(t);i!==-1&&e.splice(i,1)}}$set(n){this.$$set&&!ac(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}});var sa=class{$destroy(){dc(this,1),this.$destroy=En}$on(t,e){let i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{let s=i.indexOf(e);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!ac(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var ks=Ae(require("obsidian"));function ym(n){lc(n,"svelte-1tlkntj",".addMoreButtonContainer.svelte-1tlkntj{display:flex;justify-content:flex-end;margin-top:0.4rem}.subDesc.svelte-1tlkntj{font-size:smaller;opacity:0.5;margin:0}.desc.svelte-1tlkntj{padding-right:1em}.mainDesc.svelte-1tlkntj{margin:0}table.svelte-1tlkntj{margin:auto}.controlElement.svelte-1tlkntj{text-align:center}.chart-modal.svelte-1tlkntj{overflow-y:auto}.modalColumn.svelte-1tlkntj{display:flex;gap:2em}.chartPreview.svelte-1tlkntj{width:30vw;display:flex;justify-content:center;align-items:center}")}function gc(n,t,e){let i=n.slice();return i[27]=t[e],i[28]=t,i[29]=e,i}function mc(n){let t,e,i,s,r,a,o,l,c,h,f;function p(){n[20].call(r,n[28],n[29])}function m(){n[21].call(c,n[28],n[29])}return{c(){t=Q("tr"),e=Q("td"),e.innerHTML=`<p class="mainDesc svelte-1tlkntj">Y Axis</p> 
              <p class="subDesc svelte-1tlkntj">Set Data Fields (Comma seperated)</p>`,i=Yt(),s=Q("td"),r=Q("input"),a=Yt(),o=Q("br"),l=Yt(),c=Q("input"),nt(e,"class","desc svelte-1tlkntj"),nt(r,"type","text"),nt(r,"placeholder","Name"),nt(c,"type","text"),nt(c,"placeholder","1, -2, 11, 5"),ce(c,"margin-top","3px"),nt(s,"class","controlElement svelte-1tlkntj")},m(v,k){bi(v,t,k),W(t,e),W(t,i),W(t,s),W(s,r),Se(r,n[27].dataTitle),W(s,a),W(s,o),W(s,l),W(s,c),Se(c,n[27].data),h||(f=[le(r,"input",p),le(c,"input",m)],h=!0)},p(v,k){n=v,k&128&&r.value!==n[27].dataTitle&&Se(r,n[27].dataTitle),k&128&&c.value!==n[27].data&&Se(c,n[27].data)},d(v){v&&Rn(t),h=!1,tn(f)}}}function xm(n){let t,e,i,s,r,a,o,l,c,h,f,p,m,v,k,_,E,T,I,F,L,V,$,G,K,et,lt,rt,vt,st,J,ht,he,te,ne,It,Ft,Ht,zt,Gt,w,b,y,O,P,D,q,H,U,Z,mt,Rt,yt,Bt,jt,ie,ye,ge,dn,Oe,Ne,yi,xi,Ln,Ee,en,$e,wi,Re=n[7],Kt=[];for(let xt=0;xt<Re.length;xt+=1)Kt[xt]=mc(gc(n,Re,xt));return{c(){t=Q("div"),e=Q("h3"),e.textContent="Create a new Chart",i=Yt(),s=Q("div"),r=Q("div"),a=Q("table"),o=Q("tr"),l=Q("td"),l.innerHTML=`<p class="mainDesc svelte-1tlkntj">Chart Type</p> 
            <p class="subDesc svelte-1tlkntj">Choose a Chart Type</p>`,c=Q("td"),h=Q("select"),f=Q("option"),f.textContent="Bar",p=Q("option"),p.textContent="Line",m=Q("option"),m.textContent="Pie",v=Q("option"),v.textContent="Doughnut",k=Q("option"),k.textContent="Radar",_=Q("option"),_.textContent="Polar Area",E=Yt(),T=Q("tr"),I=Q("td"),I.innerHTML=`<p class="mainDesc svelte-1tlkntj">Smoothness</p> 
            <p class="subDesc svelte-1tlkntj">Changes the smoothness of the Chart</p>`,F=Q("td"),L=Q("input"),V=Yt(),$=Q("tr"),G=Q("td"),G.innerHTML=`<p class="mainDesc svelte-1tlkntj">Width</p> 
            <p class="subDesc svelte-1tlkntj">Changes the horizontal width</p>`,K=Q("td"),et=Q("input"),lt=Yt(),rt=Q("tr"),vt=Q("td"),vt.innerHTML=`<p class="mainDesc svelte-1tlkntj">Fill</p> 
            <p class="subDesc svelte-1tlkntj">Fill the underside of the Chart</p>`,st=Q("td"),J=Q("input"),ht=Yt(),he=Q("tr"),te=Q("td"),te.innerHTML=`<p class="mainDesc svelte-1tlkntj">Distinct Colors</p> 
            <p class="subDesc svelte-1tlkntj">Use distinct Colors for each Label</p>`,ne=Q("td"),It=Q("input"),Ft=Yt(),Ht=Q("tr"),zt=Q("td"),zt.innerHTML=`<p class="mainDesc svelte-1tlkntj">Start at Zero</p> 
            <p class="subDesc svelte-1tlkntj">Don&#39;t cut the graph at the bottom</p>`,Gt=Q("td"),w=Q("input"),b=Yt(),y=Q("hr"),O=Yt(),P=Q("table"),D=Q("tr"),q=Q("td"),q.innerHTML=`<p class="mainDesc svelte-1tlkntj">X Axis</p> 
            <p class="subDesc svelte-1tlkntj">Set Labels (Comma seperated)</p>`,H=Yt(),U=Q("td"),Z=Q("input"),mt=Q("br"),Rt=Yt(),yt=Q("hr"),Bt=Yt(),jt=Q("table");for(let xt=0;xt<Kt.length;xt+=1)Kt[xt].c();ie=Yt(),ye=Q("div"),ge=Q("button"),ge.textContent="Add more",dn=Yt(),Oe=Q("div"),Ne=Q("div"),yi=Yt(),xi=Q("hr"),Ln=Yt(),Ee=Q("div"),en=Q("button"),en.textContent="Insert Chart",nt(l,"class","desc svelte-1tlkntj"),f.__value="bar",f.value=f.__value,p.__value="line",p.value=p.__value,m.__value="pie",m.value=m.__value,v.__value="doughnut",v.value=v.__value,k.__value="radar",k.value=k.__value,_.__value="polarArea",_.value=_.__value,nt(h,"name","Chart Types"),nt(h,"id","chart-types"),nt(h,"class","dropdown"),n[0]===void 0&&vi(()=>n[13].call(h)),nt(c,"class","controlElement svelte-1tlkntj"),nt(I,"class","desc svelte-1tlkntj"),nt(L,"type","range"),nt(L,"min","0"),nt(L,"max","100"),nt(L,"class","slider"),nt(F,"class","controlElement svelte-1tlkntj"),nt(G,"class","desc svelte-1tlkntj"),nt(et,"type","range"),nt(et,"min","20"),nt(et,"max","100"),nt(et,"class","slider"),nt(K,"class","controlElement svelte-1tlkntj"),nt(vt,"class","desc svelte-1tlkntj"),nt(J,"type","checkbox"),nt(J,"class","task-list-item-checkbox"),ce(J,"width","16px"),ce(J,"height","16px"),nt(st,"class","controlElement svelte-1tlkntj"),nt(te,"class","desc svelte-1tlkntj"),nt(It,"type","checkbox"),nt(It,"class","task-list-item-checkbox"),ce(It,"width","16px"),ce(It,"height","16px"),nt(ne,"class","controlElement svelte-1tlkntj"),nt(zt,"class","desc svelte-1tlkntj"),nt(w,"type","checkbox"),nt(w,"class","task-list-item-checkbox"),ce(w,"width","16px"),ce(w,"height","16px"),nt(Gt,"class","controlElement svelte-1tlkntj"),ce(a,"width","100%"),nt(a,"class","svelte-1tlkntj"),nt(q,"class","desc svelte-1tlkntj"),nt(Z,"type","text"),nt(Z,"placeholder","Monday, Tuesday, ..."),nt(U,"class","controlElement svelte-1tlkntj"),ce(P,"width","100%"),nt(P,"class","svelte-1tlkntj"),nt(ye,"class","addMoreButtonContainer svelte-1tlkntj"),ce(jt,"width","100%"),nt(jt,"class","svelte-1tlkntj"),nt(Ne,"id","preview"),nt(Oe,"class","chartPreview svelte-1tlkntj"),nt(s,"class","modalColumn svelte-1tlkntj"),nt(t,"class","chart-modal svelte-1tlkntj"),nt(en,"class","mod-cta"),ce(Ee,"display","flex"),ce(Ee,"justify-content","center"),ce(Ee,"align-items","center")},m(xt,ee){bi(xt,t,ee),W(t,e),W(t,i),W(t,s),W(s,r),W(r,a),W(a,o),W(o,l),W(o,c),W(c,h),W(h,f),W(h,p),W(h,m),W(h,v),W(h,k),W(h,_),Qr(h,n[0]),W(a,E),W(a,T),W(T,I),W(T,F),W(F,L),Se(L,n[1]),W(a,V),W(a,$),W($,G),W($,K),W(K,et),Se(et,n[2]),W(a,lt),W(a,rt),W(rt,vt),W(rt,st),W(st,J),J.checked=n[3],W(a,ht),W(a,he),W(he,te),W(he,ne),W(ne,It),It.checked=n[4],W(a,Ft),W(a,Ht),W(Ht,zt),W(Ht,Gt),W(Gt,w),w.checked=n[5],W(r,b),W(r,y),W(r,O),W(r,P),W(P,D),W(D,q),W(D,H),W(D,U),W(U,Z),Se(Z,n[6]),W(U,mt),W(r,Rt),W(r,yt),W(r,Bt),W(r,jt);for(let Vt=0;Vt<Kt.length;Vt+=1)Kt[Vt].m(jt,null);W(jt,ie),W(jt,ye),W(ye,ge),W(s,dn),W(s,Oe),W(Oe,Ne),n[23](Ne),W(t,yi),W(t,xi),bi(xt,Ln,ee),bi(xt,Ee,ee),W(Ee,en),$e||(wi=[le(h,"change",n[13]),le(L,"change",n[14]),le(L,"input",n[14]),le(et,"change",n[15]),le(et,"input",n[15]),le(J,"change",n[16]),le(It,"change",n[17]),le(w,"change",n[18]),le(Z,"input",n[19]),le(ge,"click",n[22]),le(en,"click",n[9])],$e=!0)},p(xt,[ee]){if(ee&1&&Qr(h,xt[0]),ee&2&&Se(L,xt[1]),ee&4&&Se(et,xt[2]),ee&8&&(J.checked=xt[3]),ee&16&&(It.checked=xt[4]),ee&32&&(w.checked=xt[5]),ee&64&&Z.value!==xt[6]&&Se(Z,xt[6]),ee&128){Re=xt[7];let Vt;for(Vt=0;Vt<Re.length;Vt+=1){let ki=gc(xt,Re,Vt);Kt[Vt]?Kt[Vt].p(ki,ee):(Kt[Vt]=mc(ki),Kt[Vt].c(),Kt[Vt].m(jt,ie))}for(;Vt<Kt.length;Vt+=1)Kt[Vt].d(1);Kt.length=Re.length}},i:En,o:En,d(xt){xt&&Rn(t),cc(Kt,xt),n[23](null),xt&&Rn(Ln),xt&&Rn(Ee),$e=!1,tn(wi)}}}function wm(n,t,e){let{editor:i}=t,{renderer:s}=t,r=ta(),a="bar",o=null,l=20,c=80,h=!1,f=!1,p=!1,m="",v=[{dataTitle:"",data:""}],k,_=null,E=(0,ks.debounce)((st,J)=>{var ht;o&&o.destroy(),(ht=_.lastElementChild)===null||ht===void 0||ht.remove(),o=s.renderRaw(s.datasetPrep((0,ks.parseYaml)(st)),J)},500,!0);function T(){let st=i.getDoc(),J=st.getCursor();o.destroy(),st.replaceRange("```chart\n"+k+"\n```",J),r("close")}function I(){a=hc(this),e(0,a)}function F(){l=Jr(this.value),e(1,l)}function L(){c=Jr(this.value),e(2,c)}function V(){h=this.checked,e(3,h)}function $(){f=this.checked,e(4,f)}function G(){p=this.checked,e(5,p)}function K(){m=this.value,e(6,m)}function et(st,J){st[J].dataTitle=this.value,e(7,v)}function lt(st,J){st[J].data=this.value,e(7,v)}let rt=()=>e(7,v=[...v,{data:"",dataTitle:""}]);function vt(st){xs[st?"unshift":"push"](()=>{_=st,e(8,_)})}return n.$$set=st=>{"editor"in st&&e(10,i=st.editor),"renderer"in st&&e(11,s=st.renderer)},n.$$.update=()=>{if(n.$$.dirty&255){t:e(12,k=`type: ${a}
labels: [${m}]
series:
${v.map(st=>`  - title: ${st.dataTitle}
    data: [${st.data}]`).join(`
`)}
tension: ${l/100}
width: ${c}%
labelColors: ${f}
fill: ${h}
beginAtZero: ${p}`)}if(n.$$.dirty&4352){t:if(_)try{E(k,_)}catch(st){fn(st,_)}}},[a,l,c,h,f,p,m,v,_,T,i,s,k,I,F,L,V,$,G,K,et,lt,rt,vt]}var bc=class extends sa{constructor(t){super();pc(this,t,wm,xm,rc,{editor:10,renderer:11},ym)}},_c=bc;var Ss=class extends vc.Modal{constructor(t,e,i,s){super(t);this.settings=i,this.view=e,this.renderer=s}onOpen(){let{contentEl:t,view:e,settings:i,renderer:s}=this;t.empty(),new _c({target:t,props:{editor:e.editor,renderer:s}}).$on("close",()=>this.close())}onClose(){let{contentEl:t}=this;t.empty()}};var yc=Ae(require("obsidian")),xc={chart:'<svg xmlns="http://www.w3.org/2000/svg" fill-opacity="0.0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>'},wc=()=>{Object.keys(xc).forEach(n=>{(0,yc.addIcon)(n,xc[n])})};var Cc=Ae(require("obsidian")),Tc=Ae(Mc());async function aa(n,t){let e;try{e=Tc.Extractor.extractObject(n.getSelection(),t,!1)}catch(a){throw new Cc.Notice("Table malformed"),a}let i=Object.keys(Object.values(e)[0]),s=Object.keys(e).map(a=>({dataTitle:a,data:Object.values(e[a]).join(",")})),r=`\`\`\`chart
type: bar
labels: [${i}]
series:
${s.map(a=>`  - title: ${a.dataTitle}
    data: [${a.data}]`).join(`
`)}
width: 80%
beginAtZero: true
\`\`\``;n.replaceSelection(r)}var oa=class extends Me.Plugin{constructor(){super(...arguments);this.postprocessor=async(t,e,i)=>{let s;try{s=await(0,Me.parseYaml)(t)}catch(r){fn(r,e);return}if(!s||!s.labels||!s.series||!s.type){fn("Missing type, labels or series",e);return}this.renderer.renderFromYaml(s,e,i)}}async loadSettings(){this.settings=Object.assign({},gs,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async onload(){console.log("loading plugin: Obsidian Charts"),await this.loadSettings(),wc(),this.renderer=new ps(this.settings),window.renderChart=this.renderer.renderRaw,this.addSettingTab(new Kr(this.app,this)),this.addCommand({id:"creation-helper",name:"Insert new Chart",checkCallback:t=>{let e=this.app.workspace.activeLeaf;return e.view instanceof Me.MarkdownView?(t||new Ss(this.app,e.view,this.settings,this.renderer).open(),!0):!1}}),this.addCommand({id:"chart-from-table-column",name:"Create Chart from Table (Column oriented Layout)",editorCheckCallback:(t,e,i)=>{let s=e.getSelection();return i instanceof Me.MarkdownView&&s.split(`
`).length>=3&&s.split("|").length>=2?(t||aa(e,"columns"),!0):!1}}),this.addCommand({id:"chart-from-table-row",name:"Create Chart from Table (Row oriented Layout)",editorCheckCallback:(t,e,i)=>i instanceof Me.MarkdownView&&e.getSelection().split(`
`).length>=3&&e.getSelection().split("|").length>=2?(t||aa(e,"rows"),!0):!1}),this.addCommand({id:"chart-to-svg",name:"Create Image from Chart",editorCheckCallback:(t,e,i)=>i instanceof Me.MarkdownView&&e.getSelection().startsWith("```chart")&&e.getSelection().endsWith("```")?(t||(new Me.Notice("Rendering Chart..."),Zl(e,this.app,this.renderer,i.file,this.settings)),!0):!1}),this.registerMarkdownCodeBlockProcessor("chart",this.postprocessor),this.registerMarkdownCodeBlockProcessor("advanced-chart",async(t,e)=>this.renderer.renderRaw(await JSON.parse(t),e)),this.registerEvent(this.app.workspace.on("editor-menu",(t,e,i)=>{i&&this.settings.contextMenu&&t.addItem(s=>{s.setTitle("Insert Chart").setIcon("chart").onClick(r=>{new Ss(this.app,i,this.settings,this.renderer).open()})})}))}onunload(){console.log("unloading plugin: Obsidian Charts")}};
/*
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021,  . (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
/*!
 * Chart.js v3.6.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021,  . (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
/**
 * @license
 *
 * Copyright (c) 2018-2021,  . (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
